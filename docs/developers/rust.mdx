---
sidebar_position: 10
slug: /developers/rs
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Rust

## Install

Add the following line to your Cargo.toml file:

```toml
switchboard-aggregator = "0.1.7"
```

[Crates.io - switchboard-aggregator](https://crates.io/crates/switchboard-aggregator)

## Reading Feeds

```rust
use switchboard_aggregator::AggregatorAccountData;
use std::convert::TryInto;

let feed_result = AggregatorAccountData::new(feed_account_info)?.get_result()?;

let decimal: f64 = feed_result.try_into()?;
```

## Examples

<Tabs>
<TabItem value="anchor" label="Anchor" default>

```rust
#[allow(unaligned_references)]
use anchor_lang::prelude::*;
use std::convert::TryInto;
pub use switchboard_aggregator::AggregatorAccountData;

declare_id!("Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS");

#[derive(Accounts)]
#[instruction(params: ReadResultParams)]
pub struct ReadResult<'info> {
    pub aggregator: AccountInfo<'info>,
}

#[derive(Clone, AnchorSerialize, AnchorDeserialize)]
pub struct ReadResultParams {}

#[program]
pub mod anchor_feed_parser {
    use super::*;

    pub fn read_result(ctx: Context<ReadResult>, _params: ReadResultParams) -> ProgramResult {
        let aggregator = &ctx.accounts.aggregator;
        let val: f64 = AggregatorAccountData::new(aggregator)?.get_result()?.try_into()?;

        msg!("Current feed result is {}!", val);
        Ok(())
    }
}
```

</TabItem>

<TabItem value="solana" label="Solana" default>

```rust
pub use anchor_lang::prelude::*;
pub use solana_program::{
    account_info::{next_account_info, AccountInfo},
    entrypoint,
    entrypoint::ProgramResult,
    msg,
};
use std::convert::TryInto;
pub use switchboard_aggregator::AggregatorAccountData;

entrypoint!(process_instruction);

fn process_instruction<'a>(
    _program_id: &'a Pubkey,
    accounts: &'a [AccountInfo],
    _instruction_data: &'a [u8],
) -> ProgramResult {
    let accounts_iter = &mut accounts.iter();
    let aggregator = next_account_info(accounts_iter)?;

    let val: f64 = AggregatorAccountData::new(aggregator)?.get_result()?.try_into()?;

    msg!("Current feed result is {}!", val);
    Ok(())
}
```

</TabItem>
</Tabs>
