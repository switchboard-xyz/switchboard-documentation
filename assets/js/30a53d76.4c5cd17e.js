"use strict";(self.webpackChunk_switchboard_xyz_v2_docs=self.webpackChunk_switchboard_xyz_v2_docs||[]).push([[3069],{5310:function(e,t,a){a.d(t,{Z:function(){return k}});var n=a(5773),r=a(808),o=a(7378),i=a(8944),l=a(5642),c=a(1652),s=a(3772),u=a(6206),p=a(4246);const d=["className","component"];var m=a(4907);const h=function(e={}){const{defaultTheme:t,defaultClassName:a="MuiBox-root",generateClassName:m,styleFunctionSx:h=c.Z}=e,k=(0,l.ZP)("div")(h);return o.forwardRef((function(e,o){const l=(0,u.Z)(t),c=(0,s.Z)(e),{className:h,component:v="div"}=c,g=(0,r.Z)(c,d);return(0,p.jsx)(k,(0,n.Z)({as:v,ref:o,className:(0,i.Z)(h,m?m(a):a),theme:l},g))}))}({defaultTheme:(0,a(2905).Z)(),defaultClassName:"MuiBox-root",generateClassName:m.Z.generate});var k=h},3772:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(5773),r=a(808),o=a(3143),i=a(7351);const l=["sx"];function c(e){const{sx:t}=e,a=(0,r.Z)(e,l),{systemProps:c,otherProps:s}=(e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((a=>{i.Gc[a]?t.systemProps[a]=e[a]:t.otherProps[a]=e[a]})),t})(a);let u;return u=Array.isArray(t)?[c,...t]:"function"==typeof t?(...e)=>{const a=t(...e);return(0,o.P)(a)?(0,n.Z)({},c,a):c}:(0,n.Z)({},c,t),(0,n.Z)({},s,{sx:u})}},6003:function(e,t,a){var n=a(5310),r=a(7378),o=a(1142),i=a(2638);t.Z=function(e){var t=(0,i.Z)().isDarkTheme,a="inherit";e.lightBg&&!t&&(a=e.lightBg),e.darkBg&&t&&(a=e.darkBg);var l={};return e.sx&&(l=Object.assign({backgroundColor:a,m:"auto",display:"flex"},l,e.sx)),r.createElement(n.Z,{component:"img",sx:l,src:(0,o.Z)(e.img)})}},323:function(e,t,a){a.r(t),a.d(t,{contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return c},metadata:function(){return u},toc:function(){return p}});var n=a(5773),r=a(808),o=(a(7378),a(5318)),i=(a(1257),a(6003)),l=["components"],c={sidebar_position:10,slug:"/oracle/account",title:"Oracle Account"},s="Oracle Account",u={unversionedId:"oracle/oracle-account",id:"oracle/oracle-account",title:"Oracle Account",description:"Create Oracle",source:"@site/docs/oracle/oracle-account.mdx",sourceDirName:"oracle",slug:"/oracle/account",permalink:"/oracle/account",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,slug:"/oracle/account",title:"Oracle Account"},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/oracle"},next:{title:"Docker",permalink:"/oracle/docker"}},p=[{value:"Create Oracle",id:"create-oracle",children:[],level:2},{value:"Fund Oracle",id:"fund-oracle",children:[],level:2},{value:"Withdrawing",id:"withdrawing",children:[],level:2},{value:"DAO Approval",id:"dao-approval",children:[],level:2}],d={toc:p};function m(e){var t=e.components,a=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"oracle-account"},"Oracle Account"),(0,o.kt)("h2",{id:"create-oracle"},"Create Oracle"),(0,o.kt)("p",null,"With the ",(0,o.kt)("a",{parentName:"p",href:"../developers/cli/"},"Switchboard V2 CLI")," installed, run the following command, where"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"QUEUEKEY")," is the oracle queue you will be joining. See ",(0,o.kt)("a",{parentName:"li",href:"../program"},"Program")," for a list of available queues."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"PAYERKEYPAIR")," is the filesystem path to your wallet that will pay for the new account. Keypair will default to the oracle authority if authority flag is not provided.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sbv2 oracle:create QUEUEKEY --keypair PAYERKEYPAIR\n\n# sbv2 oracle:create GhYg3R1V6DmJbwuc57qZeoYG6gUuvCotUF1zU3WCj98U \\\n# --keypair ../payer-and-authority-keypair.json\n")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"You can print your oracle account with the command ",(0,o.kt)("inlineCode",{parentName:"p"},"sbv2 oracle:print ORACLEKEY")," to view your oracle metrics, token account, and current permissions"))),(0,o.kt)("h2",{id:"fund-oracle"},"Fund Oracle"),(0,o.kt)("p",null,"You will need to provide the minimum stake before being permitted to an oracle queue. Switchboard V2 currently uses wrapped SOL for any staking and rewards. First you will need to create a token account for your wallet that will provide the funds. ",(0,o.kt)("strong",{parentName:"p"},"NOTE:")," You can skip this step if you have a wallet that has wrapped SOL"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"spl-token wrap 12 PAYERKEYPAIR\n")),(0,o.kt)("p",null,"Then we will send the tokens to your oracle account token wallet, where"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ORACLEKEY")," is the public key of your oracle account that was created above"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AMOUNT")," is the number of tokens you wish to deposit"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"PAYERKEYPAIR")," is the filesystem path to your wallet that contains the tokens")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sbv2 oracle:deposit ORACLEKEY AMOUNT --keypair PAYERKEYPAIR\n# sbv2 oracle:deposit 9CmLriMhykZ8xAoNTSHjHbk6SkuMhie1NCZn9P6LCuZ4 100000000 --keypair ../payer-keypair.json\n")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The spl-token command accepts a decimal number such as 1.5 while the oracle deposit command accepts the raw integer such as 150000000"))),(0,o.kt)("h2",{id:"withdrawing"},"Withdrawing"),(0,o.kt)("p",null,"Run the following command to withdraw tokens from your oracle account. If you withdraw more than the minimum stake, your oracle will be automatically removed from the oracle queue."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sbv2 oracle:withdraw ORACLEKEY AMOUNT --keypair AUTHORITYKEYPAIR\n")),(0,o.kt)("h2",{id:"dao-approval"},"DAO Approval"),(0,o.kt)("p",null,"Oracles must first be approved by the DAO before receiving any aggregator update request."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Oracle Account")," - Create oracle account using the oracleQueue public key"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stake Account")," - Fund the staking account"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Submit DAO Approval")," - Submit DAO approval to the discord for community voting.")),(0,o.kt)(i.Z,{img:"/img/adding_new_oracles.png",mdxType:"MarkdownImage"}),"```")}m.isMDXComponent=!0}}]);