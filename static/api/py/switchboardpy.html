<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 11.0.0"/>
    <title>switchboardpy API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(:first-of-type){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{filter:opacity(1);}.pdoc details:not([open]){height:0;}.pdoc details > summary{position:absolute;top:-35px;right:0;font-size:.75rem;color:var(--muted);padding:0 .7em;user-select:none;cursor:pointer;}.pdoc details > summary:focus{outline:0;}.pdoc > section:first-of-type details > summary{top:-20px;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;user-select:none;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:.5rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>




        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#AccountParams">AccountParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AccountParams.__init__">AccountParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#AccountParams.program">program</a>
                        </li>
                        <li>
                                <a class="variable" href="#AccountParams.public_key">public_key</a>
                        </li>
                        <li>
                                <a class="variable" href="#AccountParams.keypair">keypair</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AggregatorAccount">AggregatorAccount</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AggregatorAccount.__init__">AggregatorAccount</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorAccount.keypair">keypair</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.get_name">get_name</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.load_data">load_data</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.load_history">load_history</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.get_latest_value">get_latest_value</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.get_latest_feed_timestamp">get_latest_feed_timestamp</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.should_report_value">should_report_value</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.get_confirmed_round_results">get_confirmed_round_results</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.produce_job_hash">produce_job_hash</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.load_jobs">load_jobs</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.load_hashes">load_hashes</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.size">size</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.create">create</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.set_history_buffer">set_history_buffer</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.open_round">open_round</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.set_min_jobs">set_min_jobs</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.add_job">add_job</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.set_batch_size">set_batch_size</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.set_variance_threshold">set_variance_threshold</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.set_min_oracles">set_min_oracles</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.set_update_interval">set_update_interval</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.lock">lock</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.set_authority">set_authority</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.remove_job">remove_job</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.get_oracle_index">get_oracle_index</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorAccount.save_result_txn">save_result_txn</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AggregatorHistoryRow">AggregatorHistoryRow</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AggregatorHistoryRow.__init__">AggregatorHistoryRow</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorHistoryRow.value">value</a>
                        </li>
                        <li>
                                <a class="function" href="#AggregatorHistoryRow.from_buffer">from_buffer</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AggregatorInitParams">AggregatorInitParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AggregatorInitParams.__init__">AggregatorInitParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.batch_size">batch_size</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.min_required_oracle_results">min_required_oracle_results</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.min_required_job_results">min_required_job_results</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.min_update_delay_seconds">min_update_delay_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.queue_account">queue_account</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.metadata">metadata</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.start_after">start_after</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.variance_threshold">variance_threshold</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.force_report_period">force_report_period</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.expiration">expiration</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.keypair">keypair</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.author_wallet">author_wallet</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.authority">authority</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorInitParams.disable_crank">disable_crank</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AggregatorOpenRoundParams">AggregatorOpenRoundParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AggregatorOpenRoundParams.__init__">AggregatorOpenRoundParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorOpenRoundParams.oracle_queue_account">oracle_queue_account</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorOpenRoundParams.payout_wallet">payout_wallet</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorOpenRoundParams.jitter">jitter</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AggregatorSaveResultParams">AggregatorSaveResultParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AggregatorSaveResultParams.__init__">AggregatorSaveResultParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorSaveResultParams.oracle_idx">oracle_idx</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorSaveResultParams.error">error</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorSaveResultParams.value">value</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorSaveResultParams.min_response">min_response</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorSaveResultParams.max_response">max_response</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorSaveResultParams.jobs">jobs</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorSaveResultParams.queue_authority">queue_authority</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorSaveResultParams.token_mint">token_mint</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AggregatorSetHistoryBufferParams">AggregatorSetHistoryBufferParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AggregatorSetHistoryBufferParams.__init__">AggregatorSetHistoryBufferParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorSetHistoryBufferParams.size">size</a>
                        </li>
                        <li>
                                <a class="variable" href="#AggregatorSetHistoryBufferParams.authority">authority</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CrankAccount">CrankAccount</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CrankAccount.__init__">CrankAccount</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankAccount.keypair">keypair</a>
                        </li>
                        <li>
                                <a class="function" href="#CrankAccount.size">size</a>
                        </li>
                        <li>
                                <a class="function" href="#CrankAccount.load_data">load_data</a>
                        </li>
                        <li>
                                <a class="function" href="#CrankAccount.create">create</a>
                        </li>
                        <li>
                                <a class="function" href="#CrankAccount.push">push</a>
                        </li>
                        <li>
                                <a class="function" href="#CrankAccount.pop_txn">pop_txn</a>
                        </li>
                        <li>
                                <a class="function" href="#CrankAccount.pop">pop</a>
                        </li>
                        <li>
                                <a class="function" href="#CrankAccount.peak_next_with_time">peak_next_with_time</a>
                        </li>
                        <li>
                                <a class="function" href="#CrankAccount.peak_next_ready">peak_next_ready</a>
                        </li>
                        <li>
                                <a class="function" href="#CrankAccount.peak_next">peak_next</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CrankPopParams">CrankPopParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CrankPopParams.__init__">CrankPopParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankPopParams.payout_wallet">payout_wallet</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankPopParams.queue_pubkey">queue_pubkey</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankPopParams.queue_authority">queue_authority</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankPopParams.crank">crank</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankPopParams.queue">queue</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankPopParams.token_mint">token_mint</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankPopParams.ready_pubkeys">ready_pubkeys</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankPopParams.nonce">nonce</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankPopParams.fail_open_on_mismatch">fail_open_on_mismatch</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CrankInitParams">CrankInitParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CrankInitParams.__init__">CrankInitParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankInitParams.queue_account">queue_account</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankInitParams.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankInitParams.metadata">metadata</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankInitParams.max_rows">max_rows</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CrankPushParams">CrankPushParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CrankPushParams.__init__">CrankPushParams</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CrankRow">CrankRow</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CrankRow.__init__">CrankRow</a>
                        </li>
                        <li>
                                <a class="variable" href="#CrankRow.pubkey">pubkey</a>
                        </li>
                        <li>
                                <a class="function" href="#CrankRow.from_bytes">from_bytes</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#JobAccount">JobAccount</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#JobAccount.__init__">JobAccount</a>
                        </li>
                        <li>
                                <a class="variable" href="#JobAccount.keypair">keypair</a>
                        </li>
                        <li>
                                <a class="function" href="#JobAccount.load_data">load_data</a>
                        </li>
                        <li>
                                <a class="function" href="#JobAccount.load_job">load_job</a>
                        </li>
                        <li>
                                <a class="function" href="#JobAccount.decode">decode</a>
                        </li>
                        <li>
                                <a class="function" href="#JobAccount.create">create</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#JobInitParams">JobInitParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#JobInitParams.__init__">JobInitParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#JobInitParams.data">data</a>
                        </li>
                        <li>
                                <a class="variable" href="#JobInitParams.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#JobInitParams.expiration">expiration</a>
                        </li>
                        <li>
                                <a class="variable" href="#JobInitParams.variables">variables</a>
                        </li>
                        <li>
                                <a class="variable" href="#JobInitParams.keypair">keypair</a>
                        </li>
                        <li>
                                <a class="variable" href="#JobInitParams.authority">authority</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LeaseAccount">LeaseAccount</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LeaseAccount.__init__">LeaseAccount</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseAccount.keypair">keypair</a>
                        </li>
                        <li>
                                <a class="function" href="#LeaseAccount.size">size</a>
                        </li>
                        <li>
                                <a class="function" href="#LeaseAccount.load_data">load_data</a>
                        </li>
                        <li>
                                <a class="function" href="#LeaseAccount.from_seed">from_seed</a>
                        </li>
                        <li>
                                <a class="function" href="#LeaseAccount.create">create</a>
                        </li>
                        <li>
                                <a class="function" href="#LeaseAccount.get_balance">get_balance</a>
                        </li>
                        <li>
                                <a class="function" href="#LeaseAccount.extend">extend</a>
                        </li>
                        <li>
                                <a class="function" href="#LeaseAccount.withdraw">withdraw</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LeaseExtendParams">LeaseExtendParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LeaseExtendParams.__init__">LeaseExtendParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseExtendParams.load_amount">load_amount</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseExtendParams.funder">funder</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LeaseInitParams">LeaseInitParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LeaseInitParams.__init__">LeaseInitParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseInitParams.load_amount">load_amount</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseInitParams.funder">funder</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseInitParams.funder_authority">funder_authority</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseInitParams.oracle_queue_account">oracle_queue_account</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseInitParams.aggregator_account">aggregator_account</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseInitParams.withdraw_authority">withdraw_authority</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LeaseWithdrawParams">LeaseWithdrawParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LeaseWithdrawParams.__init__">LeaseWithdrawParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseWithdrawParams.amount">amount</a>
                        </li>
                        <li>
                                <a class="variable" href="#LeaseWithdrawParams.withdraw_wallet">withdraw_wallet</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OracleAccount">OracleAccount</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OracleAccount.__init__">OracleAccount</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleAccount.keypair">keypair</a>
                        </li>
                        <li>
                                <a class="function" href="#OracleAccount.size">size</a>
                        </li>
                        <li>
                                <a class="function" href="#OracleAccount.load_data">load_data</a>
                        </li>
                        <li>
                                <a class="function" href="#OracleAccount.from_seed">from_seed</a>
                        </li>
                        <li>
                                <a class="function" href="#OracleAccount.create">create</a>
                        </li>
                        <li>
                                <a class="function" href="#OracleAccount.heartbeat">heartbeat</a>
                        </li>
                        <li>
                                <a class="function" href="#OracleAccount.withdraw">withdraw</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OracleInitParams">OracleInitParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OracleInitParams.__init__">OracleInitParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleInitParams.queue_account">queue_account</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleInitParams.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleInitParams.metadata">metadata</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OracleWithdrawParams">OracleWithdrawParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OracleWithdrawParams.__init__">OracleWithdrawParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleWithdrawParams.amount">amount</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleWithdrawParams.withdraw_account">withdraw_account</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OracleQueueAccount">OracleQueueAccount</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OracleQueueAccount.__init__">OracleQueueAccount</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueAccount.keypair">keypair</a>
                        </li>
                        <li>
                                <a class="function" href="#OracleQueueAccount.size">size</a>
                        </li>
                        <li>
                                <a class="function" href="#OracleQueueAccount.load_data">load_data</a>
                        </li>
                        <li>
                                <a class="function" href="#OracleQueueAccount.load_mint">load_mint</a>
                        </li>
                        <li>
                                <a class="function" href="#OracleQueueAccount.create">create</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OracleQueueInitParams">OracleQueueInitParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OracleQueueInitParams.__init__">OracleQueueInitParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.mint">mint</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.reward">reward</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.min_stake">min_stake</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.authority">authority</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.oracle_timeout">oracle_timeout</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.variance_tolerance_multiplier">variance_tolerance_multiplier</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.consecutive_feed_failure_limit">consecutive_feed_failure_limit</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.consecutive_oracle_failure_limit">consecutive_oracle_failure_limit</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.minimum_delay_seconds">minimum_delay_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.queue_size">queue_size</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.unpermissioned_feeds">unpermissioned_feeds</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.slashing_enabled">slashing_enabled</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.feed_probation_period">feed_probation_period</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.metadata">metadata</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleQueueInitParams.unpermissioned_vrf">unpermissioned_vrf</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#OracleJob">OracleJob</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#OracleJob.DESCRIPTOR">DESCRIPTOR</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.HttpTask">OracleJob.HttpTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.JsonParseTask">OracleJob.JsonParseTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.MedianTask">OracleJob.MedianTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.MeanTask">OracleJob.MeanTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.MaxTask">OracleJob.MaxTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.ValueTask">OracleJob.ValueTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.WebsocketTask">OracleJob.WebsocketTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.ConditionalTask">OracleJob.ConditionalTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.DivideTask">OracleJob.DivideTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.MultiplyTask">OracleJob.MultiplyTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.AddTask">OracleJob.AddTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.SubtractTask">OracleJob.SubtractTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.LpTokenPriceTask">OracleJob.LpTokenPriceTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.LpExchangeRateTask">OracleJob.LpExchangeRateTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.RegexExtractTask">OracleJob.RegexExtractTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.XStepPriceTask">OracleJob.XStepPriceTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.TwapTask">OracleJob.TwapTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.SerumSwapTask">OracleJob.SerumSwapTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.PowTask">OracleJob.PowTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.LendingRateTask">OracleJob.LendingRateTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.MangoPerpMarketTask">OracleJob.MangoPerpMarketTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.JupiterSwapTask">OracleJob.JupiterSwapTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.PerpMarketTask">OracleJob.PerpMarketTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.OracleTask">OracleJob.OracleTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.AnchorFetchTask">OracleJob.AnchorFetchTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.DefiKingdomsTask">OracleJob.DefiKingdomsTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.TpsTask">OracleJob.TpsTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.SplStakePoolTask">OracleJob.SplStakePoolTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.SplTokenParseTask">OracleJob.SplTokenParseTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.UniswapExchangeRateTask">OracleJob.UniswapExchangeRateTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.SushiswapExchangeRateTask">OracleJob.SushiswapExchangeRateTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.PancakeswapExchangeRateTask">OracleJob.PancakeswapExchangeRateTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.CacheTask">OracleJob.CacheTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.SysclockOffsetTask">OracleJob.SysclockOffsetTask</a>
                        </li>
                        <li>
                                <a class="class" href="#OracleJob.Task">OracleJob.Task</a>
                        </li>
                        <li>
                                <a class="variable" href="#OracleJob.tasks">tasks</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PermissionAccount">PermissionAccount</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PermissionAccount.__init__">PermissionAccount</a>
                        </li>
                        <li>
                                <a class="variable" href="#PermissionAccount.keypair">keypair</a>
                        </li>
                        <li>
                                <a class="function" href="#PermissionAccount.is_permission_enabled">is_permission_enabled</a>
                        </li>
                        <li>
                                <a class="function" href="#PermissionAccount.load_data">load_data</a>
                        </li>
                        <li>
                                <a class="function" href="#PermissionAccount.size">size</a>
                        </li>
                        <li>
                                <a class="function" href="#PermissionAccount.create">create</a>
                        </li>
                        <li>
                                <a class="function" href="#PermissionAccount.from_seed">from_seed</a>
                        </li>
                        <li>
                                <a class="function" href="#PermissionAccount.set">set</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PermissionInitParams">PermissionInitParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PermissionInitParams.__init__">PermissionInitParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#PermissionInitParams.granter">granter</a>
                        </li>
                        <li>
                                <a class="variable" href="#PermissionInitParams.grantee">grantee</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PermissionSetParams">PermissionSetParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PermissionSetParams.__init__">PermissionSetParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#PermissionSetParams.permission">permission</a>
                        </li>
                        <li>
                                <a class="variable" href="#PermissionSetParams.authority">authority</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ProgramStateAccount">ProgramStateAccount</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ProgramStateAccount.__init__">ProgramStateAccount</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProgramStateAccount.keypair">keypair</a>
                        </li>
                        <li>
                                <a class="function" href="#ProgramStateAccount.from_seed">from_seed</a>
                        </li>
                        <li>
                                <a class="function" href="#ProgramStateAccount.load_data">load_data</a>
                        </li>
                        <li>
                                <a class="function" href="#ProgramStateAccount.get_token_mint">get_token_mint</a>
                        </li>
                        <li>
                                <a class="function" href="#ProgramStateAccount.size">size</a>
                        </li>
                        <li>
                                <a class="function" href="#ProgramStateAccount.create">create</a>
                        </li>
                        <li>
                                <a class="function" href="#ProgramStateAccount.vault_transfer">vault_transfer</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ProgramInitParams">ProgramInitParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ProgramInitParams.__init__">ProgramInitParams</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProgramInitParams.mint">mint</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#VaultTransferParams">VaultTransferParams</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#VaultTransferParams.__init__">VaultTransferParams</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SwitchboardDecimal">SwitchboardDecimal</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SwitchboardDecimal.__init__">SwitchboardDecimal</a>
                        </li>
                        <li>
                                <a class="variable" href="#SwitchboardDecimal.scale">scale</a>
                        </li>
                        <li>
                                <a class="function" href="#SwitchboardDecimal.fromObj">fromObj</a>
                        </li>
                        <li>
                                <a class="function" href="#SwitchboardDecimal.to_decimal">to_decimal</a>
                        </li>
                        <li>
                                <a class="function" href="#SwitchboardDecimal.from_decimal">from_decimal</a>
                        </li>
                        <li>
                                <a class="function" href="#SwitchboardDecimal.sbd_to_decimal">sbd_to_decimal</a>
                        </li>
                        <li>
                                <a class="function" href="#SwitchboardDecimal.as_proper_sbd">as_proper_sbd</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#readRawVarint32">readRawVarint32</a>
            </li>
            <li>
                    <a class="variable" href="#readDelimitedFrom">readDelimitedFrom</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
switchboardpy    </h1>

                        <div class="docstring"><p>The Switchboard Python v2 Wrapper.</p>
</div>

                        <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="sd">&quot;&quot;&quot;The Switchboard Python v2 Wrapper.&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">switchboardpy.aggregator</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">AggregatorAccount</span><span class="p">,</span> 
    <span class="n">AggregatorHistoryRow</span><span class="p">,</span> 
    <span class="n">AggregatorInitParams</span><span class="p">,</span> 
    <span class="n">AggregatorOpenRoundParams</span><span class="p">,</span> 
    <span class="n">AggregatorSaveResultParams</span><span class="p">,</span> 
    <span class="n">AggregatorSetHistoryBufferParams</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">switchboardpy.compiled</span> <span class="kn">import</span> <span class="n">OracleJob</span>
<span class="kn">from</span> <span class="nn">switchboardpy.common</span> <span class="kn">import</span> <span class="n">SBV2_DEVNET_PID</span><span class="p">,</span> <span class="n">AccountParams</span><span class="p">,</span> <span class="n">SwitchboardDecimal</span>
<span class="kn">from</span> <span class="nn">switchboardpy.crank</span> <span class="kn">import</span> <span class="n">CrankAccount</span><span class="p">,</span> <span class="n">CrankPopParams</span><span class="p">,</span> <span class="n">CrankInitParams</span><span class="p">,</span> <span class="n">CrankPushParams</span><span class="p">,</span> <span class="n">CrankRow</span>
<span class="kn">from</span> <span class="nn">switchboardpy.job</span> <span class="kn">import</span> <span class="n">JobAccount</span><span class="p">,</span> <span class="n">JobInitParams</span>
<span class="kn">from</span> <span class="nn">switchboardpy.lease</span> <span class="kn">import</span> <span class="n">LeaseAccount</span><span class="p">,</span> <span class="n">LeaseExtendParams</span><span class="p">,</span> <span class="n">LeaseInitParams</span><span class="p">,</span> <span class="n">LeaseWithdrawParams</span>
<span class="kn">from</span> <span class="nn">switchboardpy.oracle</span> <span class="kn">import</span> <span class="n">OracleAccount</span><span class="p">,</span> <span class="n">OracleInitParams</span><span class="p">,</span> <span class="n">OracleWithdrawParams</span>
<span class="kn">from</span> <span class="nn">switchboardpy.oraclequeue</span> <span class="kn">import</span> <span class="n">OracleQueueAccount</span><span class="p">,</span> <span class="n">OracleQueueInitParams</span>
<span class="kn">from</span> <span class="nn">switchboardpy.permission</span> <span class="kn">import</span> <span class="n">PermissionAccount</span><span class="p">,</span> <span class="n">PermissionInitParams</span><span class="p">,</span> <span class="n">PermissionSetParams</span>
<span class="kn">from</span> <span class="nn">switchboardpy.program</span> <span class="kn">import</span> <span class="n">ProgramStateAccount</span><span class="p">,</span> <span class="n">ProgramInitParams</span><span class="p">,</span> <span class="n">VaultTransferParams</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;AccountParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AggregatorAccount&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;AggregatorHistoryRow&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;AggregatorInitParams&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;AggregatorOpenRoundParams&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;AggregatorSaveResultParams&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;AggregatorSetHistoryBufferParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CrankAccount&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CrankPopParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CrankInitParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CrankPushParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CrankRow&quot;</span><span class="p">,</span>
    <span class="s2">&quot;JobAccount&quot;</span><span class="p">,</span>
    <span class="s2">&quot;JobInitParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LeaseAccount&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LeaseExtendParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LeaseInitParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LeaseWithdrawParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OracleAccount&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OracleInitParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OracleWithdrawParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OracleQueueAccount&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OracleQueueInitParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OracleJob&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PermissionAccount&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PermissionInitParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PermissionSetParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ProgramStateAccount&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ProgramInitParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;VaultTransferParams&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SwitchboardDecimal&quot;</span><span class="p">,</span>
    <span class="s2">&quot;readRawVarint32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;readDelimitedFrom&quot;</span>
<span class="p">]</span>
</pre></div>

        </details>

            </section>
                <section id="AccountParams">
                                <div class="attr class">
        <a class="headerlink" href="#AccountParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">AccountParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">AccountParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;program referencing the Switchboard program and IDL.&quot;&quot;&quot;</span>
    <span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Public key of the account being referenced. This will always be populated</span>
<span class="sd">    within the account wrapper.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">public_key</span><span class="p">:</span> <span class="n">PublicKey</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Keypair of the account being referenced. This may not always be populated.&quot;&quot;&quot;</span>
    <span class="n">keypair</span><span class="p">:</span> <span class="n">Keypair</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>program referencing the Switchboard program and IDL.</p>
</div>


                            <div id="AccountParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AccountParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">AccountParams</span><span class="signature">(
    program: anchorpy.program.core.Program,
    public_key: solana.publickey.PublicKey = None,
    keypair: solana.keypair.Keypair = None
)</span>
    </div>

    
    

                            </div>
                            <div id="AccountParams.program" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AccountParams.program">#&nbsp;&nbsp</a>

        <span class="name">program</span><span class="annotation">: anchorpy.program.core.Program</span>
    </div>

    
            <div class="docstring"><p>Public key of the account being referenced. This will always be populated
within the account wrapper.</p>
</div>


                            </div>
                            <div id="AccountParams.public_key" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AccountParams.public_key">#&nbsp;&nbsp</a>

        <span class="name">public_key</span><span class="annotation">: solana.publickey.PublicKey</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Keypair of the account being referenced. This may not always be populated.</p>
</div>


                            </div>
                            <div id="AccountParams.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AccountParams.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span><span class="annotation">: solana.keypair.Keypair</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="AggregatorAccount">
                                <div class="attr class">
        <a class="headerlink" href="#AggregatorAccount">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">AggregatorAccount</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">AggregatorAccount</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;AggregatorAccount is the wrapper for an Aggregator, the structure for that keeps aggregated feed data / metadata.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        program (anchor.Program): The anchor program ref</span>
<span class="sd">        public_key (PublicKey | None): This aggregator&#39;s public key</span>
<span class="sd">        keypair (Keypair | None): this aggregator&#39;s keypair</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
    

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get name of an aggregator.</span>

<span class="sd">    Args:</span>
<span class="sd">        aggregator (Any): Anchor-loaded aggregator</span>

<span class="sd">    Returns:</span>
<span class="sd">        name string of the aggregator</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="n">aggregator</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span>  <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">chr</span><span class="p">,</span> <span class="o">*</span><span class="n">aggregator</span><span class="o">.</span><span class="n">name</span><span class="p">))</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;</span><span class="se">\u0000</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

        
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and parse AggregatorAccount state based on the program IDL. </span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        name (AggregatorAccount): data parsed in accordance with the</span>
<span class="sd">            Switchboard IDL.</span>

<span class="sd">    Args:</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">AggregatorAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
        

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get AggregatorAccount historical data </span>

<span class="sd">    Returns:</span>
<span class="sd">        name (AggregatorAccount): data parsed in accordance with the</span>
<span class="sd">            Switchboard IDL.</span>

<span class="sd">    Args:</span>
<span class="sd">        aggregator (Any): Optional aggregator </span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_history</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>

        <span class="c1"># if aggregator data passed in - use that, else load this aggregator</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>

        <span class="c1"># Compare History Buffer to default public key (zeroed out)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">history_buffer</span> <span class="o">==</span> <span class="mi">11111111111111111111111111111111</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="c1"># Fixed AggregatorHistoryRow size</span>
        <span class="n">ROW_SIZE</span> <span class="o">=</span> <span class="mi">28</span>

        <span class="c1"># Get account data</span>
        <span class="n">info</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_account_info</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">history_buffer</span><span class="p">)</span> 
        <span class="n">buffer</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">data</span> <span class="k">if</span> <span class="n">info</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">buffer</span> <span class="ow">or</span> <span class="n">buffer</span><span class="o">.</span><span class="n">length</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        
        <span class="c1"># Read UInt32 as a Little Endian val, starting at position 8</span>
        <span class="n">insert_idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack_from</span><span class="p">(</span><span class="s2">&quot;&lt;L&quot;</span><span class="p">,</span> <span class="n">buffer</span><span class="p">,</span> <span class="mi">8</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">ROW_SIZE</span>

        <span class="n">front</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">tail</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="n">buffer</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">ROW_SIZE</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="n">ROW_SIZE</span> <span class="o">&gt;</span> <span class="n">buffer</span><span class="o">.</span><span class="n">length</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">row</span> <span class="o">=</span> <span class="n">AggregatorHistoryRow</span><span class="o">.</span><span class="n">from_buffer</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">row</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">insert_idx</span><span class="p">:</span>
                <span class="n">tail</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">front</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">front</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the latest confirmed value stored in the aggregator account. </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        aggregator (Any): Optional aggregator value to pass in</span>

<span class="sd">    Returns:</span>
<span class="sd">        value (Decimal): the latest feed value</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the aggregator currently holds no value</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_latest_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">aggregator</span><span class="p">,</span> <span class="s1">&#39;latest_confirmed_round&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">num_success</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Aggregator currently holds no value.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">sbd_to_decimal</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the timestamp latest confirmed round stored in the aggregator account. </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        aggregator (Any): Optional aggregator value to pass in</span>

<span class="sd">    Returns:</span>
<span class="sd">        timestamp (str): latest feed timestamp as hex string</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the aggregator currently holds no value</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_latest_feed_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">aggregator</span><span class="p">,</span> <span class="s1">&#39;latest_confirmed_round&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">num_success</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Aggregator currently holds no value.&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">round_open_timestamp</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get name of an aggregator.</span>

<span class="sd">    Args:</span>
<span class="sd">        aggregator (any): Anchor-loaded aggregator</span>

<span class="sd">    Returns:</span>
<span class="sd">        name string of the aggregator</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">should_report_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latestConfirmedRound</span> <span class="ow">and</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">num_success</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">start_after</span> <span class="o">&gt;</span> <span class="n">timestamp</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">variance_threshold</span> <span class="o">=</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">sbd_to_decimal</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">variance_threshold</span><span class="p">)</span>
        <span class="n">latest_result</span> <span class="o">=</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">sbd_to_decimal</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
        <span class="n">force_report_period</span> <span class="o">=</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">force_report_period</span>
        <span class="n">last_timestamp</span> <span class="o">=</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">round_open_timestamp</span>
        <span class="k">if</span> <span class="n">last_timestamp</span> <span class="o">+</span> <span class="n">force_report_period</span> <span class="o">&lt;</span> <span class="n">timestamp</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="n">latest_result</span> <span class="o">/</span> <span class="n">value</span>
        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">diff</span> <span class="o">=</span> <span class="n">value</span> <span class="o">/</span> <span class="n">latest_result</span>
        <span class="k">if</span> <span class="n">diff</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        
        <span class="n">change_percentage</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">diff</span> <span class="o">*</span> <span class="mi">100</span>
        <span class="k">return</span> <span class="n">change_percentage</span> <span class="o">&gt;</span> <span class="n">variance_threshold</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the individual oracle results of the latest confirmed round. </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        aggregator (Any): Optional aggregator value to pass in</span>

<span class="sd">    Returns:</span>
<span class="sd">        timestamp (str): latest feed timestamp as hex string</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If aggregator currently holds no value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_confirmed_round_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">aggregator</span><span class="p">,</span> <span class="s1">&#39;latest_confirmed_round&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">num_success</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Aggregator currently holds no value.&#39;</span><span class="p">)</span>
        <span class="n">results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">oracle_request_batch_size</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">medians_filfilled</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s2">&quot;oracle_account&quot;</span><span class="p">:</span> <span class="n">OracleAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">oracle_pubkeys_data</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span>
                    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">sbd_to_decimal</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">medians_data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="p">})</span>
        <span class="k">return</span> <span class="n">results</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the hash of a list of OracleJobs</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        jobs (list[OracleJob]): list of jobs to hash</span>

<span class="sd">    Returns:</span>
<span class="sd">        hash (_Hash): hash as hex string</span>

<span class="sd">    Raises:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">produce_job_hash</span><span class="p">(</span><span class="n">jobs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OracleJob</span><span class="p">]):</span>
        <span class="nb">hash</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">jobs</span><span class="p">:</span>
            <span class="n">job_hasher</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>
            <span class="n">job_hasher</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">())</span>
            <span class="nb">hash</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">job_hasher</span><span class="o">.</span><span class="n">digest</span><span class="p">())</span>
        <span class="k">return</span> <span class="nb">hash</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and deserialize all jobs stored in this aggregator</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        aggregator (Any): Optional aggregator</span>

<span class="sd">    Returns:</span>
<span class="sd">        jobs (list[{ &quot;job&quot;: OracleJob, &quot;public_key&quot;: PublicKey, &quot;account&quot;: JobAccountData }]) </span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: Failed to load feed jobs.</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_jobs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="n">coder</span> <span class="o">=</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">AccountsCoder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">idl</span><span class="p">)</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">job_accounts_raw</span> <span class="o">=</span> <span class="k">await</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">rpc</span><span class="o">.</span><span class="n">get_multiple_accounts</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">job_pubkeys_data</span><span class="p">[:</span><span class="n">aggregator</span><span class="o">.</span><span class="n">job_pubkeys_size</span><span class="p">],</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Confirmed</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">job_accounts_raw</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Failed to load feed jobs.&#39;</span><span class="p">)</span>
        
        <span class="c1"># Deserialize OracleJob objects from each decoded JobAccountData </span>
        <span class="k">return</span> <span class="p">[</span><span class="n">AggregatorLoadedJob</span><span class="p">(</span><span class="n">parseOracleJob</span><span class="p">(</span><span class="n">coder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="n">job</span><span class="o">.</span><span class="n">pubkey</span><span class="p">,</span> <span class="n">coder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">data</span><span class="p">))</span> <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">job_accounts_raw</span><span class="p">]</span>
        
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load all job hashes for each job stored in this aggregator</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        aggregator (Any): Optional aggregator</span>

<span class="sd">    Returns:</span>
<span class="sd">        hashes (list[str]): hashes for each job </span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_hashes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="n">coder</span> <span class="o">=</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">AccountsCoder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">idl</span><span class="p">)</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">loadData</span><span class="p">()</span>
        <span class="n">job_accounts_raw</span> <span class="o">=</span> <span class="k">await</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">rpc</span><span class="o">.</span><span class="n">get_multiple_accounts</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">job_pubkeys_data</span><span class="p">[:</span><span class="n">aggregator</span><span class="o">.</span><span class="n">job_pubkeys_size</span><span class="p">])</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">job_accounts_raw</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Failed to load feed jobs.&#39;</span><span class="p">)</span>
        
        <span class="c1"># get hashes from each decoded JobAccountData </span>
        <span class="k">return</span> <span class="p">[</span><span class="n">coder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">hash</span> <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">job_accounts_raw</span><span class="p">]</span>
        
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the size of an AggregatorAccount on chain</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        int: size of the AggregatorAccount on chain</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;AggregatorAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create and initialize the AggregatorAccount.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        program (anchorpy.Program): Switchboard program representation holding connection and IDL</span>
<span class="sd">        params (AggregatorInitParams): init params for the aggregator</span>

<span class="sd">    Returns:</span>
<span class="sd">        AggregatorAccount</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">aggregator_init_params</span><span class="p">:</span> <span class="n">AggregatorInitParams</span><span class="p">):</span>
        <span class="n">aggregator_account</span> <span class="o">=</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">or</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">authority</span> <span class="ow">or</span> <span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;AggregatorAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
        <span class="n">state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="k">await</span> <span class="n">state_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_minimum_balance_for_rent_exemption</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="n">lamports</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
        <span class="n">zero_decimal</span> <span class="o">=</span> <span class="n">SwitchboardDecimal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>

        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;aggregator_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">32</span><span class="p">),</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">metadata</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">128</span><span class="p">),</span>
                <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">batch_size</span><span class="p">,</span>
                <span class="s2">&quot;min_oracle_results&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">min_required_oracle_results</span><span class="p">,</span>
                <span class="s2">&quot;min_job_results&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">min_required_job_results</span><span class="p">,</span>
                <span class="s2">&quot;min_update_delay_seconds&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">min_update_delay_seconds</span><span class="p">,</span>
                <span class="s2">&quot;variance_threshold&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">variance_threshold</span><span class="p">)</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="n">program</span><span class="p">)</span> <span class="k">if</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">variance_threshold</span> <span class="k">else</span> <span class="n">zero_decimal</span><span class="p">,</span>
                <span class="s2">&quot;force_report_period&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">force_report_period</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;expiration&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">expiration</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;disable_crank&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">disable_crank</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;start_after&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">start_after</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;author_wallet&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">author_wallet</span> <span class="ow">or</span> <span class="n">state</span><span class="o">.</span><span class="n">token_vault</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">aggregator_account</span><span class="p">],</span>
                <span class="n">pre_instructions</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">create_account</span><span class="p">(</span>
                        <span class="n">CreateAccountParams</span><span class="p">(</span>
                            <span class="n">from_pubkey</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> 
                            <span class="n">new_account_pubkey</span><span class="o">=</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">lamports</span><span class="o">=</span><span class="n">lamports</span><span class="p">,</span> 
                            <span class="n">space</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> 
                            <span class="n">program_id</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">AggregatorAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">keypair</span><span class="o">=</span><span class="n">aggregator_account</span><span class="p">))</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create and set a history buffer for the aggregator</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchorpy.Program): Switchboard program representation holding connection and IDL</span>
<span class="sd">        params (AggregatorSetHistoryBufferParams)</span>

<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_history_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetHistoryBufferParams</span><span class="p">):</span>
        <span class="n">buffer</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">program</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="n">HISTORY_ROW_SIZE</span> <span class="o">=</span> <span class="mi">28</span>
        <span class="n">INSERT_IDX_SIZE</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="n">DISCRIMINATOR_SIZE</span> <span class="o">=</span> <span class="mi">8</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">size</span> <span class="o">*</span> <span class="n">HISTORY_ROW_SIZE</span> <span class="o">+</span> <span class="n">INSERT_IDX_SIZE</span> <span class="o">+</span> <span class="n">DISCRIMINATOR_SIZE</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_minimum_balance_for_rent_exemption</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="n">lamports</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;aggregator_set_history_buffer&quot;</span><span class="p">](</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;buffer&quot;</span><span class="p">:</span> <span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">,</span> <span class="n">buffer</span><span class="p">],</span>
                <span class="n">pre_instructions</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">create_account</span><span class="p">(</span>
                        <span class="n">CreateAccountParams</span><span class="p">(</span>
                            <span class="n">from_pubkey</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">new_account_pubkey</span><span class="o">=</span><span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">space</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
                            <span class="n">lamports</span><span class="o">=</span><span class="n">lamports</span><span class="p">,</span>
                            <span class="n">program_id</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Open round on aggregator to get an update</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchorpy.Program): Switchboard program representation holding connection and IDL</span>
<span class="sd">        params (AggregatorOpenRoundParams)</span>

<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">open_round</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorOpenRoundParams</span><span class="p">):</span>
        <span class="n">program</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span>
        <span class="n">state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="p">,</span>
            <span class="bp">self</span>
        <span class="p">)</span>
        <span class="n">lease</span> <span class="o">=</span> <span class="k">await</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">queue</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;aggregator_open_round&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bump&quot;</span><span class="p">:</span> <span class="n">lease_bump</span><span class="p">,</span>
                <span class="s2">&quot;permission_bump&quot;</span><span class="p">:</span> <span class="n">permission_bump</span><span class="p">,</span>
                <span class="s2">&quot;jitter&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">jitter</span> <span class="ow">or</span> <span class="mi">0</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span>  <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;queue_authority&quot;</span><span class="p">:</span> <span class="n">queue</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">lease</span><span class="o">.</span><span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;payout_wallet&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">payout_wallet</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;data_buffer&quot;</span><span class="p">:</span> <span class="n">queue</span><span class="o">.</span><span class="n">data_buffer</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="p">(</span><span class="k">await</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">load_mint</span><span class="p">())</span><span class="o">.</span><span class="n">pubkey</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set min jobs sets the min jobs parameter. This is a suggestion to oracles </span>
<span class="sd">    of the number of jobs that must resolve for a job to be considered valid.</span>

<span class="sd">    Args:</span>
<span class="sd">        params (AggregatorSetMinJobsParams): parameters pecifying the min jobs that must respond</span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_min_jobs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetMinJobsParams</span><span class="p">):</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_min_jobs&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;min_job_results&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">min_job_results</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set min oracles sets the min oracles parameter. This will determine how many oracles need to come back with a </span>
<span class="sd">    valid response for a result to be accepted. </span>

<span class="sd">    Args:</span>
<span class="sd">        params (AggregatorSetMinOraclesParams): parameters pecifying the min jobs that must respond</span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_min_jobs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetMinJobsParams</span><span class="p">):</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_min_jobs&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;min_job_results&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">min_job_results</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    RPC to add a new job to an aggregtor to be performed on feed updates.</span>

<span class="sd">    Args:</span>
<span class="sd">        job (JobAccount): specifying another job for this aggregator to fulfill on update</span>
<span class="sd">        authority (Keypair | None)</span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">add_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job</span><span class="p">:</span> <span class="n">JobAccount</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Keypair</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_add_job&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="n">weight</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;job&quot;</span><span class="p">:</span> <span class="n">job</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    RPC Set batch size / the number of oracles that&#39;ll respond to updates</span>

<span class="sd">    Args:</span>
<span class="sd">        params (AggregatorSetBatchSizeParams)</span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_batch_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetBatchSizeParams</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_batch_size&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">batch_size</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    RPC set variance threshold (only write updates when response is &gt; variance threshold %)</span>

<span class="sd">    Args:</span>
<span class="sd">        params (AggregatorSetVarianceThresholdParams)</span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_variance_threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetVarianceThresholdParams</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_variance_threshold&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;variance_threshold&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">threshold</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    RPC set min oracles</span>

<span class="sd">    Args:</span>
<span class="sd">        params (AggregatorSetMinOraclesParams)</span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_min_oracles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetMinOraclesParams</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_min_oracles&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;min_oracle_results&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">min_oracle_results</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    RPC set update interval</span>

<span class="sd">    Args:</span>
<span class="sd">        params (AggregatorSetUpdateIntervalParams)</span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_update_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetUpdateIntervalParams</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_update_interval&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;new_interval&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">new_interval</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prevent new jobs from being added to the feed.</span>

<span class="sd">    Args:</span>
<span class="sd">        authority (Keypair | None): the current authority keypair</span>

<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">lock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Keypair</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_lock&#39;</span><span class="p">](</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Change the aggregator authority</span>

<span class="sd">    Args:</span>
<span class="sd">        new_authority (Keypair): The new authority</span>
<span class="sd">        current_authority (Keypair | None): the current authority keypair</span>

<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_authority</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_authority</span><span class="p">:</span> <span class="n">Keypair</span><span class="p">,</span> <span class="n">current_authority</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Keypair</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">current_authority</span> <span class="o">=</span> <span class="n">current_authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_authoirty&#39;</span><span class="p">](</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;new_authority&quot;</span><span class="p">:</span> <span class="n">new_authority</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">current_authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">current_authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    RPC to add remove job from an aggregtor.</span>

<span class="sd">    Args:</span>
<span class="sd">        job (JobAccount): specifying job to remove</span>
<span class="sd">        authority (Keypair | None)</span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">remove_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job</span><span class="p">:</span> <span class="n">JobAccount</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Keypair</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_remove_job&#39;</span><span class="p">](</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;job&quot;</span><span class="p">:</span> <span class="n">job</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get Index of Oracle in Aggregator</span>

<span class="sd">    Args:</span>
<span class="sd">        oracle_pubkey (PublicKey): Public key belonging to the oracle</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: index of the oracle, -1 if not found</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_oracle_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oracle_pubkey</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">):</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">curr_oracle_pubkey</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">current_round</span><span class="o">.</span><span class="n">oracle_pubkeys_data</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">curr_oracle_pubkey</span> <span class="o">==</span> <span class="n">oracle_pubkey</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">i</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Save Aggregator result</span>

<span class="sd">    Args:</span>
<span class="sd">        aggregator (Any): Aggregator data</span>
<span class="sd">        oracle_account (OracleAccount)</span>
<span class="sd">        params (AggregatorSaveResultParams)</span>

<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">remove_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">oracle_account</span><span class="p">:</span> <span class="n">OracleAccount</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSaveResultParams</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
            <span class="n">tx</span><span class="o">=</span><span class="p">(</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_result_txn</span><span class="p">(</span>
                    <span class="n">aggregator</span><span class="p">,</span>
                    <span class="n">oracle_account</span><span class="p">,</span>
                    <span class="n">params</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    RPC call for an oracle to save a result to an aggregator round.</span>

<span class="sd">    Args:</span>
<span class="sd">        aggregator (Any): Aggregator data</span>
<span class="sd">        oracle_account (OracleAccount)</span>
<span class="sd">        params (AggregatorSaveResultParams)</span>

<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">save_result_txn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">oracle_account</span><span class="p">:</span> <span class="n">OracleAccount</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSaveResultParams</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">remaining_accounts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">oracle_request_batch_size</span><span class="p">):</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">current_round</span><span class="o">.</span><span class="n">oracle_pubkeys_data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">oracle</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">oracles</span><span class="p">:</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">oracle</span><span class="o">.</span><span class="n">token_account</span><span class="p">)</span>
        <span class="n">queue_pubkey</span> <span class="o">=</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">queue_pubkey</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue_pubkey</span><span class="p">))</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="p">,</span>
            <span class="bp">self</span>
        <span class="p">)</span>
        <span class="n">escrow</span> <span class="o">=</span> <span class="n">get_associated_token_address</span><span class="p">(</span><span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> <span class="n">params</span><span class="o">.</span><span class="n">token_mint</span><span class="p">)</span>
        <span class="n">feed_permission_account</span><span class="p">,</span> <span class="n">feed_permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">queue_authority</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="n">oracle_permission_account</span><span class="p">,</span> <span class="n">oracle_permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">queue_authority</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="n">oracle_account</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="n">digest</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">produce_job_hash</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">jobs</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>
        <span class="n">history_buffer</span> <span class="o">=</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">history_buffer</span>
        <span class="k">if</span> <span class="n">history_buffer</span> <span class="o">==</span> <span class="n">PublicKey</span><span class="p">(</span><span class="s1">&#39;11111111111111111111111111111111&#39;</span><span class="p">):</span>
            <span class="n">history_buffer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">transaction</span><span class="p">[</span><span class="s1">&#39;aggregator_save_result&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;oracle_idx&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_idx</span><span class="p">,</span>
                <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">error</span><span class="p">,</span>
                <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">),</span>
                <span class="s2">&quot;jobs_checksum&quot;</span><span class="p">:</span> <span class="n">digest</span><span class="p">,</span>
                <span class="s2">&quot;min_response&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">min_response</span><span class="p">)</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">),</span>
                <span class="s2">&quot;max_response&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">max_response</span><span class="p">)</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">),</span>
                <span class="s2">&quot;feed_permission_bump&quot;</span><span class="p">:</span> <span class="n">feed_permission_bump</span><span class="p">,</span>
                <span class="s2">&quot;oracle_permission_bump&quot;</span><span class="p">:</span> <span class="n">oracle_permission_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bump&quot;</span><span class="p">:</span> <span class="n">lease_bump</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle&quot;</span><span class="p">:</span> <span class="n">oracle_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_authority&quot;</span><span class="p">:</span> <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;feed_permission&quot;</span><span class="p">:</span> <span class="n">feed_permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_permission&quot;</span><span class="p">:</span> <span class="n">oracle_permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;history_buffer&quot;</span><span class="p">:</span> <span class="n">history_buffer</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">token_mint</span>
                <span class="p">},</span>
                <span class="n">remaining_accounts</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;is_signer&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;is_writable&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;pubkey&quot;</span><span class="p">:</span> <span class="n">pubkey</span><span class="p">}</span> <span class="k">for</span> <span class="n">pubkey</span> <span class="ow">in</span> <span class="n">remaining_accounts</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>AggregatorAccount is the wrapper for an Aggregator, the structure for that keeps aggregated feed data / metadata.</p>

<p>Attributes:
    program (anchor.Program): The anchor program ref
    public_key (PublicKey | None): This aggregator's public key
    keypair (Keypair | None): this aggregator's keypair</p>
</div>


                            <div id="AggregatorAccount.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">AggregatorAccount</span><span class="signature">(params: <a href="#AccountParams">switchboardpy.AccountParams</a>)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorAccount.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span>
    </div>

    
            <div class="docstring"><p>Get name of an aggregator.</p>

<p>Args:
    aggregator (Any): Anchor-loaded aggregator</p>

<p>Returns:
    name string of the aggregator</p>
</div>


                            </div>
                            <div id="AggregatorAccount.get_name" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.get_name">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">get_name</span><span class="signature">(aggregator: Any) -&gt; str</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="n">aggregator</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span>  <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">chr</span><span class="p">,</span> <span class="o">*</span><span class="n">aggregator</span><span class="o">.</span><span class="n">name</span><span class="p">))</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;</span><span class="se">\u0000</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.load_data" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.load_data">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_data</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">AggregatorAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.load_history" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.load_history">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_history</span><span class="signature">(self, aggregator: Any = None) -&gt; Any</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_history</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>

        <span class="c1"># if aggregator data passed in - use that, else load this aggregator</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>

        <span class="c1"># Compare History Buffer to default public key (zeroed out)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">history_buffer</span> <span class="o">==</span> <span class="mi">11111111111111111111111111111111</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="c1"># Fixed AggregatorHistoryRow size</span>
        <span class="n">ROW_SIZE</span> <span class="o">=</span> <span class="mi">28</span>

        <span class="c1"># Get account data</span>
        <span class="n">info</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_account_info</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">history_buffer</span><span class="p">)</span> 
        <span class="n">buffer</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">data</span> <span class="k">if</span> <span class="n">info</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">buffer</span> <span class="ow">or</span> <span class="n">buffer</span><span class="o">.</span><span class="n">length</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        
        <span class="c1"># Read UInt32 as a Little Endian val, starting at position 8</span>
        <span class="n">insert_idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack_from</span><span class="p">(</span><span class="s2">&quot;&lt;L&quot;</span><span class="p">,</span> <span class="n">buffer</span><span class="p">,</span> <span class="mi">8</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">ROW_SIZE</span>

        <span class="n">front</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">tail</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="n">buffer</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">ROW_SIZE</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="n">ROW_SIZE</span> <span class="o">&gt;</span> <span class="n">buffer</span><span class="o">.</span><span class="n">length</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">row</span> <span class="o">=</span> <span class="n">AggregatorHistoryRow</span><span class="o">.</span><span class="n">from_buffer</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">row</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">insert_idx</span><span class="p">:</span>
                <span class="n">tail</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">front</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">front</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.get_latest_value" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.get_latest_value">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">get_latest_value</span><span class="signature">(self, aggregator: Optional[Any] = None) -&gt; decimal.Decimal</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_latest_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">aggregator</span><span class="p">,</span> <span class="s1">&#39;latest_confirmed_round&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">num_success</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Aggregator currently holds no value.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">sbd_to_decimal</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.get_latest_feed_timestamp" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.get_latest_feed_timestamp">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">get_latest_feed_timestamp</span><span class="signature">(self, aggregator: Optional[Any] = None) -&gt; decimal.Decimal</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_latest_feed_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">aggregator</span><span class="p">,</span> <span class="s1">&#39;latest_confirmed_round&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">num_success</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Aggregator currently holds no value.&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">round_open_timestamp</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.should_report_value" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.should_report_value">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">should_report_value</span><span class="signature">(value: decimal.Decimal, aggregator: Optional[Any] = None) -&gt; bool</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">should_report_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latestConfirmedRound</span> <span class="ow">and</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">num_success</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">start_after</span> <span class="o">&gt;</span> <span class="n">timestamp</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">variance_threshold</span> <span class="o">=</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">sbd_to_decimal</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">variance_threshold</span><span class="p">)</span>
        <span class="n">latest_result</span> <span class="o">=</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">sbd_to_decimal</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
        <span class="n">force_report_period</span> <span class="o">=</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">force_report_period</span>
        <span class="n">last_timestamp</span> <span class="o">=</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">round_open_timestamp</span>
        <span class="k">if</span> <span class="n">last_timestamp</span> <span class="o">+</span> <span class="n">force_report_period</span> <span class="o">&lt;</span> <span class="n">timestamp</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="n">latest_result</span> <span class="o">/</span> <span class="n">value</span>
        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">diff</span> <span class="o">=</span> <span class="n">value</span> <span class="o">/</span> <span class="n">latest_result</span>
        <span class="k">if</span> <span class="n">diff</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        
        <span class="n">change_percentage</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">diff</span> <span class="o">*</span> <span class="mi">100</span>
        <span class="k">return</span> <span class="n">change_percentage</span> <span class="o">&gt;</span> <span class="n">variance_threshold</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.get_confirmed_round_results" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.get_confirmed_round_results">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">get_confirmed_round_results</span><span class="signature">(self, aggregator: Optional[Any] = None) -&gt; decimal.Decimal</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_confirmed_round_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">aggregator</span><span class="p">,</span> <span class="s1">&#39;latest_confirmed_round&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">num_success</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Aggregator currently holds no value.&#39;</span><span class="p">)</span>
        <span class="n">results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">oracle_request_batch_size</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">medians_filfilled</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s2">&quot;oracle_account&quot;</span><span class="p">:</span> <span class="n">OracleAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">oracle_pubkeys_data</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span>
                    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">sbd_to_decimal</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">latest_confirmed_round</span><span class="o">.</span><span class="n">medians_data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="p">})</span>
        <span class="k">return</span> <span class="n">results</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.produce_job_hash" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.produce_job_hash">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">produce_job_hash</span><span class="signature">(jobs: list[<a href="#OracleJob">switchboardpy.OracleJob</a>])</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">produce_job_hash</span><span class="p">(</span><span class="n">jobs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OracleJob</span><span class="p">]):</span>
        <span class="nb">hash</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">jobs</span><span class="p">:</span>
            <span class="n">job_hasher</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>
            <span class="n">job_hasher</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">())</span>
            <span class="nb">hash</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">job_hasher</span><span class="o">.</span><span class="n">digest</span><span class="p">())</span>
        <span class="k">return</span> <span class="nb">hash</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.load_jobs" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.load_jobs">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_jobs</span><span class="signature">(self, aggregator: Optional[Any] = None) -&gt; decimal.Decimal</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_jobs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="n">coder</span> <span class="o">=</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">AccountsCoder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">idl</span><span class="p">)</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">job_accounts_raw</span> <span class="o">=</span> <span class="k">await</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">rpc</span><span class="o">.</span><span class="n">get_multiple_accounts</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">job_pubkeys_data</span><span class="p">[:</span><span class="n">aggregator</span><span class="o">.</span><span class="n">job_pubkeys_size</span><span class="p">],</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Confirmed</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">job_accounts_raw</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Failed to load feed jobs.&#39;</span><span class="p">)</span>
        
        <span class="c1"># Deserialize OracleJob objects from each decoded JobAccountData </span>
        <span class="k">return</span> <span class="p">[</span><span class="n">AggregatorLoadedJob</span><span class="p">(</span><span class="n">parseOracleJob</span><span class="p">(</span><span class="n">coder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="n">job</span><span class="o">.</span><span class="n">pubkey</span><span class="p">,</span> <span class="n">coder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">data</span><span class="p">))</span> <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">job_accounts_raw</span><span class="p">]</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.load_hashes" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.load_hashes">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_hashes</span><span class="signature">(self, aggregator: Optional[Any] = None) -&gt; decimal.Decimal</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_hashes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="n">coder</span> <span class="o">=</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">AccountsCoder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">idl</span><span class="p">)</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">aggregator</span> <span class="k">if</span> <span class="n">aggregator</span> <span class="k">else</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">loadData</span><span class="p">()</span>
        <span class="n">job_accounts_raw</span> <span class="o">=</span> <span class="k">await</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">rpc</span><span class="o">.</span><span class="n">get_multiple_accounts</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">job_pubkeys_data</span><span class="p">[:</span><span class="n">aggregator</span><span class="o">.</span><span class="n">job_pubkeys_size</span><span class="p">])</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">job_accounts_raw</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Failed to load feed jobs.&#39;</span><span class="p">)</span>
        
        <span class="c1"># get hashes from each decoded JobAccountData </span>
        <span class="k">return</span> <span class="p">[</span><span class="n">coder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">hash</span> <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">job_accounts_raw</span><span class="p">]</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.size" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.size">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">size</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;AggregatorAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.create">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">async def</span>
            <span class="name">create</span><span class="signature">(
    program: anchorpy.program.core.Program,
    aggregator_init_params: <a href="#AggregatorInitParams">switchboardpy.AggregatorInitParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">aggregator_init_params</span><span class="p">:</span> <span class="n">AggregatorInitParams</span><span class="p">):</span>
        <span class="n">aggregator_account</span> <span class="o">=</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">or</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">authority</span> <span class="ow">or</span> <span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;AggregatorAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
        <span class="n">state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="k">await</span> <span class="n">state_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_minimum_balance_for_rent_exemption</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="n">lamports</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
        <span class="n">zero_decimal</span> <span class="o">=</span> <span class="n">SwitchboardDecimal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>

        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;aggregator_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">32</span><span class="p">),</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">metadata</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">128</span><span class="p">),</span>
                <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">batch_size</span><span class="p">,</span>
                <span class="s2">&quot;min_oracle_results&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">min_required_oracle_results</span><span class="p">,</span>
                <span class="s2">&quot;min_job_results&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">min_required_job_results</span><span class="p">,</span>
                <span class="s2">&quot;min_update_delay_seconds&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">min_update_delay_seconds</span><span class="p">,</span>
                <span class="s2">&quot;variance_threshold&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">variance_threshold</span><span class="p">)</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="n">program</span><span class="p">)</span> <span class="k">if</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">variance_threshold</span> <span class="k">else</span> <span class="n">zero_decimal</span><span class="p">,</span>
                <span class="s2">&quot;force_report_period&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">force_report_period</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;expiration&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">expiration</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;disable_crank&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">disable_crank</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;start_after&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">start_after</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;author_wallet&quot;</span><span class="p">:</span> <span class="n">aggregator_init_params</span><span class="o">.</span><span class="n">author_wallet</span> <span class="ow">or</span> <span class="n">state</span><span class="o">.</span><span class="n">token_vault</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">aggregator_account</span><span class="p">],</span>
                <span class="n">pre_instructions</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">create_account</span><span class="p">(</span>
                        <span class="n">CreateAccountParams</span><span class="p">(</span>
                            <span class="n">from_pubkey</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> 
                            <span class="n">new_account_pubkey</span><span class="o">=</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">lamports</span><span class="o">=</span><span class="n">lamports</span><span class="p">,</span> 
                            <span class="n">space</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> 
                            <span class="n">program_id</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">AggregatorAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">keypair</span><span class="o">=</span><span class="n">aggregator_account</span><span class="p">))</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.set_history_buffer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.set_history_buffer">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">set_history_buffer</span><span class="signature">(
    self,
    params: <a href="#AggregatorSetHistoryBufferParams">switchboardpy.AggregatorSetHistoryBufferParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_history_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetHistoryBufferParams</span><span class="p">):</span>
        <span class="n">buffer</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">program</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="n">HISTORY_ROW_SIZE</span> <span class="o">=</span> <span class="mi">28</span>
        <span class="n">INSERT_IDX_SIZE</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="n">DISCRIMINATOR_SIZE</span> <span class="o">=</span> <span class="mi">8</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">size</span> <span class="o">*</span> <span class="n">HISTORY_ROW_SIZE</span> <span class="o">+</span> <span class="n">INSERT_IDX_SIZE</span> <span class="o">+</span> <span class="n">DISCRIMINATOR_SIZE</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_minimum_balance_for_rent_exemption</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="n">lamports</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;aggregator_set_history_buffer&quot;</span><span class="p">](</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;buffer&quot;</span><span class="p">:</span> <span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">,</span> <span class="n">buffer</span><span class="p">],</span>
                <span class="n">pre_instructions</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">create_account</span><span class="p">(</span>
                        <span class="n">CreateAccountParams</span><span class="p">(</span>
                            <span class="n">from_pubkey</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">new_account_pubkey</span><span class="o">=</span><span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">space</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
                            <span class="n">lamports</span><span class="o">=</span><span class="n">lamports</span><span class="p">,</span>
                            <span class="n">program_id</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.open_round" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.open_round">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">open_round</span><span class="signature">(self, params: <a href="#AggregatorOpenRoundParams">switchboardpy.AggregatorOpenRoundParams</a>)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">open_round</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorOpenRoundParams</span><span class="p">):</span>
        <span class="n">program</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span>
        <span class="n">state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="p">,</span>
            <span class="bp">self</span>
        <span class="p">)</span>
        <span class="n">lease</span> <span class="o">=</span> <span class="k">await</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">queue</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;aggregator_open_round&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bump&quot;</span><span class="p">:</span> <span class="n">lease_bump</span><span class="p">,</span>
                <span class="s2">&quot;permission_bump&quot;</span><span class="p">:</span> <span class="n">permission_bump</span><span class="p">,</span>
                <span class="s2">&quot;jitter&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">jitter</span> <span class="ow">or</span> <span class="mi">0</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span>  <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;queue_authority&quot;</span><span class="p">:</span> <span class="n">queue</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">lease</span><span class="o">.</span><span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;payout_wallet&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">payout_wallet</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;data_buffer&quot;</span><span class="p">:</span> <span class="n">queue</span><span class="o">.</span><span class="n">data_buffer</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="p">(</span><span class="k">await</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">load_mint</span><span class="p">())</span><span class="o">.</span><span class="n">pubkey</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.set_min_jobs" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.set_min_jobs">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">set_min_jobs</span><span class="signature">(self, params: switchboardpy.aggregator.AggregatorSetMinJobsParams)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_min_jobs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetMinJobsParams</span><span class="p">):</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_min_jobs&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;min_job_results&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">min_job_results</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.add_job" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.add_job">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">add_job</span><span class="signature">(
    self,
    job: <a href="#JobAccount">switchboardpy.JobAccount</a>,
    weight: int = 0,
    authority: Optional[solana.keypair.Keypair] = None
) -&gt; &lt;function NewType.&lt;locals&gt;.new_type at 0x103bd2940&gt;</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">add_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job</span><span class="p">:</span> <span class="n">JobAccount</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Keypair</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_add_job&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="n">weight</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;job&quot;</span><span class="p">:</span> <span class="n">job</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.set_batch_size" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.set_batch_size">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">set_batch_size</span><span class="signature">(
    self,
    params: switchboardpy.aggregator.AggregatorSetBatchSizeParams
) -&gt; &lt;function NewType.&lt;locals&gt;.new_type at 0x103bd2940&gt;</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_batch_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetBatchSizeParams</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_batch_size&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">batch_size</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.set_variance_threshold" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.set_variance_threshold">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">set_variance_threshold</span><span class="signature">(
    self,
    params: switchboardpy.aggregator.AggregatorSetVarianceThresholdParams
) -&gt; &lt;function NewType.&lt;locals&gt;.new_type at 0x103bd2940&gt;</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_variance_threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetVarianceThresholdParams</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_variance_threshold&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;variance_threshold&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">threshold</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.set_min_oracles" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.set_min_oracles">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">set_min_oracles</span><span class="signature">(
    self,
    params: switchboardpy.aggregator.AggregatorSetMinOraclesParams
) -&gt; &lt;function NewType.&lt;locals&gt;.new_type at 0x103bd2940&gt;</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_min_oracles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetMinOraclesParams</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_min_oracles&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;min_oracle_results&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">min_oracle_results</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.set_update_interval" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.set_update_interval">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">set_update_interval</span><span class="signature">(
    self,
    params: switchboardpy.aggregator.AggregatorSetUpdateIntervalParams
) -&gt; &lt;function NewType.&lt;locals&gt;.new_type at 0x103bd2940&gt;</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_update_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSetUpdateIntervalParams</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_update_interval&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;new_interval&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">new_interval</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.lock" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.lock">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">lock</span><span class="signature">(
    self,
    authority: Optional[solana.keypair.Keypair] = None
) -&gt; &lt;function NewType.&lt;locals&gt;.new_type at 0x103bd2940&gt;</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">lock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Keypair</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">authority</span> <span class="o">=</span> <span class="n">authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_lock&#39;</span><span class="p">](</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.set_authority" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.set_authority">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">set_authority</span><span class="signature">(
    self,
    new_authority: solana.keypair.Keypair,
    current_authority: Optional[solana.keypair.Keypair] = None
) -&gt; &lt;function NewType.&lt;locals&gt;.new_type at 0x103bd2940&gt;</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_authority</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_authority</span><span class="p">:</span> <span class="n">Keypair</span><span class="p">,</span> <span class="n">current_authority</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Keypair</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="n">current_authority</span> <span class="o">=</span> <span class="n">current_authority</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s1">&#39;aggregator_set_authoirty&#39;</span><span class="p">](</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;new_authority&quot;</span><span class="p">:</span> <span class="n">new_authority</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">current_authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">current_authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.remove_job" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.remove_job">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">remove_job</span><span class="signature">(
    self,
    aggregator: Any,
    oracle_account: <a href="#OracleAccount">switchboardpy.OracleAccount</a>,
    params: <a href="#AggregatorSaveResultParams">switchboardpy.AggregatorSaveResultParams</a>
) -&gt; &lt;function NewType.&lt;locals&gt;.new_type at 0x103bd2940&gt;</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">remove_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">oracle_account</span><span class="p">:</span> <span class="n">OracleAccount</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSaveResultParams</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransactionSignature</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
            <span class="n">tx</span><span class="o">=</span><span class="p">(</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_result_txn</span><span class="p">(</span>
                    <span class="n">aggregator</span><span class="p">,</span>
                    <span class="n">oracle_account</span><span class="p">,</span>
                    <span class="n">params</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.get_oracle_index" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.get_oracle_index">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">get_oracle_index</span><span class="signature">(self, oracle_pubkey: solana.publickey.PublicKey)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_oracle_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oracle_pubkey</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">):</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">curr_oracle_pubkey</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">current_round</span><span class="o">.</span><span class="n">oracle_pubkeys_data</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">curr_oracle_pubkey</span> <span class="o">==</span> <span class="n">oracle_pubkey</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">i</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AggregatorAccount.save_result_txn" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorAccount.save_result_txn">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">save_result_txn</span><span class="signature">(
    self,
    aggregator: Any,
    oracle_account: <a href="#OracleAccount">switchboardpy.OracleAccount</a>,
    params: <a href="#AggregatorSaveResultParams">switchboardpy.AggregatorSaveResultParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">save_result_txn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregator</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">oracle_account</span><span class="p">:</span> <span class="n">OracleAccount</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AggregatorSaveResultParams</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">remaining_accounts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">oracle_request_batch_size</span><span class="p">):</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aggregator</span><span class="o">.</span><span class="n">current_round</span><span class="o">.</span><span class="n">oracle_pubkeys_data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">oracle</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">oracles</span><span class="p">:</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">oracle</span><span class="o">.</span><span class="n">token_account</span><span class="p">)</span>
        <span class="n">queue_pubkey</span> <span class="o">=</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">queue_pubkey</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue_pubkey</span><span class="p">))</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="p">,</span>
            <span class="bp">self</span>
        <span class="p">)</span>
        <span class="n">escrow</span> <span class="o">=</span> <span class="n">get_associated_token_address</span><span class="p">(</span><span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> <span class="n">params</span><span class="o">.</span><span class="n">token_mint</span><span class="p">)</span>
        <span class="n">feed_permission_account</span><span class="p">,</span> <span class="n">feed_permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">queue_authority</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="n">oracle_permission_account</span><span class="p">,</span> <span class="n">oracle_permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">queue_authority</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="n">oracle_account</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="n">digest</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">produce_job_hash</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">jobs</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>
        <span class="n">history_buffer</span> <span class="o">=</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">history_buffer</span>
        <span class="k">if</span> <span class="n">history_buffer</span> <span class="o">==</span> <span class="n">PublicKey</span><span class="p">(</span><span class="s1">&#39;11111111111111111111111111111111&#39;</span><span class="p">):</span>
            <span class="n">history_buffer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">transaction</span><span class="p">[</span><span class="s1">&#39;aggregator_save_result&#39;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;oracle_idx&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_idx</span><span class="p">,</span>
                <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">error</span><span class="p">,</span>
                <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">),</span>
                <span class="s2">&quot;jobs_checksum&quot;</span><span class="p">:</span> <span class="n">digest</span><span class="p">,</span>
                <span class="s2">&quot;min_response&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">min_response</span><span class="p">)</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">),</span>
                <span class="s2">&quot;max_response&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">max_response</span><span class="p">)</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">),</span>
                <span class="s2">&quot;feed_permission_bump&quot;</span><span class="p">:</span> <span class="n">feed_permission_bump</span><span class="p">,</span>
                <span class="s2">&quot;oracle_permission_bump&quot;</span><span class="p">:</span> <span class="n">oracle_permission_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bump&quot;</span><span class="p">:</span> <span class="n">lease_bump</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle&quot;</span><span class="p">:</span> <span class="n">oracle_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_authority&quot;</span><span class="p">:</span> <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;feed_permission&quot;</span><span class="p">:</span> <span class="n">feed_permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_permission&quot;</span><span class="p">:</span> <span class="n">oracle_permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;history_buffer&quot;</span><span class="p">:</span> <span class="n">history_buffer</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">token_mint</span>
                <span class="p">},</span>
                <span class="n">remaining_accounts</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;is_signer&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;is_writable&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;pubkey&quot;</span><span class="p">:</span> <span class="n">pubkey</span><span class="p">}</span> <span class="k">for</span> <span class="n">pubkey</span> <span class="ow">in</span> <span class="n">remaining_accounts</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="AggregatorHistoryRow">
                                <div class="attr class">
        <a class="headerlink" href="#AggregatorHistoryRow">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">AggregatorHistoryRow</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">AggregatorHistoryRow</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;AggregatorHistoryRow is a wrapper for the row structure of elements in the aggregator history buffer.</span>
<span class="sd">    </span>
<span class="sd">    Attributes:</span>
<span class="sd">        timestamp (int): timestamp of the aggregator result</span>
<span class="sd">        value (Decimal): Aggregator value at the timestamp</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">timestamp</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Decimal</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate an AggregatorHistoryRow from a retrieved buffer representation</span>

<span class="sd">    Args:</span>
<span class="sd">        buf (list): Anchor-loaded buffer representation of AggregatorHistoryRow</span>

<span class="sd">    Returns:</span>
<span class="sd">        AggregatorHistoryRow</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_buffer</span><span class="p">(</span><span class="n">buf</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">timestamp</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack_from</span><span class="p">(</span><span class="s2">&quot;&lt;L&quot;</span><span class="p">,</span> <span class="n">buf</span><span class="p">[:</span><span class="mi">8</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">mantissa</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack_from</span><span class="p">(</span><span class="s2">&quot;&lt;L&quot;</span><span class="p">,</span> <span class="n">buf</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="mi">24</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">scale</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack_from</span><span class="p">(</span><span class="s2">&quot;&lt;L&quot;</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="mi">24</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">decimal</span> <span class="o">=</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">sbd_to_decimal</span><span class="p">({</span><span class="s2">&quot;mantissa&quot;</span><span class="p">:</span> <span class="n">mantissa</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="n">scale</span><span class="p">})</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">AggregatorHistoryRow</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">decimal</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
</pre></div>

        </details>

            <div class="docstring"><p>AggregatorHistoryRow is a wrapper for the row structure of elements in the aggregator history buffer.</p>

<p>Attributes:
    timestamp (int): timestamp of the aggregator result
    value (Decimal): Aggregator value at the timestamp</p>
</div>


                            <div id="AggregatorHistoryRow.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorHistoryRow.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">AggregatorHistoryRow</span><span class="signature">(timestamp: int, value: decimal.Decimal)</span>
    </div>

    
    

                            </div>
                            <div id="AggregatorHistoryRow.value" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorHistoryRow.value">#&nbsp;&nbsp</a>

        <span class="name">value</span><span class="annotation">: decimal.Decimal</span>
    </div>

    
            <div class="docstring"><p>Generate an AggregatorHistoryRow from a retrieved buffer representation</p>

<p>Args:
    buf (list): Anchor-loaded buffer representation of AggregatorHistoryRow</p>

<p>Returns:
    AggregatorHistoryRow</p>
</div>


                            </div>
                            <div id="AggregatorHistoryRow.from_buffer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorHistoryRow.from_buffer">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">from_buffer</span><span class="signature">(buf: bytes)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_buffer</span><span class="p">(</span><span class="n">buf</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">timestamp</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack_from</span><span class="p">(</span><span class="s2">&quot;&lt;L&quot;</span><span class="p">,</span> <span class="n">buf</span><span class="p">[:</span><span class="mi">8</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">mantissa</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack_from</span><span class="p">(</span><span class="s2">&quot;&lt;L&quot;</span><span class="p">,</span> <span class="n">buf</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="mi">24</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">scale</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack_from</span><span class="p">(</span><span class="s2">&quot;&lt;L&quot;</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="mi">24</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">decimal</span> <span class="o">=</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">sbd_to_decimal</span><span class="p">({</span><span class="s2">&quot;mantissa&quot;</span><span class="p">:</span> <span class="n">mantissa</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="n">scale</span><span class="p">})</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">AggregatorHistoryRow</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">decimal</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="AggregatorInitParams">
                                <div class="attr class">
        <a class="headerlink" href="#AggregatorInitParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">AggregatorInitParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">AggregatorInitParams</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Number of oracles to request on aggregator update.&quot;&quot;&quot;</span>
    <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;Minimum number of oracle responses required before a round is validated.&quot;&quot;&quot;</span>
    <span class="n">min_required_oracle_results</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;Minimum number of seconds required between aggregator rounds.&quot;&quot;&quot;</span>
    <span class="n">min_required_job_results</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;Minimum number of seconds required between aggregator rounds.&quot;&quot;&quot;</span>
    <span class="n">min_update_delay_seconds</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;The queue to which this aggregator will be linked&quot;&quot;&quot;</span>
    <span class="n">queue_account</span><span class="p">:</span> <span class="n">OracleQueueAccount</span>
 
    <span class="sd">&quot;&quot;&quot;Name of the aggregator to store on-chain.&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Metadata of the aggregator to store on-chain.&quot;&quot;&quot;</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;unix_timestamp for which no feed update will occur before.&quot;&quot;&quot;</span>
    <span class="n">start_after</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Change percentage required between a previous round and the current round.</span>
<span class="sd">    If variance percentage is not met, reject new oracle responses.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">variance_threshold</span><span class="p">:</span> <span class="n">Decimal</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Number of seconds for which, even if the variance threshold is not passed,</span>
<span class="sd">    accept new responses from oracles.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">force_report_period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    unix_timestamp after which funds may be withdrawn from the aggregator.</span>
<span class="sd">    null/undefined/0 means the feed has no expiration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">expiration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An optional wallet for receiving kickbacks from job usage in feeds.</span>
<span class="sd">    Defaults to token vault.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">keypair</span><span class="p">:</span> <span class="n">Keypair</span> <span class="o">=</span> <span class="kc">None</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An optional wallet for receiving kickbacks from job usage in feeds.</span>
<span class="sd">    Defaults to token vault.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">author_wallet</span><span class="p">:</span> <span class="n">PublicKey</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    If included, this keypair will be the aggregator authority rather than</span>
<span class="sd">    the aggregator keypair.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">authority</span><span class="p">:</span> <span class="n">PublicKey</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Disable automatic updates&quot;&quot;&quot;</span>
    <span class="n">disable_crank</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Number of oracles to request on aggregator update.</p>
</div>


                            <div id="AggregatorInitParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorInitParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">AggregatorInitParams</span><span class="signature">(
    batch_size: int,
    min_required_oracle_results: int,
    min_required_job_results: int,
    min_update_delay_seconds: int,
    queue_account: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a>,
    name: bytes = None,
    metadata: bytes = None,
    start_after: int = None,
    variance_threshold: decimal.Decimal = None,
    force_report_period: int = None,
    expiration: int = None,
    keypair: solana.keypair.Keypair = None,
    author_wallet: solana.publickey.PublicKey = None,
    authority: solana.publickey.PublicKey = None,
    disable_crank: bool = None
)</span>
    </div>

    
    

                            </div>
                            <div id="AggregatorInitParams.batch_size" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.batch_size">#&nbsp;&nbsp</a>

        <span class="name">batch_size</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>Minimum number of oracle responses required before a round is validated.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.min_required_oracle_results" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.min_required_oracle_results">#&nbsp;&nbsp</a>

        <span class="name">min_required_oracle_results</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>Minimum number of seconds required between aggregator rounds.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.min_required_job_results" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.min_required_job_results">#&nbsp;&nbsp</a>

        <span class="name">min_required_job_results</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>Minimum number of seconds required between aggregator rounds.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.min_update_delay_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.min_update_delay_seconds">#&nbsp;&nbsp</a>

        <span class="name">min_update_delay_seconds</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>The queue to which this aggregator will be linked</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.queue_account" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.queue_account">#&nbsp;&nbsp</a>

        <span class="name">queue_account</span><span class="annotation">: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a></span>
    </div>

    
            <div class="docstring"><p>Name of the aggregator to store on-chain.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="annotation">: bytes</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Metadata of the aggregator to store on-chain.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.metadata" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.metadata">#&nbsp;&nbsp</a>

        <span class="name">metadata</span><span class="annotation">: bytes</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>unix_timestamp for which no feed update will occur before.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.start_after" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.start_after">#&nbsp;&nbsp</a>

        <span class="name">start_after</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Change percentage required between a previous round and the current round.
If variance percentage is not met, reject new oracle responses.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.variance_threshold" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.variance_threshold">#&nbsp;&nbsp</a>

        <span class="name">variance_threshold</span><span class="annotation">: decimal.Decimal</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Number of seconds for which, even if the variance threshold is not passed,
accept new responses from oracles.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.force_report_period" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.force_report_period">#&nbsp;&nbsp</a>

        <span class="name">force_report_period</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>unix_timestamp after which funds may be withdrawn from the aggregator.
null/undefined/0 means the feed has no expiration.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.expiration" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.expiration">#&nbsp;&nbsp</a>

        <span class="name">expiration</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>An optional wallet for receiving kickbacks from job usage in feeds.
Defaults to token vault.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span><span class="annotation">: solana.keypair.Keypair</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>An optional wallet for receiving kickbacks from job usage in feeds.
Defaults to token vault.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.author_wallet" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.author_wallet">#&nbsp;&nbsp</a>

        <span class="name">author_wallet</span><span class="annotation">: solana.publickey.PublicKey</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>If included, this keypair will be the aggregator authority rather than
the aggregator keypair.</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.authority" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.authority">#&nbsp;&nbsp</a>

        <span class="name">authority</span><span class="annotation">: solana.publickey.PublicKey</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Disable automatic updates</p>
</div>


                            </div>
                            <div id="AggregatorInitParams.disable_crank" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorInitParams.disable_crank">#&nbsp;&nbsp</a>

        <span class="name">disable_crank</span><span class="annotation">: bool</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="AggregatorOpenRoundParams">
                                <div class="attr class">
        <a class="headerlink" href="#AggregatorOpenRoundParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">AggregatorOpenRoundParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">AggregatorOpenRoundParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;The oracle queue from which oracles are assigned this update.&quot;&quot;&quot;</span>
    <span class="n">oracle_queue_account</span><span class="p">:</span> <span class="n">OracleQueueAccount</span>
    
    <span class="sd">&quot;&quot;&quot;The token wallet which will receive rewards for calling update on this feed.&quot;&quot;&quot;</span>
    <span class="n">payout_wallet</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Data feeds on a crank are ordered by their next available update time with some </span>
<span class="sd">    level of jitter to mitigate oracles being assigned to the same update request upon </span>
<span class="sd">    each iteration of the queue, which makes them susceptible to a malicous oracle. </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">jitter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>The oracle queue from which oracles are assigned this update.</p>
</div>


                            <div id="AggregatorOpenRoundParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorOpenRoundParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">AggregatorOpenRoundParams</span><span class="signature">(
    oracle_queue_account: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a>,
    payout_wallet: solana.publickey.PublicKey,
    jitter: int = None
)</span>
    </div>

    
    

                            </div>
                            <div id="AggregatorOpenRoundParams.oracle_queue_account" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorOpenRoundParams.oracle_queue_account">#&nbsp;&nbsp</a>

        <span class="name">oracle_queue_account</span><span class="annotation">: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a></span>
    </div>

    
            <div class="docstring"><p>The token wallet which will receive rewards for calling update on this feed.</p>
</div>


                            </div>
                            <div id="AggregatorOpenRoundParams.payout_wallet" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorOpenRoundParams.payout_wallet">#&nbsp;&nbsp</a>

        <span class="name">payout_wallet</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>Data feeds on a crank are ordered by their next available update time with some 
level of jitter to mitigate oracles being assigned to the same update request upon 
each iteration of the queue, which makes them susceptible to a malicous oracle.</p>
</div>


                            </div>
                            <div id="AggregatorOpenRoundParams.jitter" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorOpenRoundParams.jitter">#&nbsp;&nbsp</a>

        <span class="name">jitter</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="AggregatorSaveResultParams">
                                <div class="attr class">
        <a class="headerlink" href="#AggregatorSaveResultParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">AggregatorSaveResultParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">AggregatorSaveResultParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Index in the list of oracles in the aggregator assigned to this round update.&quot;&quot;&quot;</span>
    <span class="n">oracle_idx</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;Reports that an error occured and the oracle could not send a value.&quot;&quot;&quot;</span>
    <span class="n">error</span><span class="p">:</span> <span class="nb">bool</span>

    <span class="sd">&quot;&quot;&quot;Value the oracle is responding with for this update.&quot;&quot;&quot;</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Decimal</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The minimum value this oracle has seen this round for the jobs listed in the</span>
<span class="sd">    aggregator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">min_response</span><span class="p">:</span> <span class="n">Decimal</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The maximum value this oracle has seen this round for the jobs listed in the</span>
<span class="sd">    aggregator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">max_response</span><span class="p">:</span> <span class="n">Decimal</span>

    <span class="sd">&quot;&quot;&quot;List of OracleJobs that were performed to produce this result&quot;&quot;&quot;</span>
    <span class="n">jobs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OracleJob</span><span class="p">]</span>

    <span class="sd">&quot;&quot;&quot;Authority of the queue the aggregator is attached to&quot;&quot;&quot;</span>
    <span class="n">queue_authority</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;Program token mint&quot;&quot;&quot;</span>
    <span class="n">token_mint</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;List of parsed oracles&quot;&quot;&quot;</span>
    <span class="n">oracles</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Index in the list of oracles in the aggregator assigned to this round update.</p>
</div>


                            <div id="AggregatorSaveResultParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorSaveResultParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">AggregatorSaveResultParams</span><span class="signature">(
    oracle_idx: int,
    error: bool,
    value: decimal.Decimal,
    min_response: decimal.Decimal,
    max_response: decimal.Decimal,
    jobs: list[<a href="#OracleJob">switchboardpy.OracleJob</a>],
    queue_authority: solana.publickey.PublicKey,
    token_mint: solana.publickey.PublicKey,
    oracles: list[typing.Any]
)</span>
    </div>

    
    

                            </div>
                            <div id="AggregatorSaveResultParams.oracle_idx" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorSaveResultParams.oracle_idx">#&nbsp;&nbsp</a>

        <span class="name">oracle_idx</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>Reports that an error occured and the oracle could not send a value.</p>
</div>


                            </div>
                            <div id="AggregatorSaveResultParams.error" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorSaveResultParams.error">#&nbsp;&nbsp</a>

        <span class="name">error</span><span class="annotation">: bool</span>
    </div>

    
            <div class="docstring"><p>Value the oracle is responding with for this update.</p>
</div>


                            </div>
                            <div id="AggregatorSaveResultParams.value" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorSaveResultParams.value">#&nbsp;&nbsp</a>

        <span class="name">value</span><span class="annotation">: decimal.Decimal</span>
    </div>

    
            <div class="docstring"><p>The minimum value this oracle has seen this round for the jobs listed in the
aggregator.</p>
</div>


                            </div>
                            <div id="AggregatorSaveResultParams.min_response" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorSaveResultParams.min_response">#&nbsp;&nbsp</a>

        <span class="name">min_response</span><span class="annotation">: decimal.Decimal</span>
    </div>

    
            <div class="docstring"><p>The maximum value this oracle has seen this round for the jobs listed in the
aggregator.</p>
</div>


                            </div>
                            <div id="AggregatorSaveResultParams.max_response" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorSaveResultParams.max_response">#&nbsp;&nbsp</a>

        <span class="name">max_response</span><span class="annotation">: decimal.Decimal</span>
    </div>

    
            <div class="docstring"><p>List of OracleJobs that were performed to produce this result</p>
</div>


                            </div>
                            <div id="AggregatorSaveResultParams.jobs" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorSaveResultParams.jobs">#&nbsp;&nbsp</a>

        <span class="name">jobs</span><span class="annotation">: list[<a href="#OracleJob">switchboardpy.OracleJob</a>]</span>
    </div>

    
            <div class="docstring"><p>Authority of the queue the aggregator is attached to</p>
</div>


                            </div>
                            <div id="AggregatorSaveResultParams.queue_authority" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorSaveResultParams.queue_authority">#&nbsp;&nbsp</a>

        <span class="name">queue_authority</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>Program token mint</p>
</div>


                            </div>
                            <div id="AggregatorSaveResultParams.token_mint" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorSaveResultParams.token_mint">#&nbsp;&nbsp</a>

        <span class="name">token_mint</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>List of parsed oracles</p>
</div>


                            </div>
                </section>
                <section id="AggregatorSetHistoryBufferParams">
                                <div class="attr class">
        <a class="headerlink" href="#AggregatorSetHistoryBufferParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">AggregatorSetHistoryBufferParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">AggregatorSetHistoryBufferParams</span><span class="p">:</span>
    
    <span class="sd">&quot;&quot;&quot;Number of elements for the history buffer to fit&quot;&quot;&quot;</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;Authority keypair for the aggregator&quot;&quot;&quot;</span>
    <span class="n">authority</span><span class="p">:</span> <span class="n">Keypair</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Number of elements for the history buffer to fit</p>
</div>


                            <div id="AggregatorSetHistoryBufferParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AggregatorSetHistoryBufferParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">AggregatorSetHistoryBufferParams</span><span class="signature">(size: int, authority: solana.keypair.Keypair = None)</span>
    </div>

    
    

                            </div>
                            <div id="AggregatorSetHistoryBufferParams.size" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorSetHistoryBufferParams.size">#&nbsp;&nbsp</a>

        <span class="name">size</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>Authority keypair for the aggregator</p>
</div>


                            </div>
                            <div id="AggregatorSetHistoryBufferParams.authority" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AggregatorSetHistoryBufferParams.authority">#&nbsp;&nbsp</a>

        <span class="name">authority</span><span class="annotation">: solana.keypair.Keypair</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="CrankAccount">
                                <div class="attr class">
        <a class="headerlink" href="#CrankAccount">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">CrankAccount</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">CrankAccount</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; A Switchboard account representing a crank of aggregators ordered by next update time.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        program (anchor.Program): The anchor program ref</span>
<span class="sd">        public_key (PublicKey | None): This crank&#39;s public key</span>
<span class="sd">        keypair (Keypair | None): this crank&#39;s keypair</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the size of an CrankAccount on chain</span>

<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: size of the CrankAccount type on chain</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;CrankAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and parse CrankAccount data based on the program IDL</span>

<span class="sd">    Args:</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        CrankAccount</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">CrankAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create and initialize the CrankAccount.</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchor.Program): Switchboard program representation holding connection and IDL.</span>
<span class="sd">        params (CrankInitParams)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        CrankAccount</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">CrankInitParams</span><span class="p">):</span>
        <span class="n">crank_account</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">buffer</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;CrankAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
        <span class="n">max_rows</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">max_rows</span> <span class="ow">or</span> <span class="mi">500</span>
        <span class="n">crank_size</span> <span class="o">=</span> <span class="n">max_rows</span> <span class="o">*</span> <span class="mi">40</span> <span class="o">+</span> <span class="mi">8</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_minimum_balance_for_rent_exemption</span><span class="p">(</span><span class="n">crank_size</span><span class="p">)</span>
        <span class="n">lamports</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;crank_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">32</span><span class="p">),</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">metadata</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">128</span><span class="p">),</span>
                <span class="s2">&quot;crank_size&quot;</span><span class="p">:</span> <span class="n">max_rows</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;crank&quot;</span><span class="p">:</span> <span class="n">crank_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;buffer&quot;</span><span class="p">:</span> <span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">crank_account</span><span class="p">,</span> <span class="n">buffer</span><span class="p">],</span>
                <span class="n">pre_instructions</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">create_account</span><span class="p">(</span>
                        <span class="n">CreateAccountParams</span><span class="p">(</span>
                            <span class="n">from_pubkey</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> 
                            <span class="n">new_account_pubkey</span><span class="o">=</span><span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">lamports</span><span class="o">=</span><span class="n">lamports</span><span class="p">,</span> 
                            <span class="n">space</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> 
                            <span class="n">program_id</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">CrankAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">keypair</span><span class="o">=</span><span class="n">crank_account</span><span class="p">))</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pushes a new aggregator onto the crank</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        params (CrankPushParams): aggregator and related data</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">CrankPushParams</span><span class="p">):</span>
        <span class="n">aggregator_account</span><span class="p">:</span> <span class="n">AggregatorAccount</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">aggregator_account</span>
        <span class="n">crank</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">crank</span><span class="o">.</span><span class="n">queue_pubkey</span><span class="p">))</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">queue_authority</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">authority</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">queue_account</span><span class="p">,</span> <span class="n">aggregator_account</span><span class="p">)</span>
        <span class="n">lease</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">lease</span> <span class="o">=</span> <span class="k">await</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;A requested lease pda account has not been initialized.&#39;</span><span class="p">)</span>
        <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">queue_authority</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;A requested permission pda account has not been initialized.&#39;</span><span class="p">)</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;crank_push&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;permission_bump&quot;</span><span class="p">:</span> <span class="n">permission_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;crank&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;queue_authority&quot;</span><span class="p">:</span> <span class="n">queue_authority</span><span class="p">,</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">lease</span><span class="o">.</span><span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;data_buffer&quot;</span><span class="p">:</span> <span class="n">crank</span><span class="o">.</span><span class="n">data_buffer</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pops a tx from the crank.</span>

<span class="sd">    Args:</span>
<span class="sd">        params (CrankPopParams)</span>

<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">pop_txn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">CrankPopParams</span><span class="p">):</span>
        <span class="n">fail_open_on_account_mismatch</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">fail_open_on_mismatch</span> <span class="ow">or</span> <span class="kc">False</span>
        <span class="nb">next</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">ready_pubkeys</span> <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">peak_next_ready</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">next</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Crank is not ready to be turned&#39;</span><span class="p">)</span>
        <span class="n">remaining_accounts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">lease_bumps_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">permission_bumps_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">params</span><span class="o">.</span><span class="n">queue_pubkey</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">next</span><span class="p">:</span>
            <span class="n">aggregator_account</span> <span class="o">=</span> <span class="n">AggregatorAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">row</span><span class="p">))</span>
            <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
                <span class="n">queue_account</span><span class="p">,</span>
                <span class="n">aggregator_account</span>
            <span class="p">)</span>
            <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
                <span class="n">params</span><span class="o">.</span><span class="n">queue_authority</span><span class="p">,</span>
                <span class="n">params</span><span class="o">.</span><span class="n">queue_pubkey</span><span class="p">,</span>
                <span class="n">row</span>
            <span class="p">)</span>
            <span class="n">escrow</span> <span class="o">=</span> <span class="n">get_associated_token_address</span><span class="p">(</span>
                <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="n">params</span><span class="o">.</span><span class="n">token_mint</span>
            <span class="p">)</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">escrow</span><span class="p">)</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
            <span class="n">lease_bumps_map</span><span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">to_base58</span><span class="p">()]</span> <span class="o">=</span> <span class="n">lease_bump</span>
            <span class="n">permission_bumps_map</span><span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">to_base58</span><span class="p">()]</span> <span class="o">=</span> <span class="n">permission_bump</span>
        <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">key</span> <span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="n">crank</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">crank</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">queue</span>
        <span class="n">lease_bumps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">permission_bumps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">remaining_accounts</span><span class="p">:</span>
            <span class="n">lease_bumps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lease_bumps_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">to_base58</span><span class="p">())</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">permission_bumps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">permission_bumps_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">to_base58</span><span class="p">())</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">transaction</span><span class="p">[</span><span class="s2">&quot;crank_pop&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bumps&quot;</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">lease_bumps</span><span class="p">),</span>
                <span class="s2">&quot;permission_bumps&quot;</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">permission_bumps</span><span class="p">),</span>
                <span class="s2">&quot;nonce&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">nonce</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;fail_open_on_account_mismatch&quot;</span><span class="p">:</span> <span class="n">fail_open_on_account_mismatch</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;crank&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_pubkey</span><span class="p">,</span>
                    <span class="s2">&quot;queue_authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_authority</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;payout_wallet&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">payout_wallet</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;crank_data_buffer&quot;</span><span class="p">:</span> <span class="n">crank</span><span class="o">.</span><span class="n">data_buffer</span><span class="p">,</span>
                    <span class="s2">&quot;queue_data_buffer&quot;</span><span class="p">:</span> <span class="n">queue</span><span class="o">.</span><span class="n">data_buffer</span>
                <span class="p">},</span>
                <span class="n">remaining_accounts</span><span class="o">=</span><span class="p">[{</span> <span class="s2">&quot;is_signer&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;is_writable&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;pubkey&quot;</span><span class="p">:</span> <span class="n">pubkey</span> <span class="p">}</span> <span class="k">for</span> <span class="n">pubkey</span> <span class="ow">in</span> <span class="n">remaining_accounts</span><span class="p">],</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">payer_keypair</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pops an aggregator from the crank</span>

<span class="sd">    Args:</span>
<span class="sd">        params (CrankPopParams)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">CrankPopParams</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">txn</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop_txn</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">send_transaction</span><span class="p">(</span><span class="n">txn</span><span class="p">,</span> <span class="p">[</span><span class="n">payer_keypair</span><span class="p">])</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get an array of the next aggregator pubkeys to be popped from the crank, limited by n</span>

<span class="sd">    Args:</span>
<span class="sd">        n (int): limit of pubkeys to return</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[CrankRow]: Pubkey list of Aggregators and next timestamp to be popped, ordered by timestamp</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">peak_next_with_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">crank</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>

        <span class="c1"># get list slice of length pq_size </span>
        <span class="n">pq_data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CrankRow</span><span class="p">]</span> <span class="o">=</span> <span class="n">crank</span><span class="o">.</span><span class="n">pq_data</span><span class="p">[:</span><span class="n">crank</span><span class="o">.</span><span class="n">pq_size</span><span class="p">]</span>

        <span class="c1"># sort by CrankRow next timestamp</span>
        <span class="n">pq_data</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">crank_row</span><span class="p">:</span> <span class="n">crank_row</span><span class="o">.</span><span class="n">next_timestamp</span><span class="p">)</span>

        <span class="c1"># return items</span>
        <span class="k">return</span> <span class="n">pq_data</span><span class="p">[:</span><span class="n">n</span><span class="p">]</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get an array of the next readily updateable aggregator pubkeys to be popped</span>
<span class="sd">    from the crank, limited by n</span>

<span class="sd">    Args:</span>
<span class="sd">        n (Optional[int]): limit of pubkeys to return</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[PublicKey]: Pubkey list of Aggregators and next timestamp to be popped, ordered by timestamp</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">peak_next_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
        <span class="n">crank</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">pq_data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CrankRow</span><span class="p">]</span> <span class="o">=</span> <span class="n">crank</span><span class="o">.</span><span class="n">pq_data</span><span class="p">[:</span><span class="n">crank</span><span class="o">.</span><span class="n">pq_size</span><span class="p">]</span>
        <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">crank_row</span><span class="p">:</span> <span class="n">crank_row</span><span class="o">.</span><span class="n">next_timestamp</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">pubkey</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">now</span> <span class="o">&gt;=</span> <span class="n">item</span><span class="o">.</span><span class="n">next_timestamp</span><span class="p">,</span> <span class="n">pq_data</span><span class="p">))</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)[:(</span><span class="n">n</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">pq_data</span><span class="p">))]]</span>
        
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get an array of the next aggregator pubkeys to be popped from the crank, limited by n</span>

<span class="sd">    Args:</span>
<span class="sd">        n (int): limit of pubkeys to return</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[PublicKey]: Pubkey list of Aggregators and next timestamp to be popped, ordered by timestamp</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">peak_next</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">crank</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">pq_data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CrankRow</span><span class="p">]</span> <span class="o">=</span> <span class="n">crank</span><span class="o">.</span><span class="n">pq_data</span><span class="p">[:</span><span class="n">crank</span><span class="o">.</span><span class="n">pq_size</span><span class="p">]</span>
        <span class="n">pq_data</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">crank_row</span><span class="p">:</span> <span class="n">crank_row</span><span class="o">.</span><span class="n">next_timestamp</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">pubkey</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">pq_data</span><span class="p">[:</span><span class="n">n</span><span class="p">]]</span>
</pre></div>

        </details>

            <div class="docstring"><p>A Switchboard account representing a crank of aggregators ordered by next update time.</p>

<p>Attributes:
    program (anchor.Program): The anchor program ref
    public_key (PublicKey | None): This crank's public key
    keypair (Keypair | None): this crank's keypair</p>
</div>


                            <div id="CrankAccount.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankAccount.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">CrankAccount</span><span class="signature">(params: <a href="#AccountParams">switchboardpy.AccountParams</a>)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="CrankAccount.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankAccount.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span>
    </div>

    
            <div class="docstring"><p>Get the size of an CrankAccount on chain</p>

<p>Args:</p>

<p>Returns:
    int: size of the CrankAccount type on chain</p>
</div>


                            </div>
                            <div id="CrankAccount.size" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankAccount.size">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">size</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;CrankAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="CrankAccount.load_data" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankAccount.load_data">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_data</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">CrankAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="CrankAccount.create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankAccount.create">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">async def</span>
            <span class="name">create</span><span class="signature">(
    program: anchorpy.program.core.Program,
    params: <a href="#CrankInitParams">switchboardpy.CrankInitParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">CrankInitParams</span><span class="p">):</span>
        <span class="n">crank_account</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">buffer</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;CrankAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
        <span class="n">max_rows</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">max_rows</span> <span class="ow">or</span> <span class="mi">500</span>
        <span class="n">crank_size</span> <span class="o">=</span> <span class="n">max_rows</span> <span class="o">*</span> <span class="mi">40</span> <span class="o">+</span> <span class="mi">8</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_minimum_balance_for_rent_exemption</span><span class="p">(</span><span class="n">crank_size</span><span class="p">)</span>
        <span class="n">lamports</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;crank_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">32</span><span class="p">),</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">metadata</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">128</span><span class="p">),</span>
                <span class="s2">&quot;crank_size&quot;</span><span class="p">:</span> <span class="n">max_rows</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;crank&quot;</span><span class="p">:</span> <span class="n">crank_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;buffer&quot;</span><span class="p">:</span> <span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">crank_account</span><span class="p">,</span> <span class="n">buffer</span><span class="p">],</span>
                <span class="n">pre_instructions</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">create_account</span><span class="p">(</span>
                        <span class="n">CreateAccountParams</span><span class="p">(</span>
                            <span class="n">from_pubkey</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> 
                            <span class="n">new_account_pubkey</span><span class="o">=</span><span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">lamports</span><span class="o">=</span><span class="n">lamports</span><span class="p">,</span> 
                            <span class="n">space</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> 
                            <span class="n">program_id</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">CrankAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">keypair</span><span class="o">=</span><span class="n">crank_account</span><span class="p">))</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="CrankAccount.push" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankAccount.push">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">push</span><span class="signature">(self, params: <a href="#CrankPushParams">switchboardpy.CrankPushParams</a>)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">CrankPushParams</span><span class="p">):</span>
        <span class="n">aggregator_account</span><span class="p">:</span> <span class="n">AggregatorAccount</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">aggregator_account</span>
        <span class="n">crank</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">crank</span><span class="o">.</span><span class="n">queue_pubkey</span><span class="p">))</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">queue_authority</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">authority</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">queue_account</span><span class="p">,</span> <span class="n">aggregator_account</span><span class="p">)</span>
        <span class="n">lease</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">lease</span> <span class="o">=</span> <span class="k">await</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;A requested lease pda account has not been initialized.&#39;</span><span class="p">)</span>
        <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">queue_authority</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;A requested permission pda account has not been initialized.&#39;</span><span class="p">)</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;crank_push&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;permission_bump&quot;</span><span class="p">:</span> <span class="n">permission_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;crank&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;queue_authority&quot;</span><span class="p">:</span> <span class="n">queue_authority</span><span class="p">,</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">lease</span><span class="o">.</span><span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;data_buffer&quot;</span><span class="p">:</span> <span class="n">crank</span><span class="o">.</span><span class="n">data_buffer</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="CrankAccount.pop_txn" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankAccount.pop_txn">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">pop_txn</span><span class="signature">(self, params: <a href="#CrankPopParams">switchboardpy.CrankPopParams</a>)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">pop_txn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">CrankPopParams</span><span class="p">):</span>
        <span class="n">fail_open_on_account_mismatch</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">fail_open_on_mismatch</span> <span class="ow">or</span> <span class="kc">False</span>
        <span class="nb">next</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">ready_pubkeys</span> <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">peak_next_ready</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">next</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Crank is not ready to be turned&#39;</span><span class="p">)</span>
        <span class="n">remaining_accounts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">lease_bumps_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">permission_bumps_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">params</span><span class="o">.</span><span class="n">queue_pubkey</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">next</span><span class="p">:</span>
            <span class="n">aggregator_account</span> <span class="o">=</span> <span class="n">AggregatorAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">row</span><span class="p">))</span>
            <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
                <span class="n">queue_account</span><span class="p">,</span>
                <span class="n">aggregator_account</span>
            <span class="p">)</span>
            <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
                <span class="n">params</span><span class="o">.</span><span class="n">queue_authority</span><span class="p">,</span>
                <span class="n">params</span><span class="o">.</span><span class="n">queue_pubkey</span><span class="p">,</span>
                <span class="n">row</span>
            <span class="p">)</span>
            <span class="n">escrow</span> <span class="o">=</span> <span class="n">get_associated_token_address</span><span class="p">(</span>
                <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="n">params</span><span class="o">.</span><span class="n">token_mint</span>
            <span class="p">)</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">escrow</span><span class="p">)</span>
            <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
            <span class="n">lease_bumps_map</span><span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">to_base58</span><span class="p">()]</span> <span class="o">=</span> <span class="n">lease_bump</span>
            <span class="n">permission_bumps_map</span><span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">to_base58</span><span class="p">()]</span> <span class="o">=</span> <span class="n">permission_bump</span>
        <span class="n">remaining_accounts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">key</span> <span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="n">crank</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">crank</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">queue</span>
        <span class="n">lease_bumps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">permission_bumps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">remaining_accounts</span><span class="p">:</span>
            <span class="n">lease_bumps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lease_bumps_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">to_base58</span><span class="p">())</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">permission_bumps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">permission_bumps_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">to_base58</span><span class="p">())</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">transaction</span><span class="p">[</span><span class="s2">&quot;crank_pop&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bumps&quot;</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">lease_bumps</span><span class="p">),</span>
                <span class="s2">&quot;permission_bumps&quot;</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">permission_bumps</span><span class="p">),</span>
                <span class="s2">&quot;nonce&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">nonce</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;fail_open_on_account_mismatch&quot;</span><span class="p">:</span> <span class="n">fail_open_on_account_mismatch</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;crank&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_pubkey</span><span class="p">,</span>
                    <span class="s2">&quot;queue_authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_authority</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;payout_wallet&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">payout_wallet</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;crank_data_buffer&quot;</span><span class="p">:</span> <span class="n">crank</span><span class="o">.</span><span class="n">data_buffer</span><span class="p">,</span>
                    <span class="s2">&quot;queue_data_buffer&quot;</span><span class="p">:</span> <span class="n">queue</span><span class="o">.</span><span class="n">data_buffer</span>
                <span class="p">},</span>
                <span class="n">remaining_accounts</span><span class="o">=</span><span class="p">[{</span> <span class="s2">&quot;is_signer&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;is_writable&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;pubkey&quot;</span><span class="p">:</span> <span class="n">pubkey</span> <span class="p">}</span> <span class="k">for</span> <span class="n">pubkey</span> <span class="ow">in</span> <span class="n">remaining_accounts</span><span class="p">],</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">payer_keypair</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="CrankAccount.pop" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankAccount.pop">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">pop</span><span class="signature">(self, params: <a href="#CrankPopParams">switchboardpy.CrankPopParams</a>)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">CrankPopParams</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">txn</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop_txn</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">send_transaction</span><span class="p">(</span><span class="n">txn</span><span class="p">,</span> <span class="p">[</span><span class="n">payer_keypair</span><span class="p">])</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="CrankAccount.peak_next_with_time" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankAccount.peak_next_with_time">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">peak_next_with_time</span><span class="signature">(self, n: int)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">peak_next_with_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">crank</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>

        <span class="c1"># get list slice of length pq_size </span>
        <span class="n">pq_data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CrankRow</span><span class="p">]</span> <span class="o">=</span> <span class="n">crank</span><span class="o">.</span><span class="n">pq_data</span><span class="p">[:</span><span class="n">crank</span><span class="o">.</span><span class="n">pq_size</span><span class="p">]</span>

        <span class="c1"># sort by CrankRow next timestamp</span>
        <span class="n">pq_data</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">crank_row</span><span class="p">:</span> <span class="n">crank_row</span><span class="o">.</span><span class="n">next_timestamp</span><span class="p">)</span>

        <span class="c1"># return items</span>
        <span class="k">return</span> <span class="n">pq_data</span><span class="p">[:</span><span class="n">n</span><span class="p">]</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="CrankAccount.peak_next_ready" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankAccount.peak_next_ready">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">peak_next_ready</span><span class="signature">(self, n: Optional[int] = None)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">peak_next_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
        <span class="n">crank</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">pq_data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CrankRow</span><span class="p">]</span> <span class="o">=</span> <span class="n">crank</span><span class="o">.</span><span class="n">pq_data</span><span class="p">[:</span><span class="n">crank</span><span class="o">.</span><span class="n">pq_size</span><span class="p">]</span>
        <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">crank_row</span><span class="p">:</span> <span class="n">crank_row</span><span class="o">.</span><span class="n">next_timestamp</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">pubkey</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">now</span> <span class="o">&gt;=</span> <span class="n">item</span><span class="o">.</span><span class="n">next_timestamp</span><span class="p">,</span> <span class="n">pq_data</span><span class="p">))</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)[:(</span><span class="n">n</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">pq_data</span><span class="p">))]]</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="CrankAccount.peak_next" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankAccount.peak_next">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">peak_next</span><span class="signature">(self, n: int)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">peak_next</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">crank</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">pq_data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CrankRow</span><span class="p">]</span> <span class="o">=</span> <span class="n">crank</span><span class="o">.</span><span class="n">pq_data</span><span class="p">[:</span><span class="n">crank</span><span class="o">.</span><span class="n">pq_size</span><span class="p">]</span>
        <span class="n">pq_data</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">crank_row</span><span class="p">:</span> <span class="n">crank_row</span><span class="o">.</span><span class="n">next_timestamp</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">pubkey</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">pq_data</span><span class="p">[:</span><span class="n">n</span><span class="p">]]</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="CrankPopParams">
                                <div class="attr class">
        <a class="headerlink" href="#CrankPopParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">CrankPopParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CrankPopParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Specifies the wallet to reward for turning the crank.&quot;&quot;&quot;</span>
    <span class="n">payout_wallet</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;The pubkey of the linked oracle queue.&quot;&quot;&quot;</span>
    <span class="n">queue_pubkey</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;The pubkey of the linked oracle queue authority.&quot;&quot;&quot;</span>
    <span class="n">queue_authority</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;CrankAccount data&quot;&quot;&quot;</span>
    <span class="n">crank</span><span class="p">:</span> <span class="n">Any</span>

    <span class="sd">&quot;&quot;&quot;QueueAccount data&quot;&quot;&quot;</span>
    <span class="n">queue</span><span class="p">:</span> <span class="n">Any</span>

    <span class="sd">&quot;&quot;&quot;Token mint pubkey&quot;&quot;&quot;</span>
    <span class="n">token_mint</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array of pubkeys to attempt to pop. If discluded, this will be loaded</span>
<span class="sd">    from the crank upon calling.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ready_pubkeys</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Nonce to allow consecutive crank pops with the same blockhash.&quot;&quot;&quot;</span>
    <span class="n">nonce</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">fail_open_on_mismatch</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Specifies the wallet to reward for turning the crank.</p>
</div>


                            <div id="CrankPopParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankPopParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">CrankPopParams</span><span class="signature">(
    payout_wallet: solana.publickey.PublicKey,
    queue_pubkey: solana.publickey.PublicKey,
    queue_authority: solana.publickey.PublicKey,
    crank: Any,
    queue: Any,
    token_mint: solana.publickey.PublicKey,
    ready_pubkeys: list[solana.publickey.PublicKey] = None,
    nonce: int = None,
    fail_open_on_mismatch: bool = None
)</span>
    </div>

    
    

                            </div>
                            <div id="CrankPopParams.payout_wallet" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankPopParams.payout_wallet">#&nbsp;&nbsp</a>

        <span class="name">payout_wallet</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>The pubkey of the linked oracle queue.</p>
</div>


                            </div>
                            <div id="CrankPopParams.queue_pubkey" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankPopParams.queue_pubkey">#&nbsp;&nbsp</a>

        <span class="name">queue_pubkey</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>The pubkey of the linked oracle queue authority.</p>
</div>


                            </div>
                            <div id="CrankPopParams.queue_authority" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankPopParams.queue_authority">#&nbsp;&nbsp</a>

        <span class="name">queue_authority</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>CrankAccount data</p>
</div>


                            </div>
                            <div id="CrankPopParams.crank" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankPopParams.crank">#&nbsp;&nbsp</a>

        <span class="name">crank</span><span class="annotation">: Any</span>
    </div>

    
            <div class="docstring"><p>QueueAccount data</p>
</div>


                            </div>
                            <div id="CrankPopParams.queue" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankPopParams.queue">#&nbsp;&nbsp</a>

        <span class="name">queue</span><span class="annotation">: Any</span>
    </div>

    
            <div class="docstring"><p>Token mint pubkey</p>
</div>


                            </div>
                            <div id="CrankPopParams.token_mint" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankPopParams.token_mint">#&nbsp;&nbsp</a>

        <span class="name">token_mint</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>Array of pubkeys to attempt to pop. If discluded, this will be loaded
from the crank upon calling.</p>
</div>


                            </div>
                            <div id="CrankPopParams.ready_pubkeys" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankPopParams.ready_pubkeys">#&nbsp;&nbsp</a>

        <span class="name">ready_pubkeys</span><span class="annotation">: list[solana.publickey.PublicKey]</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Nonce to allow consecutive crank pops with the same blockhash.</p>
</div>


                            </div>
                            <div id="CrankPopParams.nonce" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankPopParams.nonce">#&nbsp;&nbsp</a>

        <span class="name">nonce</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                            <div id="CrankPopParams.fail_open_on_mismatch" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankPopParams.fail_open_on_mismatch">#&nbsp;&nbsp</a>

        <span class="name">fail_open_on_mismatch</span><span class="annotation">: bool</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="CrankInitParams">
                                <div class="attr class">
        <a class="headerlink" href="#CrankInitParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">CrankInitParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CrankInitParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;OracleQueueAccount for which this crank is associated&quot;&quot;&quot;</span>
    <span class="n">queue_account</span><span class="p">:</span> <span class="n">OracleQueueAccount</span>

    <span class="sd">&quot;&quot;&quot;Buffer specifying crank name&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Buffer specifying crank metadata&quot;&quot;&quot;</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Optional max number of rows&quot;&quot;&quot;</span>
    <span class="n">max_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>OracleQueueAccount for which this crank is associated</p>
</div>


                            <div id="CrankInitParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankInitParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">CrankInitParams</span><span class="signature">(
    queue_account: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a>,
    name: bytes = None,
    metadata: bytes = None,
    max_rows: int = None
)</span>
    </div>

    
    

                            </div>
                            <div id="CrankInitParams.queue_account" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankInitParams.queue_account">#&nbsp;&nbsp</a>

        <span class="name">queue_account</span><span class="annotation">: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a></span>
    </div>

    
            <div class="docstring"><p>Buffer specifying crank name</p>
</div>


                            </div>
                            <div id="CrankInitParams.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankInitParams.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="annotation">: bytes</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Buffer specifying crank metadata</p>
</div>


                            </div>
                            <div id="CrankInitParams.metadata" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankInitParams.metadata">#&nbsp;&nbsp</a>

        <span class="name">metadata</span><span class="annotation">: bytes</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Optional max number of rows</p>
</div>


                            </div>
                            <div id="CrankInitParams.max_rows" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankInitParams.max_rows">#&nbsp;&nbsp</a>

        <span class="name">max_rows</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="CrankPushParams">
                                <div class="attr class">
        <a class="headerlink" href="#CrankPushParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">CrankPushParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CrankPushParams</span><span class="p">:</span>
    <span class="n">aggregator_account</span><span class="p">:</span> <span class="n">AggregatorAccount</span>
</pre></div>

        </details>

            <div class="docstring"><p>CrankPushParams(aggregator_account: <a href="#AggregatorAccount">switchboardpy.AggregatorAccount</a>)</p>
</div>


                            <div id="CrankPushParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankPushParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">CrankPushParams</span><span class="signature">(aggregator_account: <a href="#AggregatorAccount">switchboardpy.AggregatorAccount</a>)</span>
    </div>

    
    

                            </div>
                </section>
                <section id="CrankRow">
                                <div class="attr class">
        <a class="headerlink" href="#CrankRow">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">CrankRow</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CrankRow</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Aggregator account pubkey&quot;&quot;&quot;</span>
    <span class="n">pubkey</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;Next aggregator update timestamp to order the crank by&quot;&quot;&quot;</span>
    <span class="n">next_timestamp</span><span class="p">:</span> <span class="nb">int</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_bytes</span><span class="p">(</span><span class="n">buf</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>

        </details>

            <div class="docstring"><p>Aggregator account pubkey</p>
</div>


                            <div id="CrankRow.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankRow.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">CrankRow</span><span class="signature">(pubkey: solana.publickey.PublicKey, next_timestamp: int)</span>
    </div>

    
    

                            </div>
                            <div id="CrankRow.pubkey" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CrankRow.pubkey">#&nbsp;&nbsp</a>

        <span class="name">pubkey</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>Next aggregator update timestamp to order the crank by</p>
</div>


                            </div>
                            <div id="CrankRow.from_bytes" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CrankRow.from_bytes">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">from_bytes</span><span class="signature">(buf: bytes)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_bytes</span><span class="p">(</span><span class="n">buf</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="JobAccount">
                                <div class="attr class">
        <a class="headerlink" href="#JobAccount">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">JobAccount</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">JobAccount</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; A Switchboard account representing a job for an oracle to perform, stored as</span>
<span class="sd">        a protocol buffer.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        program (anchor.Program): The anchor program ref</span>
<span class="sd">        public_key (PublicKey | None): This aggregator&#39;s public key</span>
<span class="sd">        keypair (Keypair | None): this aggregator&#39;s keypair</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and parse JobAccount state based on the program IDL. </span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        name (JobAccount): data parsed in accordance with the</span>
<span class="sd">            Switchboard IDL.</span>

<span class="sd">    Args:</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">JobAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and parse the protobuf from the raw buffer stored in the JobAccount.</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        OracleJob</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_job</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">job</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">parseOracleJob</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">data</span><span class="p">);</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and parse JobAccount data based on the program IDL from a buffer.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        program (anchorpy.Program)</span>
<span class="sd">        buf (bytes): Bytes representation of the JobAccount</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: JobAccountData parsed in accordance with the</span>
<span class="sd">            Switchboard IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">buf</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">coder</span> <span class="o">=</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Coder</span><span class="p">(</span><span class="n">program</span><span class="o">.</span><span class="n">idl</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">coder</span><span class="o">.</span><span class="n">accounts</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create and initialize the JobAccount</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchor.Program)</span>
<span class="sd">        params (JobInitParams)</span>

<span class="sd">    Returns:</span>
<span class="sd">        JobAccount</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">JobInitParams</span><span class="p">):</span>

        <span class="n">job_account</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">or</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">size</span> <span class="o">=</span> <span class="mi">280</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">variables</span><span class="p">)</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">variables</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="k">await</span> <span class="n">state_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_minimum_balance_for_rent_exemption</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="n">lamports</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;job_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">32</span><span class="p">),</span>
                <span class="s2">&quot;expiration&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">expiration</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
                <span class="s2">&quot;variables&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">bytes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">variables</span><span class="p">]</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">variables</span> <span class="k">else</span> <span class="p">[],</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;job&quot;</span><span class="p">:</span> <span class="n">job_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span> <span class="ow">or</span> <span class="n">state</span><span class="o">.</span><span class="n">token_vault</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">job_account</span><span class="p">],</span>
                <span class="n">pre_instructions</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">create_account</span><span class="p">(</span>
                        <span class="n">CreateAccountParams</span><span class="p">(</span>
                            <span class="n">from_pubkey</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> 
                            <span class="n">new_account_pubkey</span><span class="o">=</span><span class="n">job_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">lamports</span><span class="o">=</span><span class="n">lamports</span><span class="p">,</span> 
                            <span class="n">space</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> 
                            <span class="n">program_id</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">JobAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">keypair</span><span class="o">=</span><span class="n">job_account</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>A Switchboard account representing a job for an oracle to perform, stored as
    a protocol buffer.</p>

<p>Attributes:
    program (anchor.Program): The anchor program ref
    public_key (PublicKey | None): This aggregator's public key
    keypair (Keypair | None): this aggregator's keypair</p>
</div>


                            <div id="JobAccount.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#JobAccount.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">JobAccount</span><span class="signature">(params: <a href="#AccountParams">switchboardpy.AccountParams</a>)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="JobAccount.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#JobAccount.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span>
    </div>

    
            <div class="docstring"><p>Load and parse JobAccount state based on the program IDL. </p>

<p>Returns:
    name (JobAccount): data parsed in accordance with the
        Switchboard IDL.</p>

<p>Args:</p>

<p>Raises:
    AccountDoesNotExistError: If the account doesn't exist.
    AccountInvalidDiscriminator: If the discriminator doesn't match the IDL.</p>
</div>


                            </div>
                            <div id="JobAccount.load_data" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#JobAccount.load_data">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_data</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">JobAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="JobAccount.load_job" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#JobAccount.load_job">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_job</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_job</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">job</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">parseOracleJob</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">data</span><span class="p">);</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="JobAccount.decode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#JobAccount.decode">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">decode</span><span class="signature">(program: anchorpy.program.core.Program, buf: bytes)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">buf</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">coder</span> <span class="o">=</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Coder</span><span class="p">(</span><span class="n">program</span><span class="o">.</span><span class="n">idl</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">coder</span><span class="o">.</span><span class="n">accounts</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="JobAccount.create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#JobAccount.create">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">async def</span>
            <span class="name">create</span><span class="signature">(
    program: anchorpy.program.core.Program,
    params: <a href="#JobInitParams">switchboardpy.JobInitParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">JobInitParams</span><span class="p">):</span>

        <span class="n">job_account</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">or</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">size</span> <span class="o">=</span> <span class="mi">280</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">variables</span><span class="p">)</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">variables</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="k">await</span> <span class="n">state_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_minimum_balance_for_rent_exemption</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="n">lamports</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;job_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">32</span><span class="p">),</span>
                <span class="s2">&quot;expiration&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">expiration</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
                <span class="s2">&quot;variables&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">bytes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">variables</span><span class="p">]</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">variables</span> <span class="k">else</span> <span class="p">[],</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;job&quot;</span><span class="p">:</span> <span class="n">job_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span> <span class="ow">or</span> <span class="n">state</span><span class="o">.</span><span class="n">token_vault</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">job_account</span><span class="p">],</span>
                <span class="n">pre_instructions</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">create_account</span><span class="p">(</span>
                        <span class="n">CreateAccountParams</span><span class="p">(</span>
                            <span class="n">from_pubkey</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> 
                            <span class="n">new_account_pubkey</span><span class="o">=</span><span class="n">job_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">lamports</span><span class="o">=</span><span class="n">lamports</span><span class="p">,</span> 
                            <span class="n">space</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> 
                            <span class="n">program_id</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">JobAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">keypair</span><span class="o">=</span><span class="n">job_account</span><span class="p">))</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="JobInitParams">
                                <div class="attr class">
        <a class="headerlink" href="#JobInitParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">JobInitParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">JobInitParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;A serialized protocol buffer holding the schema of the job.&quot;&quot;&quot;</span>
    <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span>

    <span class="sd">&quot;&quot;&quot;An optional name to apply to the job account.&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;unix_timestamp of when funds can be withdrawn from this account.&quot;&quot;&quot;</span>
    <span class="n">expiration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;A required variables oracles must fill to complete the job.&quot;&quot;&quot;</span>
    <span class="n">variables</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;A pre-generated keypair to use.&quot;&quot;&quot;</span>
    <span class="n">keypair</span><span class="p">:</span> <span class="n">Keypair</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An optional wallet for receiving kickbacks from job usage in feeds.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">authority</span><span class="p">:</span> <span class="n">PublicKey</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>A serialized protocol buffer holding the schema of the job.</p>
</div>


                            <div id="JobInitParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#JobInitParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">JobInitParams</span><span class="signature">(
    data: bytes,
    name: bytes = None,
    expiration: int = None,
    variables: list[str] = None,
    keypair: solana.keypair.Keypair = None,
    authority: solana.publickey.PublicKey = None
)</span>
    </div>

    
    

                            </div>
                            <div id="JobInitParams.data" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#JobInitParams.data">#&nbsp;&nbsp</a>

        <span class="name">data</span><span class="annotation">: bytes</span>
    </div>

    
            <div class="docstring"><p>An optional name to apply to the job account.</p>
</div>


                            </div>
                            <div id="JobInitParams.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#JobInitParams.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="annotation">: bytes</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>unix_timestamp of when funds can be withdrawn from this account.</p>
</div>


                            </div>
                            <div id="JobInitParams.expiration" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#JobInitParams.expiration">#&nbsp;&nbsp</a>

        <span class="name">expiration</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>A required variables oracles must fill to complete the job.</p>
</div>


                            </div>
                            <div id="JobInitParams.variables" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#JobInitParams.variables">#&nbsp;&nbsp</a>

        <span class="name">variables</span><span class="annotation">: list[str]</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>A pre-generated keypair to use.</p>
</div>


                            </div>
                            <div id="JobInitParams.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#JobInitParams.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span><span class="annotation">: solana.keypair.Keypair</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>An optional wallet for receiving kickbacks from job usage in feeds.</p>
</div>


                            </div>
                            <div id="JobInitParams.authority" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#JobInitParams.authority">#&nbsp;&nbsp</a>

        <span class="name">authority</span><span class="annotation">: solana.publickey.PublicKey</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="LeaseAccount">
                                <div class="attr class">
        <a class="headerlink" href="#LeaseAccount">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">LeaseAccount</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">LeaseAccount</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; A Switchboard account representing a lease for managing funds for oracle payouts</span>
<span class="sd">    for fulfilling feed updates.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        program (anchor.Program): The anchor program ref</span>
<span class="sd">        public_key (PublicKey | None): This lease&#39;s public key</span>
<span class="sd">        keypair (Keypair | None): this lease&#39;s keypair</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the size of an LeaseAccount on chain</span>

<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: size of the LeaseAccount type on chain</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;LeaseAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and parse LeaseAccount data based on the program IDL</span>

<span class="sd">    Args:</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        LeaseAccount</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">LeaseAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads a LeaseAccount from the expected PDA seed format</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchorpy.Program)</span>
<span class="sd">        queue_account (OracleQueueAccount)</span>
<span class="sd">        aggregator_account (AggregatorAccount)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[LeaseAccount, int]: LeaseAccount and PDA bump</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">queue_account</span><span class="p">:</span> <span class="n">OracleQueueAccount</span><span class="p">,</span> <span class="n">aggregator_account</span><span class="p">:</span> <span class="n">AggregatorAccount</span><span class="p">):</span>
        <span class="n">pubkey</span><span class="p">,</span> <span class="n">bump</span> <span class="o">=</span> <span class="n">publickey</span><span class="o">.</span><span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;LeaseAccountData&#39;</span><span class="p">),</span> 
                <span class="nb">bytes</span><span class="p">(</span><span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">),</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
        <span class="p">)</span>
    
        <span class="k">return</span> <span class="n">LeaseAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">pubkey</span><span class="p">)),</span> <span class="n">bump</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create and initialize the LeaseAccount.</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchor.Program): Switchboard program representation holding connection and IDL.</span>
<span class="sd">        params (LeaseInitParams)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        LeaseAccount</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">LeaseInitParams</span><span class="p">):</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">switch_token_mint</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">get_token_mint</span><span class="p">()</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">aggregator_account</span>
        <span class="p">)</span>


        <span class="n">job_account_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">params</span><span class="o">.</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">load_jobs</span><span class="p">()</span>
        <span class="n">aggregator_account_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">params</span><span class="o">.</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">job_pubkeys</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="n">aggregator_account_data</span><span class="o">.</span><span class="n">job_pubkeys_data</span><span class="p">[:</span><span class="n">aggregator_account_data</span><span class="o">.</span><span class="n">job_pubkeys_size</span><span class="p">]</span>
        <span class="n">job_wallets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">wallet_bumps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">job_account_data</span><span class="p">:</span>
            <span class="n">authority</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">authority</span> <span class="ow">or</span> <span class="n">PublicKey</span><span class="p">(</span><span class="s1">&#39;11111111111111111111111111111111&#39;</span><span class="p">)</span>
            <span class="n">pubkey</span><span class="p">,</span> <span class="n">bump</span> <span class="o">=</span> <span class="n">publickey</span><span class="o">.</span><span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">authority</span><span class="p">),</span> 
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">TOKEN_PROGRAM_ID</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">switch_token_mint</span><span class="o">.</span><span class="n">pubkey</span><span class="p">),</span>
                <span class="p">],</span>
                <span class="n">ASSOCIATED_TOKEN_PROGRAM_ID</span>
            <span class="p">)</span>
            <span class="n">job_wallets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pubkey</span><span class="p">)</span>
            <span class="n">wallet_bumps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bump</span><span class="p">)</span>

        <span class="n">escrow</span> <span class="o">=</span> <span class="k">await</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">create_associated_token_account</span><span class="p">(</span><span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> <span class="n">skip_confirmation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;lease_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;load_amount&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">load_amount</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bump&quot;</span><span class="p">:</span> <span class="n">lease_bump</span><span class="p">,</span>
                <span class="s2">&quot;withdraw_authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">withdraw_authority</span> <span class="ow">or</span> <span class="n">PublicKey</span><span class="p">(</span><span class="s1">&#39;11111111111111111111111111111111&#39;</span><span class="p">),</span>
                <span class="s2">&quot;wallet_bumps&quot;</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">wallet_bumps</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;funder&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">funder</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;owner&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">funder_authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">pubkey</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">funder_authority</span><span class="p">],</span>
                <span class="n">remaining_accounts</span><span class="o">=</span><span class="p">[</span><span class="n">AccountMeta</span><span class="p">(</span><span class="n">is_signer</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">is_writable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pubkey</span><span class="o">=</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="o">*</span><span class="n">job_pubkeys</span><span class="p">,</span> <span class="o">*</span><span class="n">job_wallets</span><span class="p">]]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">LeaseAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">))</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get lease balance</span>

<span class="sd">    Args:</span>
<span class="sd">    Returns:</span>
<span class="sd">        int balance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_balance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_balance</span><span class="p">(</span><span class="n">lease</span><span class="o">.</span><span class="n">escrow</span><span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds fund to a LeaseAccount. Note that funds can always be withdrawn by</span>
<span class="sd">    the withdraw authority if one was set on lease initialization.</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchor.Program): Switchboard program representation holding connection and IDL.</span>
<span class="sd">        params (LeaseExtendParams)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">extend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">LeaseExtendParams</span><span class="p">):</span>
        <span class="n">program</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span>
        <span class="n">lease</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">escrow</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">escrow</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">queue</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">aggregator</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue</span><span class="p">))</span>
        <span class="n">switch_token_mint</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">load_mint</span><span class="p">()</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="n">program</span><span class="p">,</span>
            <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue</span><span class="p">)),</span>
            <span class="n">AggregatorAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">aggregator</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="n">job_account_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">load_jobs</span><span class="p">()</span>
        <span class="n">aggregator_account_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">job_pubkeys</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="n">aggregator_account_data</span><span class="o">.</span><span class="n">job_pubkeys_data</span><span class="p">[:</span><span class="n">aggregator_account_data</span><span class="o">.</span><span class="n">job_pubkeys_size</span><span class="p">]</span>
        <span class="n">job_wallets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">wallet_bumps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">job_account_data</span><span class="p">:</span>
            <span class="n">authority</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">authority</span> <span class="ow">or</span> <span class="n">PublicKey</span><span class="p">(</span><span class="s1">&#39;11111111111111111111111111111111&#39;</span><span class="p">)</span>
            <span class="n">pubkey</span><span class="p">,</span> <span class="n">bump</span> <span class="o">=</span> <span class="n">publickey</span><span class="o">.</span><span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">authority</span><span class="p">),</span> 
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">TOKEN_PROGRAM_ID</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">switch_token_mint</span><span class="o">.</span><span class="n">pubkey</span><span class="p">),</span>
                <span class="p">],</span>
                <span class="n">ASSOCIATED_TOKEN_PROGRAM_ID</span>
            <span class="p">)</span>
            <span class="n">job_wallets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pubkey</span><span class="p">)</span>
            <span class="n">wallet_bumps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bump</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;lease_extend&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;load_amount&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">load_amount</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bump&quot;</span><span class="p">:</span> <span class="n">lease_bump</span><span class="p">,</span>
                <span class="s2">&quot;wallet_bumps&quot;</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">wallet_bumps</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="n">aggregator</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">queue</span><span class="p">,</span>
                    <span class="s2">&quot;funder&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">funder</span><span class="p">,</span>
                    <span class="s2">&quot;owner&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">funder_authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">pubkey</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">funder_authority</span><span class="p">],</span>
                <span class="n">remaining_accounts</span><span class="o">=</span><span class="p">[</span><span class="n">AccountMeta</span><span class="p">(</span><span class="n">is_signer</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">is_writable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pubkey</span><span class="o">=</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="o">*</span><span class="n">job_pubkeys</span><span class="p">,</span> <span class="o">*</span><span class="n">job_wallets</span><span class="p">]]</span>
            <span class="p">)</span>
        <span class="p">)</span>
 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Withdraw stake and/or rewards from a LeaseAccount.</span>

<span class="sd">    Args:</span>
<span class="sd">        params (LeaseWithdrawParams)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">LeaseWithdrawParams</span><span class="p">):</span>
        <span class="n">program</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span>
        <span class="n">lease</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">escrow</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">escrow</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">queue</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">aggregator</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue</span><span class="p">))</span>
        <span class="n">switch_token_mint</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">load_mint</span><span class="p">()</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="n">program</span><span class="p">,</span>
            <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue</span><span class="p">)),</span>
            <span class="n">AggregatorAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">aggregator</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;lease_withdraw&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">amount</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bump&quot;</span><span class="p">:</span> <span class="n">lease_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="n">aggregator</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">queue</span><span class="p">,</span>
                    <span class="s2">&quot;withdraw_authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">withdraw_authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;withdraw_account&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">withdraw_wallet</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">pubkey</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">withdraw_authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>A Switchboard account representing a lease for managing funds for oracle payouts
for fulfilling feed updates.</p>

<p>Attributes:
    program (anchor.Program): The anchor program ref
    public_key (PublicKey | None): This lease's public key
    keypair (Keypair | None): this lease's keypair</p>
</div>


                            <div id="LeaseAccount.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseAccount.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">LeaseAccount</span><span class="signature">(params: <a href="#AccountParams">switchboardpy.AccountParams</a>)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="LeaseAccount.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseAccount.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span>
    </div>

    
            <div class="docstring"><p>Get the size of an LeaseAccount on chain</p>

<p>Args:</p>

<p>Returns:
    int: size of the LeaseAccount type on chain</p>
</div>


                            </div>
                            <div id="LeaseAccount.size" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseAccount.size">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">size</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;LeaseAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="LeaseAccount.load_data" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseAccount.load_data">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_data</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">LeaseAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="LeaseAccount.from_seed" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseAccount.from_seed">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">from_seed</span><span class="signature">(
    program: anchorpy.program.core.Program,
    queue_account: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a>,
    aggregator_account: <a href="#AggregatorAccount">switchboardpy.AggregatorAccount</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">queue_account</span><span class="p">:</span> <span class="n">OracleQueueAccount</span><span class="p">,</span> <span class="n">aggregator_account</span><span class="p">:</span> <span class="n">AggregatorAccount</span><span class="p">):</span>
        <span class="n">pubkey</span><span class="p">,</span> <span class="n">bump</span> <span class="o">=</span> <span class="n">publickey</span><span class="o">.</span><span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;LeaseAccountData&#39;</span><span class="p">),</span> 
                <span class="nb">bytes</span><span class="p">(</span><span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">),</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
        <span class="p">)</span>
    
        <span class="k">return</span> <span class="n">LeaseAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">pubkey</span><span class="p">)),</span> <span class="n">bump</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="LeaseAccount.create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseAccount.create">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">async def</span>
            <span class="name">create</span><span class="signature">(
    program: anchorpy.program.core.Program,
    params: <a href="#LeaseInitParams">switchboardpy.LeaseInitParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">LeaseInitParams</span><span class="p">):</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">switch_token_mint</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">get_token_mint</span><span class="p">()</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">aggregator_account</span>
        <span class="p">)</span>


        <span class="n">job_account_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">params</span><span class="o">.</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">load_jobs</span><span class="p">()</span>
        <span class="n">aggregator_account_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">params</span><span class="o">.</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">job_pubkeys</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="n">aggregator_account_data</span><span class="o">.</span><span class="n">job_pubkeys_data</span><span class="p">[:</span><span class="n">aggregator_account_data</span><span class="o">.</span><span class="n">job_pubkeys_size</span><span class="p">]</span>
        <span class="n">job_wallets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">wallet_bumps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">job_account_data</span><span class="p">:</span>
            <span class="n">authority</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">authority</span> <span class="ow">or</span> <span class="n">PublicKey</span><span class="p">(</span><span class="s1">&#39;11111111111111111111111111111111&#39;</span><span class="p">)</span>
            <span class="n">pubkey</span><span class="p">,</span> <span class="n">bump</span> <span class="o">=</span> <span class="n">publickey</span><span class="o">.</span><span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">authority</span><span class="p">),</span> 
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">TOKEN_PROGRAM_ID</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">switch_token_mint</span><span class="o">.</span><span class="n">pubkey</span><span class="p">),</span>
                <span class="p">],</span>
                <span class="n">ASSOCIATED_TOKEN_PROGRAM_ID</span>
            <span class="p">)</span>
            <span class="n">job_wallets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pubkey</span><span class="p">)</span>
            <span class="n">wallet_bumps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bump</span><span class="p">)</span>

        <span class="n">escrow</span> <span class="o">=</span> <span class="k">await</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">create_associated_token_account</span><span class="p">(</span><span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> <span class="n">skip_confirmation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;lease_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;load_amount&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">load_amount</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bump&quot;</span><span class="p">:</span> <span class="n">lease_bump</span><span class="p">,</span>
                <span class="s2">&quot;withdraw_authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">withdraw_authority</span> <span class="ow">or</span> <span class="n">PublicKey</span><span class="p">(</span><span class="s1">&#39;11111111111111111111111111111111&#39;</span><span class="p">),</span>
                <span class="s2">&quot;wallet_bumps&quot;</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">wallet_bumps</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">aggregator_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;funder&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">funder</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;owner&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">funder_authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">pubkey</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">funder_authority</span><span class="p">],</span>
                <span class="n">remaining_accounts</span><span class="o">=</span><span class="p">[</span><span class="n">AccountMeta</span><span class="p">(</span><span class="n">is_signer</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">is_writable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pubkey</span><span class="o">=</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="o">*</span><span class="n">job_pubkeys</span><span class="p">,</span> <span class="o">*</span><span class="n">job_wallets</span><span class="p">]]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">LeaseAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">))</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="LeaseAccount.get_balance" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseAccount.get_balance">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">get_balance</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_balance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_balance</span><span class="p">(</span><span class="n">lease</span><span class="o">.</span><span class="n">escrow</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="LeaseAccount.extend" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseAccount.extend">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">extend</span><span class="signature">(self, params: <a href="#LeaseExtendParams">switchboardpy.LeaseExtendParams</a>)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">extend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">LeaseExtendParams</span><span class="p">):</span>
        <span class="n">program</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span>
        <span class="n">lease</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">escrow</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">escrow</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">queue</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">aggregator</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue</span><span class="p">))</span>
        <span class="n">switch_token_mint</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">load_mint</span><span class="p">()</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="n">program</span><span class="p">,</span>
            <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue</span><span class="p">)),</span>
            <span class="n">AggregatorAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">aggregator</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="n">job_account_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">load_jobs</span><span class="p">()</span>
        <span class="n">aggregator_account_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aggregator</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">job_pubkeys</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="n">aggregator_account_data</span><span class="o">.</span><span class="n">job_pubkeys_data</span><span class="p">[:</span><span class="n">aggregator_account_data</span><span class="o">.</span><span class="n">job_pubkeys_size</span><span class="p">]</span>
        <span class="n">job_wallets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PublicKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">wallet_bumps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">job_account_data</span><span class="p">:</span>
            <span class="n">authority</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">authority</span> <span class="ow">or</span> <span class="n">PublicKey</span><span class="p">(</span><span class="s1">&#39;11111111111111111111111111111111&#39;</span><span class="p">)</span>
            <span class="n">pubkey</span><span class="p">,</span> <span class="n">bump</span> <span class="o">=</span> <span class="n">publickey</span><span class="o">.</span><span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">authority</span><span class="p">),</span> 
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">TOKEN_PROGRAM_ID</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">switch_token_mint</span><span class="o">.</span><span class="n">pubkey</span><span class="p">),</span>
                <span class="p">],</span>
                <span class="n">ASSOCIATED_TOKEN_PROGRAM_ID</span>
            <span class="p">)</span>
            <span class="n">job_wallets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pubkey</span><span class="p">)</span>
            <span class="n">wallet_bumps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bump</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;lease_extend&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;load_amount&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">load_amount</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bump&quot;</span><span class="p">:</span> <span class="n">lease_bump</span><span class="p">,</span>
                <span class="s2">&quot;wallet_bumps&quot;</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">wallet_bumps</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="n">aggregator</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">queue</span><span class="p">,</span>
                    <span class="s2">&quot;funder&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">funder</span><span class="p">,</span>
                    <span class="s2">&quot;owner&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">funder_authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">pubkey</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">funder_authority</span><span class="p">],</span>
                <span class="n">remaining_accounts</span><span class="o">=</span><span class="p">[</span><span class="n">AccountMeta</span><span class="p">(</span><span class="n">is_signer</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">is_writable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pubkey</span><span class="o">=</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="o">*</span><span class="n">job_pubkeys</span><span class="p">,</span> <span class="o">*</span><span class="n">job_wallets</span><span class="p">]]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="LeaseAccount.withdraw" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseAccount.withdraw">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">withdraw</span><span class="signature">(self, params: <a href="#LeaseWithdrawParams">switchboardpy.LeaseWithdrawParams</a>)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">LeaseWithdrawParams</span><span class="p">):</span>
        <span class="n">program</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span>
        <span class="n">lease</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">escrow</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">escrow</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">queue</span>
        <span class="n">aggregator</span> <span class="o">=</span> <span class="n">lease</span><span class="o">.</span><span class="n">aggregator</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue</span><span class="p">))</span>
        <span class="n">switch_token_mint</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">load_mint</span><span class="p">()</span>
        <span class="n">lease_account</span><span class="p">,</span> <span class="n">lease_bump</span> <span class="o">=</span> <span class="n">LeaseAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="n">program</span><span class="p">,</span>
            <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue</span><span class="p">)),</span>
            <span class="n">AggregatorAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">aggregator</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;lease_withdraw&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">amount</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;lease_bump&quot;</span><span class="p">:</span> <span class="n">lease_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;lease&quot;</span><span class="p">:</span> <span class="n">lease_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;escrow&quot;</span><span class="p">:</span> <span class="n">escrow</span><span class="p">,</span>
                    <span class="s2">&quot;aggregator&quot;</span><span class="p">:</span> <span class="n">aggregator</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">queue</span><span class="p">,</span>
                    <span class="s2">&quot;withdraw_authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">withdraw_authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;withdraw_account&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">withdraw_wallet</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">pubkey</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">withdraw_authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="LeaseExtendParams">
                                <div class="attr class">
        <a class="headerlink" href="#LeaseExtendParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">LeaseExtendParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">LeaseExtendParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Token amount to load into the lease escrow&quot;&quot;&quot;</span>
    <span class="n">load_amount</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;The funding wallet of the lease&quot;&quot;&quot;</span>
    <span class="n">funder</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;The authority of the funding wallet&quot;&quot;&quot;</span>
    <span class="n">funder_authority</span><span class="p">:</span> <span class="n">Keypair</span>
</pre></div>

        </details>

            <div class="docstring"><p>Token amount to load into the lease escrow</p>
</div>


                            <div id="LeaseExtendParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseExtendParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">LeaseExtendParams</span><span class="signature">(
    load_amount: int,
    funder: solana.publickey.PublicKey,
    funder_authority: solana.keypair.Keypair
)</span>
    </div>

    
    

                            </div>
                            <div id="LeaseExtendParams.load_amount" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseExtendParams.load_amount">#&nbsp;&nbsp</a>

        <span class="name">load_amount</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>The funding wallet of the lease</p>
</div>


                            </div>
                            <div id="LeaseExtendParams.funder" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseExtendParams.funder">#&nbsp;&nbsp</a>

        <span class="name">funder</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>The authority of the funding wallet</p>
</div>


                            </div>
                </section>
                <section id="LeaseInitParams">
                                <div class="attr class">
        <a class="headerlink" href="#LeaseInitParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">LeaseInitParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">LeaseInitParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Token amount to load into the lease escrow&quot;&quot;&quot;</span>
    <span class="n">load_amount</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;The funding wallet of the lease&quot;&quot;&quot;</span>
    <span class="n">funder</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;The authority of the funding wallet&quot;&quot;&quot;</span>
    <span class="n">funder_authority</span><span class="p">:</span> <span class="n">Keypair</span>

    <span class="sd">&quot;&quot;&quot;The target to which this lease is applied&quot;&quot;&quot;</span>
    <span class="n">oracle_queue_account</span><span class="p">:</span> <span class="n">OracleQueueAccount</span>

    <span class="sd">&quot;&quot;&quot;The feed which the lease grants permission&quot;&quot;&quot;</span>
    <span class="n">aggregator_account</span><span class="p">:</span> <span class="n">AggregatorAccount</span>

    <span class="sd">&quot;&quot;&quot;This authority will be permitted to withdraw funds from this lease&quot;&quot;&quot;</span>
    <span class="n">withdraw_authority</span><span class="p">:</span> <span class="n">PublicKey</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Token amount to load into the lease escrow</p>
</div>


                            <div id="LeaseInitParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseInitParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">LeaseInitParams</span><span class="signature">(
    load_amount: int,
    funder: solana.publickey.PublicKey,
    funder_authority: solana.keypair.Keypair,
    oracle_queue_account: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a>,
    aggregator_account: <a href="#AggregatorAccount">switchboardpy.AggregatorAccount</a>,
    withdraw_authority: solana.publickey.PublicKey = None
)</span>
    </div>

    
    

                            </div>
                            <div id="LeaseInitParams.load_amount" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseInitParams.load_amount">#&nbsp;&nbsp</a>

        <span class="name">load_amount</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>The funding wallet of the lease</p>
</div>


                            </div>
                            <div id="LeaseInitParams.funder" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseInitParams.funder">#&nbsp;&nbsp</a>

        <span class="name">funder</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>The authority of the funding wallet</p>
</div>


                            </div>
                            <div id="LeaseInitParams.funder_authority" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseInitParams.funder_authority">#&nbsp;&nbsp</a>

        <span class="name">funder_authority</span><span class="annotation">: solana.keypair.Keypair</span>
    </div>

    
            <div class="docstring"><p>The target to which this lease is applied</p>
</div>


                            </div>
                            <div id="LeaseInitParams.oracle_queue_account" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseInitParams.oracle_queue_account">#&nbsp;&nbsp</a>

        <span class="name">oracle_queue_account</span><span class="annotation">: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a></span>
    </div>

    
            <div class="docstring"><p>The feed which the lease grants permission</p>
</div>


                            </div>
                            <div id="LeaseInitParams.aggregator_account" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseInitParams.aggregator_account">#&nbsp;&nbsp</a>

        <span class="name">aggregator_account</span><span class="annotation">: <a href="#AggregatorAccount">switchboardpy.AggregatorAccount</a></span>
    </div>

    
            <div class="docstring"><p>This authority will be permitted to withdraw funds from this lease</p>
</div>


                            </div>
                            <div id="LeaseInitParams.withdraw_authority" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseInitParams.withdraw_authority">#&nbsp;&nbsp</a>

        <span class="name">withdraw_authority</span><span class="annotation">: solana.publickey.PublicKey</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="LeaseWithdrawParams">
                                <div class="attr class">
        <a class="headerlink" href="#LeaseWithdrawParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">LeaseWithdrawParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">LeaseWithdrawParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Token amount to withdraw from the lease escrow&quot;&quot;&quot;</span>
    <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;The wallet of to withdraw to&quot;&quot;&quot;</span>
    <span class="n">withdraw_wallet</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;The withdraw authority of the lease&quot;&quot;&quot;</span>
    <span class="n">withdraw_authority</span><span class="p">:</span> <span class="n">Keypair</span>
</pre></div>

        </details>

            <div class="docstring"><p>Token amount to withdraw from the lease escrow</p>
</div>


                            <div id="LeaseWithdrawParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LeaseWithdrawParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">LeaseWithdrawParams</span><span class="signature">(
    amount: int,
    withdraw_wallet: solana.publickey.PublicKey,
    withdraw_authority: solana.keypair.Keypair
)</span>
    </div>

    
    

                            </div>
                            <div id="LeaseWithdrawParams.amount" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseWithdrawParams.amount">#&nbsp;&nbsp</a>

        <span class="name">amount</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>The wallet of to withdraw to</p>
</div>


                            </div>
                            <div id="LeaseWithdrawParams.withdraw_wallet" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LeaseWithdrawParams.withdraw_wallet">#&nbsp;&nbsp</a>

        <span class="name">withdraw_wallet</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>The withdraw authority of the lease</p>
</div>


                            </div>
                </section>
                <section id="OracleAccount">
                                <div class="attr class">
        <a class="headerlink" href="#OracleAccount">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleAccount</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">OracleAccount</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; A Switchboard account representing an oracle account and its associated queue</span>
<span class="sd">    and escrow account.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        program (anchor.Program): The anchor program ref</span>
<span class="sd">        public_key (PublicKey | None): This aggregator&#39;s public key</span>
<span class="sd">        keypair (Keypair | None): this aggregator&#39;s keypair</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the size of an OracleAccount on chain</span>

<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: size of the OracleAccount type on chain</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;OracleAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and parse OracleAccount data based on the program IDL</span>

<span class="sd">    Args:</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        OracleAccount</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">OracleAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads a OracleAccount from the expected PDA seed format</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchorpy.Program)</span>
<span class="sd">        queue_account (OracleQueueAccount)</span>
<span class="sd">        wallet (PublicKey)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[OracleAccount, int]: OracleAccount and PDA bump</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">queue_account</span><span class="p">:</span> <span class="n">OracleQueueAccount</span><span class="p">,</span> <span class="n">wallet</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">):</span>
        <span class="n">oracle_pubkey</span><span class="p">,</span> <span class="n">bump</span> <span class="o">=</span> <span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;OracleAccountData&#39;</span><span class="p">),</span> 
                <span class="nb">bytes</span><span class="p">(</span><span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">),</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="n">wallet</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
        <span class="p">)</span>
    
        <span class="k">return</span> <span class="n">OracleAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">oracle_pubkey</span><span class="p">)),</span> <span class="n">bump</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create and initialize the OracleAccount.</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchor.Program): Switchboard program representation holding connection and IDL.</span>
<span class="sd">        params (OracleInitParams)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        OracleAccount</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">OracleInitParams</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">switch_token_mint</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">get_token_mint</span><span class="p">()</span>
        <span class="n">wallet</span> <span class="o">=</span> <span class="k">await</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">create_account</span><span class="p">(</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">set_authority</span><span class="p">(</span>
            <span class="n">wallet</span><span class="p">,</span>
            <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="s1">&#39;AccountOwner&#39;</span><span class="p">,</span>
            <span class="n">payer_keypair</span><span class="p">,</span>
            <span class="p">[]</span>
        <span class="p">)</span>
        <span class="n">oracle_account</span><span class="p">,</span> <span class="n">oracle_bump</span> <span class="o">=</span> <span class="n">OracleAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">queue_account</span><span class="p">,</span>
            <span class="n">wallet</span>
        <span class="p">)</span>

        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;oracle_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">32</span><span class="p">),</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">metadata</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">128</span><span class="p">),</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;oracle_bump&quot;</span><span class="p">:</span> <span class="n">oracle_bump</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;oracle&quot;</span><span class="p">:</span> <span class="n">oracle_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_authority&quot;</span><span class="p">:</span> <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;wallet&quot;</span><span class="p">:</span> <span class="n">wallet</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">OracleAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">oracle_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">))</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Inititates a heartbeat for an OracleAccount, signifying oracle is still healthy.</span>

<span class="sd">    Args:</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">heartbeat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">oracle</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span><span class="n">public_key</span><span class="o">=</span><span class="n">oracle</span><span class="o">.</span><span class="n">queue_pubkey</span><span class="p">))</span>
        <span class="n">queue_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">last_pubkey</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="k">if</span> <span class="n">queue_data</span><span class="o">.</span><span class="n">size</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">last_pubkey</span> <span class="o">=</span> <span class="n">queue_data</span><span class="o">.</span><span class="n">queue</span><span class="p">[</span><span class="n">queue_data</span><span class="o">.</span><span class="n">gc_idx</span><span class="p">]</span>
        <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">queue_data</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;A requested permission pda account has not been initialized.&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;oracle_heartbeat&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;permission_bump&quot;</span><span class="p">:</span> <span class="n">permission_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;oracle&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_authority&quot;</span><span class="p">:</span> <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_account&quot;</span><span class="p">:</span> <span class="n">oracle</span><span class="o">.</span><span class="n">token_account</span><span class="p">,</span>
                    <span class="s2">&quot;gc_oracle&quot;</span><span class="p">:</span> <span class="n">last_pubkey</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;data_buffer&quot;</span><span class="p">:</span> <span class="n">queue_data</span><span class="o">.</span><span class="n">data_buffer</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">keypair</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Withdraw stake and/or rewards from an OracleAccount.</span>

<span class="sd">    Args:</span>
<span class="sd">        params (OracleWithdrawParams)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">OracleWithdrawParams</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">oracle</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">queue_pubkey</span> <span class="o">=</span> <span class="n">oracle</span><span class="o">.</span><span class="n">queue_pubkey</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue_pubkey</span><span class="p">))</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">queue_authority</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">authority</span>
        <span class="n">state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">queue_authority</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;oracle_withdraw&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;permission_bump&quot;</span><span class="p">:</span> <span class="n">permission_bump</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">amount</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;oracle&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_account&quot;</span><span class="p">:</span> <span class="n">oracle</span><span class="o">.</span><span class="n">token_account</span><span class="p">,</span>
                    <span class="s2">&quot;withdraw_account&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">withdraw_account</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">oracle_authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>A Switchboard account representing an oracle account and its associated queue
and escrow account.</p>

<p>Attributes:
    program (anchor.Program): The anchor program ref
    public_key (PublicKey | None): This aggregator's public key
    keypair (Keypair | None): this aggregator's keypair</p>
</div>


                            <div id="OracleAccount.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleAccount.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">OracleAccount</span><span class="signature">(params: <a href="#AccountParams">switchboardpy.AccountParams</a>)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="OracleAccount.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleAccount.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span>
    </div>

    
            <div class="docstring"><p>Get the size of an OracleAccount on chain</p>

<p>Args:</p>

<p>Returns:
    int: size of the OracleAccount type on chain</p>
</div>


                            </div>
                            <div id="OracleAccount.size" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleAccount.size">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">size</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;OracleAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="OracleAccount.load_data" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleAccount.load_data">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_data</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">OracleAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="OracleAccount.from_seed" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleAccount.from_seed">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">from_seed</span><span class="signature">(
    program: anchorpy.program.core.Program,
    queue_account: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a>,
    wallet: solana.publickey.PublicKey
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">queue_account</span><span class="p">:</span> <span class="n">OracleQueueAccount</span><span class="p">,</span> <span class="n">wallet</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">):</span>
        <span class="n">oracle_pubkey</span><span class="p">,</span> <span class="n">bump</span> <span class="o">=</span> <span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;OracleAccountData&#39;</span><span class="p">),</span> 
                <span class="nb">bytes</span><span class="p">(</span><span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">),</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="n">wallet</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
        <span class="p">)</span>
    
        <span class="k">return</span> <span class="n">OracleAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">oracle_pubkey</span><span class="p">)),</span> <span class="n">bump</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="OracleAccount.create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleAccount.create">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">async def</span>
            <span class="name">create</span><span class="signature">(
    program: anchorpy.program.core.Program,
    params: <a href="#OracleInitParams">switchboardpy.OracleInitParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">OracleInitParams</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">program_state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">switch_token_mint</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">get_token_mint</span><span class="p">()</span>
        <span class="n">wallet</span> <span class="o">=</span> <span class="k">await</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">create_account</span><span class="p">(</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">switch_token_mint</span><span class="o">.</span><span class="n">set_authority</span><span class="p">(</span>
            <span class="n">wallet</span><span class="p">,</span>
            <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="s1">&#39;AccountOwner&#39;</span><span class="p">,</span>
            <span class="n">payer_keypair</span><span class="p">,</span>
            <span class="p">[]</span>
        <span class="p">)</span>
        <span class="n">oracle_account</span><span class="p">,</span> <span class="n">oracle_bump</span> <span class="o">=</span> <span class="n">OracleAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">queue_account</span><span class="p">,</span>
            <span class="n">wallet</span>
        <span class="p">)</span>

        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;oracle_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">32</span><span class="p">),</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">metadata</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">128</span><span class="p">),</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;oracle_bump&quot;</span><span class="p">:</span> <span class="n">oracle_bump</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;oracle&quot;</span><span class="p">:</span> <span class="n">oracle_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_authority&quot;</span><span class="p">:</span> <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;wallet&quot;</span><span class="p">:</span> <span class="n">wallet</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">program_state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">OracleAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">oracle_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">))</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="OracleAccount.heartbeat" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleAccount.heartbeat">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">heartbeat</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">heartbeat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">oracle</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span><span class="n">public_key</span><span class="o">=</span><span class="n">oracle</span><span class="o">.</span><span class="n">queue_pubkey</span><span class="p">))</span>
        <span class="n">queue_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">last_pubkey</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="k">if</span> <span class="n">queue_data</span><span class="o">.</span><span class="n">size</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">last_pubkey</span> <span class="o">=</span> <span class="n">queue_data</span><span class="o">.</span><span class="n">queue</span><span class="p">[</span><span class="n">queue_data</span><span class="o">.</span><span class="n">gc_idx</span><span class="p">]</span>
        <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">queue_data</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;A requested permission pda account has not been initialized.&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;oracle_heartbeat&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;permission_bump&quot;</span><span class="p">:</span> <span class="n">permission_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;oracle&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_authority&quot;</span><span class="p">:</span> <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_account&quot;</span><span class="p">:</span> <span class="n">oracle</span><span class="o">.</span><span class="n">token_account</span><span class="p">,</span>
                    <span class="s2">&quot;gc_oracle&quot;</span><span class="p">:</span> <span class="n">last_pubkey</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;data_buffer&quot;</span><span class="p">:</span> <span class="n">queue_data</span><span class="o">.</span><span class="n">data_buffer</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">keypair</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="OracleAccount.withdraw" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleAccount.withdraw">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">withdraw</span><span class="signature">(self, params: <a href="#OracleWithdrawParams">switchboardpy.OracleWithdrawParams</a>)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">OracleWithdrawParams</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">oracle</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">queue_pubkey</span> <span class="o">=</span> <span class="n">oracle</span><span class="o">.</span><span class="n">queue_pubkey</span>
        <span class="n">queue_account</span> <span class="o">=</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">queue_pubkey</span><span class="p">))</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">queue_authority</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">authority</span>
        <span class="n">state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
            <span class="n">queue_authority</span><span class="p">,</span>
            <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;oracle_withdraw&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;permission_bump&quot;</span><span class="p">:</span> <span class="n">permission_bump</span><span class="p">,</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">amount</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;oracle&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_account&quot;</span><span class="p">:</span> <span class="n">oracle</span><span class="o">.</span><span class="n">token_account</span><span class="p">,</span>
                    <span class="s2">&quot;withdraw_account&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">withdraw_account</span><span class="p">,</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;program_state&quot;</span><span class="p">:</span> <span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">oracle_authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="OracleInitParams">
                                <div class="attr class">
        <a class="headerlink" href="#OracleInitParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">OracleInitParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">OracleInitParams</span><span class="p">:</span>
    
    <span class="sd">&quot;&quot;&quot;Specifies the oracle queue to associate with this OracleAccount.&quot;&quot;&quot;</span>
    <span class="n">queue_account</span><span class="p">:</span> <span class="n">OracleQueueAccount</span>

    <span class="sd">&quot;&quot;&quot;Buffer specifying orace name&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Buffer specifying oralce metadata&quot;&quot;&quot;</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Specifies the oracle queue to associate with this OracleAccount.</p>
</div>


                            <div id="OracleInitParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleInitParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">OracleInitParams</span><span class="signature">(
    queue_account: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a>,
    name: bytes = None,
    metadata: bytes = None
)</span>
    </div>

    
    

                            </div>
                            <div id="OracleInitParams.queue_account" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleInitParams.queue_account">#&nbsp;&nbsp</a>

        <span class="name">queue_account</span><span class="annotation">: <a href="#OracleQueueAccount">switchboardpy.OracleQueueAccount</a></span>
    </div>

    
            <div class="docstring"><p>Buffer specifying orace name</p>
</div>


                            </div>
                            <div id="OracleInitParams.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleInitParams.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="annotation">: bytes</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Buffer specifying oralce metadata</p>
</div>


                            </div>
                            <div id="OracleInitParams.metadata" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleInitParams.metadata">#&nbsp;&nbsp</a>

        <span class="name">metadata</span><span class="annotation">: bytes</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="OracleWithdrawParams">
                                <div class="attr class">
        <a class="headerlink" href="#OracleWithdrawParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">OracleWithdrawParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">OracleWithdrawParams</span><span class="p">:</span>
    
    <span class="sd">&quot;&quot;&quot;Amount to withdraw&quot;&quot;&quot;</span>
    <span class="n">amount</span><span class="p">:</span> <span class="n">Decimal</span>

    <span class="sd">&quot;&quot;&quot;Token Account to withdraw to&quot;&quot;&quot;</span>
    <span class="n">withdraw_account</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;Oracle authority keypair&quot;&quot;&quot;</span>
    <span class="n">oracle_authority</span><span class="p">:</span> <span class="n">Keypair</span>
</pre></div>

        </details>

            <div class="docstring"><p>Amount to withdraw</p>
</div>


                            <div id="OracleWithdrawParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleWithdrawParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">OracleWithdrawParams</span><span class="signature">(
    amount: decimal.Decimal,
    withdraw_account: solana.publickey.PublicKey,
    oracle_authority: solana.keypair.Keypair
)</span>
    </div>

    
    

                            </div>
                            <div id="OracleWithdrawParams.amount" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleWithdrawParams.amount">#&nbsp;&nbsp</a>

        <span class="name">amount</span><span class="annotation">: decimal.Decimal</span>
    </div>

    
            <div class="docstring"><p>Token Account to withdraw to</p>
</div>


                            </div>
                            <div id="OracleWithdrawParams.withdraw_account" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleWithdrawParams.withdraw_account">#&nbsp;&nbsp</a>

        <span class="name">withdraw_account</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>Oracle authority keypair</p>
</div>


                            </div>
                </section>
                <section id="OracleQueueAccount">
                                <div class="attr class">
        <a class="headerlink" href="#OracleQueueAccount">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleQueueAccount</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">OracleQueueAccount</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;A Switchboard account representing a queue for distributing oracles to</span>
<span class="sd">    permitted data feeds.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        program (anchor.Program): The anchor program ref</span>
<span class="sd">        public_key (PublicKey | None): This OracleQueueAccount&#39;s public key</span>
<span class="sd">        keypair (Keypair | None): this OracleQueueAccount&#39;s keypair</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the size of an OracleQueueAccount on chain</span>

<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: size of the OracleQueueAccount type on chain</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;OracleQueueAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and parse OracleQueueAccount data based on the program IDL</span>

<span class="sd">    Args:</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        OracleQueueAccount</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">OracleQueueAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch the token mint for this queue</span>
<span class="sd">    Args:</span>
<span class="sd">    Returns:</span>
<span class="sd">        AsyncToken</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_mint</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncToken</span><span class="p">:</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mint</span> <span class="o">=</span> <span class="n">AsyncToken</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">mint</span><span class="p">,</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span> <span class="n">payer_keypair</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">mint</span><span class="p">;</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">AsyncToken</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="n">WRAPPED_SOL_MINT</span><span class="p">,</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span> <span class="n">payer_keypair</span><span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create and initialize the OracleQueueAccount</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchor.Program)</span>
<span class="sd">        params (OracleQueueInitParams)</span>

<span class="sd">    Returns:</span>
<span class="sd">        OracleQueueAccount</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">OracleQueueInitParams</span><span class="p">):</span>
        <span class="n">oracle_queue_account</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">buffer</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">queue_size</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_size</span> <span class="ow">or</span> <span class="mi">500</span>
        <span class="n">queue_size</span> <span class="o">=</span> <span class="n">queue_size</span> <span class="o">*</span> <span class="mi">32</span> <span class="o">+</span> <span class="mi">8</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_minimum_balance_for_rent_exemption</span><span class="p">(</span><span class="n">queue_size</span><span class="p">)</span>
        <span class="n">lamports</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;oracle_queue_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">32</span><span class="p">),</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">metadata</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">64</span><span class="p">),</span>
                <span class="s2">&quot;reward&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">reward</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;min_stake&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">min_stake</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;feed_probation_period&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">feed_probation_period</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;oracle_timeout&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_timeout</span> <span class="ow">or</span> <span class="mi">180</span><span class="p">,</span>
                <span class="s2">&quot;slashing_enabled&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">slashing_enabled</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;variance_tolerance_multiplier&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">variance_tolerance_multiplier</span> <span class="ow">or</span> <span class="n">Decimal</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="n">program</span><span class="p">),</span>
                <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
                <span class="s2">&quot;consecutive_feed_failure_limit&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">consecutive_feed_failure_limit</span> <span class="ow">or</span> <span class="mi">1000</span><span class="p">,</span>
                <span class="s2">&quot;consecutive_oracle_failure_limit&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">consecutive_oracle_failure_limit</span> <span class="ow">or</span> <span class="mi">1000</span><span class="p">,</span>
                <span class="s2">&quot;minimum_delay_seconds&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">minimum_delay_seconds</span> <span class="ow">or</span> <span class="mi">5</span><span class="p">,</span>
                <span class="s2">&quot;queue_size&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_size</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;unpermissioned_feeds&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">unpermissioned_feeds</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;unpermissioned_vrf&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">unpermissioned_feeds</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;enable_buffer_relayers&quot;</span><span class="p">:</span> <span class="kc">False</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
                    <span class="s2">&quot;buffer&quot;</span><span class="p">:</span> <span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">mint</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">oracle_queue_account</span><span class="p">,</span> <span class="n">buffer</span><span class="p">],</span>
                <span class="n">pre_instructions</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">create_account</span><span class="p">(</span>
                        <span class="n">CreateAccountParams</span><span class="p">(</span>
                            <span class="n">from_pubkey</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> 
                            <span class="n">new_account_pubkey</span><span class="o">=</span><span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">lamports</span><span class="o">=</span><span class="n">lamports</span><span class="p">,</span> 
                            <span class="n">space</span><span class="o">=</span><span class="n">queue_size</span><span class="p">,</span> 
                            <span class="n">program_id</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">keypair</span><span class="o">=</span><span class="n">oracle_queue_account</span><span class="p">));</span>
</pre></div>

        </details>

            <div class="docstring"><p>A Switchboard account representing a queue for distributing oracles to
permitted data feeds.</p>

<p>Attributes:
    program (anchor.Program): The anchor program ref
    public_key (PublicKey | None): This OracleQueueAccount's public key
    keypair (Keypair | None): this OracleQueueAccount's keypair</p>
</div>


                            <div id="OracleQueueAccount.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleQueueAccount.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">OracleQueueAccount</span><span class="signature">(params: <a href="#AccountParams">switchboardpy.AccountParams</a>)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="OracleQueueAccount.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueAccount.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span>
    </div>

    
            <div class="docstring"><p>Get the size of an OracleQueueAccount on chain</p>

<p>Args:</p>

<p>Returns:
    int: size of the OracleQueueAccount type on chain</p>
</div>


                            </div>
                            <div id="OracleQueueAccount.size" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleQueueAccount.size">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">size</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;OracleQueueAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="OracleQueueAccount.load_data" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleQueueAccount.load_data">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_data</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">OracleQueueAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="OracleQueueAccount.load_mint" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleQueueAccount.load_mint">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_mint</span><span class="signature">(self) -&gt; spl.token.async_client.AsyncToken</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_mint</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncToken</span><span class="p">:</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mint</span> <span class="o">=</span> <span class="n">AsyncToken</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">mint</span><span class="p">,</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span> <span class="n">payer_keypair</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">mint</span><span class="p">;</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">AsyncToken</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="n">WRAPPED_SOL_MINT</span><span class="p">,</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span> <span class="n">payer_keypair</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="OracleQueueAccount.create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleQueueAccount.create">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">async def</span>
            <span class="name">create</span><span class="signature">(
    program: anchorpy.program.core.Program,
    params: <a href="#OracleQueueInitParams">switchboardpy.OracleQueueInitParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">OracleQueueInitParams</span><span class="p">):</span>
        <span class="n">oracle_queue_account</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">buffer</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">queue_size</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_size</span> <span class="ow">or</span> <span class="mi">500</span>
        <span class="n">queue_size</span> <span class="o">=</span> <span class="n">queue_size</span> <span class="o">*</span> <span class="mi">32</span> <span class="o">+</span> <span class="mi">8</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get_minimum_balance_for_rent_exemption</span><span class="p">(</span><span class="n">queue_size</span><span class="p">)</span>
        <span class="n">lamports</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;oracle_queue_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">32</span><span class="p">),</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">metadata</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">64</span><span class="p">),</span>
                <span class="s2">&quot;reward&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">reward</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;min_stake&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">min_stake</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;feed_probation_period&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">feed_probation_period</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;oracle_timeout&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">oracle_timeout</span> <span class="ow">or</span> <span class="mi">180</span><span class="p">,</span>
                <span class="s2">&quot;slashing_enabled&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">slashing_enabled</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;variance_tolerance_multiplier&quot;</span><span class="p">:</span> <span class="n">SwitchboardDecimal</span><span class="o">.</span><span class="n">from_decimal</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">variance_tolerance_multiplier</span> <span class="ow">or</span> <span class="n">Decimal</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">as_proper_sbd</span><span class="p">(</span><span class="n">program</span><span class="p">),</span>
                <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
                <span class="s2">&quot;consecutive_feed_failure_limit&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">consecutive_feed_failure_limit</span> <span class="ow">or</span> <span class="mi">1000</span><span class="p">,</span>
                <span class="s2">&quot;consecutive_oracle_failure_limit&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">consecutive_oracle_failure_limit</span> <span class="ow">or</span> <span class="mi">1000</span><span class="p">,</span>
                <span class="s2">&quot;minimum_delay_seconds&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">minimum_delay_seconds</span> <span class="ow">or</span> <span class="mi">5</span><span class="p">,</span>
                <span class="s2">&quot;queue_size&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">queue_size</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;unpermissioned_feeds&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">unpermissioned_feeds</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;unpermissioned_vrf&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">unpermissioned_feeds</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;enable_buffer_relayers&quot;</span><span class="p">:</span> <span class="kc">False</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;oracle_queue&quot;</span><span class="p">:</span> <span class="n">oracle_queue_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
                    <span class="s2">&quot;buffer&quot;</span><span class="p">:</span> <span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;mint&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">mint</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">oracle_queue_account</span><span class="p">,</span> <span class="n">buffer</span><span class="p">],</span>
                <span class="n">pre_instructions</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">create_account</span><span class="p">(</span>
                        <span class="n">CreateAccountParams</span><span class="p">(</span>
                            <span class="n">from_pubkey</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span> 
                            <span class="n">new_account_pubkey</span><span class="o">=</span><span class="n">buffer</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                            <span class="n">lamports</span><span class="o">=</span><span class="n">lamports</span><span class="p">,</span> 
                            <span class="n">space</span><span class="o">=</span><span class="n">queue_size</span><span class="p">,</span> 
                            <span class="n">program_id</span><span class="o">=</span><span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">OracleQueueAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">keypair</span><span class="o">=</span><span class="n">oracle_queue_account</span><span class="p">));</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="OracleQueueInitParams">
                                <div class="attr class">
        <a class="headerlink" href="#OracleQueueInitParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">OracleQueueInitParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">OracleQueueInitParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Mint for the oracle queue&quot;&quot;&quot;</span>
    <span class="n">mint</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;Rewards to provide oracles and round openers on this queue.&quot;&quot;&quot;</span>
    <span class="n">reward</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;The minimum amount of stake oracles must present to remain on the queue.&quot;&quot;&quot;</span>
    <span class="n">min_stake</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The account to delegate authority to for creating permissions targeted</span>
<span class="sd">    at the queue.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">authority</span><span class="p">:</span> <span class="n">PublicKey</span> 

    <span class="sd">&quot;&quot;&quot;Time period we should remove an oracle after if no response.&quot;&quot;&quot;</span>
    <span class="n">oracle_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The tolerated variance amount oracle results can have from the</span>
<span class="sd">    accepted round result before being slashed.</span>
<span class="sd">    slashBound = varianceToleranceMultiplier * stdDeviation</span>
<span class="sd">    Default: 2</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">variance_tolerance_multiplier</span><span class="p">:</span> <span class="n">Decimal</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Consecutive failure limit for a feed before feed permission is revoked.&quot;&quot;&quot;</span>
    <span class="n">consecutive_feed_failure_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Consecutive failure limit for an oracle before oracle permission is revoked.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">consecutive_oracle_failure_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;the minimum update delay time for Aggregators&quot;&quot;&quot;</span>
    <span class="n">minimum_delay_seconds</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Optionally set the size of the queue.&quot;&quot;&quot;</span>
    <span class="n">queue_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enabling this setting means data feeds do not need explicit permission</span>
<span class="sd">    to join the queue.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">unpermissioned_feeds</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Whether slashing is enabled on this queue&quot;&quot;&quot;</span>
    <span class="n">slashing_enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    After a feed lease is funded or re-funded, it must consecutively succeed</span>
<span class="sd">    N amount of times or its authorization to use the queue is auto-revoked.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">feed_probation_period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;A name to assign to this OracleQueue.&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;Buffer for queue metadata.&quot;&quot;&quot;</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enabling this setting means data feeds do not need explicit permission</span>
<span class="sd">    to request VRF proofs and verifications from this queue.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">unpermissioned_vrf</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Mint for the oracle queue</p>
</div>


                            <div id="OracleQueueInitParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#OracleQueueInitParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">OracleQueueInitParams</span><span class="signature">(
    mint: solana.publickey.PublicKey,
    reward: int,
    min_stake: int,
    authority: solana.publickey.PublicKey,
    oracle_timeout: int = None,
    variance_tolerance_multiplier: decimal.Decimal = None,
    consecutive_feed_failure_limit: int = None,
    consecutive_oracle_failure_limit: int = None,
    minimum_delay_seconds: int = None,
    queue_size: int = None,
    unpermissioned_feeds: bool = None,
    slashing_enabled: bool = None,
    feed_probation_period: int = None,
    name: bytes = None,
    metadata: bytes = None,
    unpermissioned_vrf: bool = None
)</span>
    </div>

    
    

                            </div>
                            <div id="OracleQueueInitParams.mint" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.mint">#&nbsp;&nbsp</a>

        <span class="name">mint</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>Rewards to provide oracles and round openers on this queue.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.reward" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.reward">#&nbsp;&nbsp</a>

        <span class="name">reward</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>The minimum amount of stake oracles must present to remain on the queue.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.min_stake" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.min_stake">#&nbsp;&nbsp</a>

        <span class="name">min_stake</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>The account to delegate authority to for creating permissions targeted
at the queue.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.authority" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.authority">#&nbsp;&nbsp</a>

        <span class="name">authority</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>Time period we should remove an oracle after if no response.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.oracle_timeout" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.oracle_timeout">#&nbsp;&nbsp</a>

        <span class="name">oracle_timeout</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>The tolerated variance amount oracle results can have from the
accepted round result before being slashed.
slashBound = varianceToleranceMultiplier * stdDeviation
Default: 2</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.variance_tolerance_multiplier" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.variance_tolerance_multiplier">#&nbsp;&nbsp</a>

        <span class="name">variance_tolerance_multiplier</span><span class="annotation">: decimal.Decimal</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Consecutive failure limit for a feed before feed permission is revoked.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.consecutive_feed_failure_limit" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.consecutive_feed_failure_limit">#&nbsp;&nbsp</a>

        <span class="name">consecutive_feed_failure_limit</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Consecutive failure limit for an oracle before oracle permission is revoked.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.consecutive_oracle_failure_limit" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.consecutive_oracle_failure_limit">#&nbsp;&nbsp</a>

        <span class="name">consecutive_oracle_failure_limit</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>the minimum update delay time for Aggregators</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.minimum_delay_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.minimum_delay_seconds">#&nbsp;&nbsp</a>

        <span class="name">minimum_delay_seconds</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Optionally set the size of the queue.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.queue_size" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.queue_size">#&nbsp;&nbsp</a>

        <span class="name">queue_size</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Enabling this setting means data feeds do not need explicit permission
to join the queue.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.unpermissioned_feeds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.unpermissioned_feeds">#&nbsp;&nbsp</a>

        <span class="name">unpermissioned_feeds</span><span class="annotation">: bool</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Whether slashing is enabled on this queue</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.slashing_enabled" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.slashing_enabled">#&nbsp;&nbsp</a>

        <span class="name">slashing_enabled</span><span class="annotation">: bool</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>After a feed lease is funded or re-funded, it must consecutively succeed
N amount of times or its authorization to use the queue is auto-revoked.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.feed_probation_period" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.feed_probation_period">#&nbsp;&nbsp</a>

        <span class="name">feed_probation_period</span><span class="annotation">: int</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>A name to assign to this OracleQueue.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="annotation">: bytes</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Buffer for queue metadata.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.metadata" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.metadata">#&nbsp;&nbsp</a>

        <span class="name">metadata</span><span class="annotation">: bytes</span><span class="default_value"> = None</span>
    </div>

    
            <div class="docstring"><p>Enabling this setting means data feeds do not need explicit permission
to request VRF proofs and verifications from this queue.</p>
</div>


                            </div>
                            <div id="OracleQueueInitParams.unpermissioned_vrf" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleQueueInitParams.unpermissioned_vrf">#&nbsp;&nbsp</a>

        <span class="name">unpermissioned_vrf</span><span class="annotation">: bool</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="OracleJob">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div id="OracleJob.DESCRIPTOR" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleJob.DESCRIPTOR">#&nbsp;&nbsp</a>

        <span class="name">DESCRIPTOR</span><span class="default_value"> = &lt;google.protobuf.pyext._message.MessageDescriptor object&gt;</span>
    </div>

    
    

                            </div>
                            <div id="OracleJob.tasks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#OracleJob.tasks">#&nbsp;&nbsp</a>

        <span class="name">tasks</span>
    </div>

    
            <div class="docstring"><p>Field <a href="#OracleJob.tasks">OracleJob.tasks</a></p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.Clear" class="function">Clear</dd>
                <dd id="OracleJob.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.HasField" class="function">HasField</dd>
                <dd id="OracleJob.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.FromString" class="function">FromString</dd>
                <dd id="OracleJob.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.Extensions" class="variable">Extensions</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.HttpTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.HttpTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.HttpTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.HttpTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.HttpTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.HttpTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.HttpTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.HttpTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.HttpTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.HttpTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.HttpTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.HttpTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.HttpTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.HttpTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.HttpTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.HttpTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.HttpTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.HttpTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.HttpTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.HttpTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.HttpTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.HttpTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.HttpTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.HttpTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.HttpTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.HttpTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.HttpTask</dt>
                                <dd id="OracleJob.HttpTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.HttpTask.Header" class="class">Header</dd>
                <dd id="OracleJob.HttpTask.url" class="variable">url</dd>
                <dd id="OracleJob.HttpTask.method" class="variable">method</dd>
                <dd id="OracleJob.HttpTask.headers" class="variable">headers</dd>
                <dd id="OracleJob.HttpTask.body" class="variable">body</dd>
                <dd id="OracleJob.HttpTask.Method" class="variable">Method</dd>
                <dd id="OracleJob.HttpTask.METHOD_UNKOWN" class="variable">METHOD_UNKOWN</dd>
                <dd id="OracleJob.HttpTask.METHOD_GET" class="variable">METHOD_GET</dd>
                <dd id="OracleJob.HttpTask.METHOD_POST" class="variable">METHOD_POST</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.JsonParseTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.JsonParseTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.JsonParseTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.JsonParseTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.JsonParseTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.JsonParseTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.JsonParseTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.JsonParseTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.JsonParseTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.JsonParseTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.JsonParseTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.JsonParseTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.JsonParseTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.JsonParseTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.JsonParseTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.JsonParseTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.JsonParseTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.JsonParseTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.JsonParseTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.JsonParseTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.JsonParseTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.JsonParseTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.JsonParseTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.JsonParseTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.JsonParseTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.JsonParseTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.JsonParseTask</dt>
                                <dd id="OracleJob.JsonParseTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.JsonParseTask.path" class="variable">path</dd>
                <dd id="OracleJob.JsonParseTask.aggregation_method" class="variable">aggregation_method</dd>
                <dd id="OracleJob.JsonParseTask.AggregationMethod" class="variable">AggregationMethod</dd>
                <dd id="OracleJob.JsonParseTask.NONE" class="variable">NONE</dd>
                <dd id="OracleJob.JsonParseTask.MIN" class="variable">MIN</dd>
                <dd id="OracleJob.JsonParseTask.MAX" class="variable">MAX</dd>
                <dd id="OracleJob.JsonParseTask.SUM" class="variable">SUM</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.MedianTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.MedianTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.MedianTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.MedianTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.MedianTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.MedianTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.MedianTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.MedianTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.MedianTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.MedianTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.MedianTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.MedianTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.MedianTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.MedianTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.MedianTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.MedianTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.MedianTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.MedianTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.MedianTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.MedianTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.MedianTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.MedianTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.MedianTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.MedianTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.MedianTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.MedianTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.MedianTask</dt>
                                <dd id="OracleJob.MedianTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.MedianTask.tasks" class="variable">tasks</dd>
                <dd id="OracleJob.MedianTask.jobs" class="variable">jobs</dd>
                <dd id="OracleJob.MedianTask.min_successful_required" class="variable">min_successful_required</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.MeanTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.MeanTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.MeanTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.MeanTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.MeanTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.MeanTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.MeanTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.MeanTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.MeanTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.MeanTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.MeanTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.MeanTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.MeanTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.MeanTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.MeanTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.MeanTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.MeanTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.MeanTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.MeanTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.MeanTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.MeanTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.MeanTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.MeanTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.MeanTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.MeanTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.MeanTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.MeanTask</dt>
                                <dd id="OracleJob.MeanTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.MeanTask.tasks" class="variable">tasks</dd>
                <dd id="OracleJob.MeanTask.jobs" class="variable">jobs</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.MaxTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.MaxTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.MaxTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.MaxTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.MaxTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.MaxTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.MaxTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.MaxTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.MaxTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.MaxTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.MaxTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.MaxTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.MaxTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.MaxTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.MaxTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.MaxTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.MaxTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.MaxTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.MaxTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.MaxTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.MaxTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.MaxTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.MaxTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.MaxTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.MaxTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.MaxTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.MaxTask</dt>
                                <dd id="OracleJob.MaxTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.MaxTask.tasks" class="variable">tasks</dd>
                <dd id="OracleJob.MaxTask.jobs" class="variable">jobs</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.ValueTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.ValueTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.ValueTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.ValueTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.ValueTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.ValueTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.ValueTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.ValueTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.ValueTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.ValueTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.ValueTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.ValueTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.ValueTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.ValueTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.ValueTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.ValueTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.ValueTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.ValueTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.ValueTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.ValueTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.ValueTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.ValueTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.ValueTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.ValueTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.ValueTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.ValueTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.ValueTask</dt>
                                <dd id="OracleJob.ValueTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.ValueTask.value" class="variable">value</dd>
                <dd id="OracleJob.ValueTask.aggregator_pubkey" class="variable">aggregator_pubkey</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.WebsocketTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.WebsocketTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.WebsocketTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.WebsocketTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.WebsocketTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.WebsocketTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.WebsocketTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.WebsocketTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.WebsocketTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.WebsocketTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.WebsocketTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.WebsocketTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.WebsocketTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.WebsocketTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.WebsocketTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.WebsocketTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.WebsocketTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.WebsocketTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.WebsocketTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.WebsocketTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.WebsocketTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.WebsocketTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.WebsocketTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.WebsocketTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.WebsocketTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.WebsocketTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.WebsocketTask</dt>
                                <dd id="OracleJob.WebsocketTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.WebsocketTask.url" class="variable">url</dd>
                <dd id="OracleJob.WebsocketTask.subscription" class="variable">subscription</dd>
                <dd id="OracleJob.WebsocketTask.max_data_age_seconds" class="variable">max_data_age_seconds</dd>
                <dd id="OracleJob.WebsocketTask.filter" class="variable">filter</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.ConditionalTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.ConditionalTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.ConditionalTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.ConditionalTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.ConditionalTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.ConditionalTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.ConditionalTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.ConditionalTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.ConditionalTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.ConditionalTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.ConditionalTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.ConditionalTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.ConditionalTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.ConditionalTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.ConditionalTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.ConditionalTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.ConditionalTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.ConditionalTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.ConditionalTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.ConditionalTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.ConditionalTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.ConditionalTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.ConditionalTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.ConditionalTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.ConditionalTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.ConditionalTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.ConditionalTask</dt>
                                <dd id="OracleJob.ConditionalTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.ConditionalTask.attempt" class="variable">attempt</dd>
                <dd id="OracleJob.ConditionalTask.on_failure" class="variable">on_failure</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.DivideTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.DivideTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.DivideTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.DivideTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.DivideTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.DivideTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.DivideTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.DivideTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.DivideTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.DivideTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.DivideTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.DivideTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.DivideTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.DivideTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.DivideTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.DivideTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.DivideTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.DivideTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.DivideTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.DivideTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.DivideTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.DivideTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.DivideTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.DivideTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.DivideTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.DivideTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.DivideTask</dt>
                                <dd id="OracleJob.DivideTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.DivideTask.scalar" class="variable">scalar</dd>
                <dd id="OracleJob.DivideTask.aggregator_pubkey" class="variable">aggregator_pubkey</dd>
                <dd id="OracleJob.DivideTask.job" class="variable">job</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.MultiplyTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.MultiplyTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.MultiplyTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.MultiplyTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.MultiplyTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.MultiplyTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.MultiplyTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.MultiplyTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.MultiplyTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.MultiplyTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.MultiplyTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.MultiplyTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.MultiplyTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.MultiplyTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.MultiplyTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.MultiplyTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.MultiplyTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.MultiplyTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.MultiplyTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.MultiplyTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.MultiplyTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.MultiplyTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.MultiplyTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.MultiplyTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.MultiplyTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.MultiplyTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.MultiplyTask</dt>
                                <dd id="OracleJob.MultiplyTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.MultiplyTask.scalar" class="variable">scalar</dd>
                <dd id="OracleJob.MultiplyTask.aggregator_pubkey" class="variable">aggregator_pubkey</dd>
                <dd id="OracleJob.MultiplyTask.job" class="variable">job</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.AddTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.AddTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.AddTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.AddTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.AddTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.AddTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.AddTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.AddTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.AddTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.AddTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.AddTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.AddTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.AddTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.AddTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.AddTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.AddTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.AddTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.AddTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.AddTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.AddTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.AddTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.AddTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.AddTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.AddTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.AddTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.AddTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.AddTask</dt>
                                <dd id="OracleJob.AddTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.AddTask.scalar" class="variable">scalar</dd>
                <dd id="OracleJob.AddTask.aggregator_pubkey" class="variable">aggregator_pubkey</dd>
                <dd id="OracleJob.AddTask.job" class="variable">job</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.SubtractTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.SubtractTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.SubtractTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.SubtractTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.SubtractTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.SubtractTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.SubtractTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.SubtractTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.SubtractTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.SubtractTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.SubtractTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.SubtractTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.SubtractTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.SubtractTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.SubtractTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.SubtractTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.SubtractTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.SubtractTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.SubtractTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.SubtractTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.SubtractTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.SubtractTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.SubtractTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.SubtractTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.SubtractTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.SubtractTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.SubtractTask</dt>
                                <dd id="OracleJob.SubtractTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.SubtractTask.scalar" class="variable">scalar</dd>
                <dd id="OracleJob.SubtractTask.aggregator_pubkey" class="variable">aggregator_pubkey</dd>
                <dd id="OracleJob.SubtractTask.job" class="variable">job</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.LpTokenPriceTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.LpTokenPriceTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.LpTokenPriceTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.LpTokenPriceTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.LpTokenPriceTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.LpTokenPriceTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.LpTokenPriceTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.LpTokenPriceTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.LpTokenPriceTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.LpTokenPriceTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.LpTokenPriceTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.LpTokenPriceTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.LpTokenPriceTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.LpTokenPriceTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.LpTokenPriceTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.LpTokenPriceTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.LpTokenPriceTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.LpTokenPriceTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.LpTokenPriceTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.LpTokenPriceTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.LpTokenPriceTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.LpTokenPriceTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.LpTokenPriceTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.LpTokenPriceTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.LpTokenPriceTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.LpTokenPriceTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.LpTokenPriceTask</dt>
                                <dd id="OracleJob.LpTokenPriceTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.LpTokenPriceTask.mercurial_pool_address" class="variable">mercurial_pool_address</dd>
                <dd id="OracleJob.LpTokenPriceTask.saber_pool_address" class="variable">saber_pool_address</dd>
                <dd id="OracleJob.LpTokenPriceTask.orca_pool_address" class="variable">orca_pool_address</dd>
                <dd id="OracleJob.LpTokenPriceTask.raydium_pool_address" class="variable">raydium_pool_address</dd>
                <dd id="OracleJob.LpTokenPriceTask.price_feed_addresses" class="variable">price_feed_addresses</dd>
                <dd id="OracleJob.LpTokenPriceTask.price_feed_jobs" class="variable">price_feed_jobs</dd>
                <dd id="OracleJob.LpTokenPriceTask.use_fair_price" class="variable">use_fair_price</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.LpExchangeRateTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.LpExchangeRateTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.LpExchangeRateTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.LpExchangeRateTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.LpExchangeRateTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.LpExchangeRateTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.LpExchangeRateTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.LpExchangeRateTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.LpExchangeRateTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.LpExchangeRateTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.LpExchangeRateTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.LpExchangeRateTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.LpExchangeRateTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.LpExchangeRateTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.LpExchangeRateTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.LpExchangeRateTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.LpExchangeRateTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.LpExchangeRateTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.LpExchangeRateTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.LpExchangeRateTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.LpExchangeRateTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.LpExchangeRateTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.LpExchangeRateTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.LpExchangeRateTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.LpExchangeRateTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.LpExchangeRateTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.LpExchangeRateTask</dt>
                                <dd id="OracleJob.LpExchangeRateTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.LpExchangeRateTask.in_token_address" class="variable">in_token_address</dd>
                <dd id="OracleJob.LpExchangeRateTask.out_token_address" class="variable">out_token_address</dd>
                <dd id="OracleJob.LpExchangeRateTask.mercurial_pool_address" class="variable">mercurial_pool_address</dd>
                <dd id="OracleJob.LpExchangeRateTask.saber_pool_address" class="variable">saber_pool_address</dd>
                <dd id="OracleJob.LpExchangeRateTask.orca_pool_token_mint_address" class="variable">orca_pool_token_mint_address</dd>
                <dd id="OracleJob.LpExchangeRateTask.raydium_pool_address" class="variable">raydium_pool_address</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.RegexExtractTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.RegexExtractTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.RegexExtractTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.RegexExtractTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.RegexExtractTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.RegexExtractTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.RegexExtractTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.RegexExtractTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.RegexExtractTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.RegexExtractTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.RegexExtractTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.RegexExtractTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.RegexExtractTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.RegexExtractTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.RegexExtractTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.RegexExtractTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.RegexExtractTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.RegexExtractTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.RegexExtractTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.RegexExtractTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.RegexExtractTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.RegexExtractTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.RegexExtractTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.RegexExtractTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.RegexExtractTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.RegexExtractTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.RegexExtractTask</dt>
                                <dd id="OracleJob.RegexExtractTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.RegexExtractTask.pattern" class="variable">pattern</dd>
                <dd id="OracleJob.RegexExtractTask.group_number" class="variable">group_number</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.XStepPriceTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.XStepPriceTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.XStepPriceTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.XStepPriceTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.XStepPriceTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.XStepPriceTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.XStepPriceTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.XStepPriceTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.XStepPriceTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.XStepPriceTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.XStepPriceTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.XStepPriceTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.XStepPriceTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.XStepPriceTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.XStepPriceTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.XStepPriceTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.XStepPriceTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.XStepPriceTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.XStepPriceTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.XStepPriceTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.XStepPriceTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.XStepPriceTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.XStepPriceTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.XStepPriceTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.XStepPriceTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.XStepPriceTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.XStepPriceTask</dt>
                                <dd id="OracleJob.XStepPriceTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.XStepPriceTask.step_job" class="variable">step_job</dd>
                <dd id="OracleJob.XStepPriceTask.step_aggregator_pubkey" class="variable">step_aggregator_pubkey</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.TwapTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.TwapTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.TwapTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.TwapTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.TwapTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.TwapTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.TwapTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.TwapTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.TwapTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.TwapTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.TwapTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.TwapTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.TwapTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.TwapTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.TwapTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.TwapTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.TwapTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.TwapTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.TwapTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.TwapTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.TwapTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.TwapTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.TwapTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.TwapTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.TwapTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.TwapTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.TwapTask</dt>
                                <dd id="OracleJob.TwapTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.TwapTask.aggregator_pubkey" class="variable">aggregator_pubkey</dd>
                <dd id="OracleJob.TwapTask.period" class="variable">period</dd>
                <dd id="OracleJob.TwapTask.weight_by_propagation_time" class="variable">weight_by_propagation_time</dd>
                <dd id="OracleJob.TwapTask.min_samples" class="variable">min_samples</dd>
                <dd id="OracleJob.TwapTask.ending_unix_timestamp" class="variable">ending_unix_timestamp</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.SerumSwapTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.SerumSwapTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.SerumSwapTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.SerumSwapTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.SerumSwapTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.SerumSwapTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.SerumSwapTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.SerumSwapTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.SerumSwapTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.SerumSwapTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.SerumSwapTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.SerumSwapTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.SerumSwapTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.SerumSwapTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.SerumSwapTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.SerumSwapTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.SerumSwapTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.SerumSwapTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.SerumSwapTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.SerumSwapTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.SerumSwapTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.SerumSwapTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.SerumSwapTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.SerumSwapTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.SerumSwapTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.SerumSwapTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.SerumSwapTask</dt>
                                <dd id="OracleJob.SerumSwapTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.SerumSwapTask.serum_pool_address" class="variable">serum_pool_address</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.PowTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.PowTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.PowTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.PowTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.PowTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.PowTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.PowTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.PowTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.PowTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.PowTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.PowTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.PowTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.PowTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.PowTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.PowTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.PowTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.PowTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.PowTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.PowTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.PowTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.PowTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.PowTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.PowTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.PowTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.PowTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.PowTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.PowTask</dt>
                                <dd id="OracleJob.PowTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.PowTask.scalar" class="variable">scalar</dd>
                <dd id="OracleJob.PowTask.aggregator_pubkey" class="variable">aggregator_pubkey</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.LendingRateTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.LendingRateTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.LendingRateTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.LendingRateTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.LendingRateTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.LendingRateTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.LendingRateTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.LendingRateTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.LendingRateTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.LendingRateTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.LendingRateTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.LendingRateTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.LendingRateTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.LendingRateTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.LendingRateTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.LendingRateTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.LendingRateTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.LendingRateTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.LendingRateTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.LendingRateTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.LendingRateTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.LendingRateTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.LendingRateTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.LendingRateTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.LendingRateTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.LendingRateTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.LendingRateTask</dt>
                                <dd id="OracleJob.LendingRateTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.LendingRateTask.protocol" class="variable">protocol</dd>
                <dd id="OracleJob.LendingRateTask.asset_mint" class="variable">asset_mint</dd>
                <dd id="OracleJob.LendingRateTask.field" class="variable">field</dd>
                <dd id="OracleJob.LendingRateTask.Field" class="variable">Field</dd>
                <dd id="OracleJob.LendingRateTask.FIELD_DEPOSIT_RATE" class="variable">FIELD_DEPOSIT_RATE</dd>
                <dd id="OracleJob.LendingRateTask.FIELD_BORROW_RATE" class="variable">FIELD_BORROW_RATE</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.MangoPerpMarketTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.MangoPerpMarketTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.MangoPerpMarketTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.MangoPerpMarketTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.MangoPerpMarketTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.MangoPerpMarketTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.MangoPerpMarketTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.MangoPerpMarketTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.MangoPerpMarketTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.MangoPerpMarketTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.MangoPerpMarketTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.MangoPerpMarketTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.MangoPerpMarketTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.MangoPerpMarketTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.MangoPerpMarketTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.MangoPerpMarketTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.MangoPerpMarketTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.MangoPerpMarketTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.MangoPerpMarketTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.MangoPerpMarketTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.MangoPerpMarketTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.MangoPerpMarketTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.MangoPerpMarketTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.MangoPerpMarketTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.MangoPerpMarketTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.MangoPerpMarketTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.MangoPerpMarketTask</dt>
                                <dd id="OracleJob.MangoPerpMarketTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.MangoPerpMarketTask.perp_market_address" class="variable">perp_market_address</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.JupiterSwapTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.JupiterSwapTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.JupiterSwapTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.JupiterSwapTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.JupiterSwapTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.JupiterSwapTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.JupiterSwapTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.JupiterSwapTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.JupiterSwapTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.JupiterSwapTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.JupiterSwapTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.JupiterSwapTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.JupiterSwapTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.JupiterSwapTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.JupiterSwapTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.JupiterSwapTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.JupiterSwapTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.JupiterSwapTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.JupiterSwapTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.JupiterSwapTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.JupiterSwapTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.JupiterSwapTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.JupiterSwapTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.JupiterSwapTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.JupiterSwapTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.JupiterSwapTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.JupiterSwapTask</dt>
                                <dd id="OracleJob.JupiterSwapTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.JupiterSwapTask.in_token_address" class="variable">in_token_address</dd>
                <dd id="OracleJob.JupiterSwapTask.out_token_address" class="variable">out_token_address</dd>
                <dd id="OracleJob.JupiterSwapTask.base_amount" class="variable">base_amount</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.PerpMarketTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.PerpMarketTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.PerpMarketTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.PerpMarketTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.PerpMarketTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.PerpMarketTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.PerpMarketTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.PerpMarketTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.PerpMarketTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.PerpMarketTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.PerpMarketTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.PerpMarketTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.PerpMarketTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.PerpMarketTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.PerpMarketTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.PerpMarketTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.PerpMarketTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.PerpMarketTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.PerpMarketTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.PerpMarketTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.PerpMarketTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.PerpMarketTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.PerpMarketTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.PerpMarketTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.PerpMarketTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.PerpMarketTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.PerpMarketTask</dt>
                                <dd id="OracleJob.PerpMarketTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.PerpMarketTask.mango_market_address" class="variable">mango_market_address</dd>
                <dd id="OracleJob.PerpMarketTask.drift_market_address" class="variable">drift_market_address</dd>
                <dd id="OracleJob.PerpMarketTask.zeta_market_address" class="variable">zeta_market_address</dd>
                <dd id="OracleJob.PerpMarketTask.zo_market_address" class="variable">zo_market_address</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.OracleTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.OracleTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.OracleTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.OracleTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.OracleTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.OracleTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.OracleTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.OracleTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.OracleTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.OracleTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.OracleTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.OracleTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.OracleTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.OracleTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.OracleTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.OracleTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.OracleTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.OracleTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.OracleTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.OracleTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.OracleTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.OracleTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.OracleTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.OracleTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.OracleTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.OracleTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.OracleTask</dt>
                                <dd id="OracleJob.OracleTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.OracleTask.switchboard_address" class="variable">switchboard_address</dd>
                <dd id="OracleJob.OracleTask.pyth_address" class="variable">pyth_address</dd>
                <dd id="OracleJob.OracleTask.chainlink_address" class="variable">chainlink_address</dd>
                <dd id="OracleJob.OracleTask.pyth_allowed_confidence_interval" class="variable">pyth_allowed_confidence_interval</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.AnchorFetchTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.AnchorFetchTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.AnchorFetchTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.AnchorFetchTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.AnchorFetchTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.AnchorFetchTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.AnchorFetchTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.AnchorFetchTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.AnchorFetchTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.AnchorFetchTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.AnchorFetchTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.AnchorFetchTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.AnchorFetchTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.AnchorFetchTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.AnchorFetchTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.AnchorFetchTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.AnchorFetchTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.AnchorFetchTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.AnchorFetchTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.AnchorFetchTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.AnchorFetchTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.AnchorFetchTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.AnchorFetchTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.AnchorFetchTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.AnchorFetchTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.AnchorFetchTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.AnchorFetchTask</dt>
                                <dd id="OracleJob.AnchorFetchTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.AnchorFetchTask.program_id" class="variable">program_id</dd>
                <dd id="OracleJob.AnchorFetchTask.account_address" class="variable">account_address</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.DefiKingdomsTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.DefiKingdomsTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.DefiKingdomsTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.DefiKingdomsTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.DefiKingdomsTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.DefiKingdomsTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.DefiKingdomsTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.DefiKingdomsTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.DefiKingdomsTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.DefiKingdomsTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.DefiKingdomsTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.DefiKingdomsTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.DefiKingdomsTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.DefiKingdomsTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.DefiKingdomsTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.DefiKingdomsTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.DefiKingdomsTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.DefiKingdomsTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.DefiKingdomsTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.DefiKingdomsTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.DefiKingdomsTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.DefiKingdomsTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.DefiKingdomsTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.DefiKingdomsTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.DefiKingdomsTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.DefiKingdomsTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.DefiKingdomsTask</dt>
                                <dd id="OracleJob.DefiKingdomsTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.DefiKingdomsTask.Token" class="class">Token</dd>
                <dd id="OracleJob.DefiKingdomsTask.provider" class="variable">provider</dd>
                <dd id="OracleJob.DefiKingdomsTask.in_token" class="variable">in_token</dd>
                <dd id="OracleJob.DefiKingdomsTask.out_token" class="variable">out_token</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.TpsTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.TpsTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.TpsTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.TpsTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.TpsTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.TpsTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.TpsTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.TpsTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.TpsTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.TpsTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.TpsTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.TpsTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.TpsTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.TpsTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.TpsTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.TpsTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.TpsTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.TpsTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.TpsTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.TpsTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.TpsTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.TpsTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.TpsTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.TpsTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.TpsTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.TpsTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.TpsTask</dt>
                                <dd id="OracleJob.TpsTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.SplStakePoolTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.SplStakePoolTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.SplStakePoolTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.SplStakePoolTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.SplStakePoolTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.SplStakePoolTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.SplStakePoolTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.SplStakePoolTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.SplStakePoolTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.SplStakePoolTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.SplStakePoolTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.SplStakePoolTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.SplStakePoolTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.SplStakePoolTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.SplStakePoolTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.SplStakePoolTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.SplStakePoolTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.SplStakePoolTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.SplStakePoolTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.SplStakePoolTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.SplStakePoolTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.SplStakePoolTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.SplStakePoolTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.SplStakePoolTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.SplStakePoolTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.SplStakePoolTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.SplStakePoolTask</dt>
                                <dd id="OracleJob.SplStakePoolTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.SplStakePoolTask.pubkey" class="variable">pubkey</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.SplTokenParseTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.SplTokenParseTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.SplTokenParseTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.SplTokenParseTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.SplTokenParseTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.SplTokenParseTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.SplTokenParseTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.SplTokenParseTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.SplTokenParseTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.SplTokenParseTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.SplTokenParseTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.SplTokenParseTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.SplTokenParseTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.SplTokenParseTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.SplTokenParseTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.SplTokenParseTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.SplTokenParseTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.SplTokenParseTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.SplTokenParseTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.SplTokenParseTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.SplTokenParseTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.SplTokenParseTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.SplTokenParseTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.SplTokenParseTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.SplTokenParseTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.SplTokenParseTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.SplTokenParseTask</dt>
                                <dd id="OracleJob.SplTokenParseTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.SplTokenParseTask.token_account_address" class="variable">token_account_address</dd>
                <dd id="OracleJob.SplTokenParseTask.mint_address" class="variable">mint_address</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.UniswapExchangeRateTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.UniswapExchangeRateTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.UniswapExchangeRateTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.UniswapExchangeRateTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.UniswapExchangeRateTask</dt>
                                <dd id="OracleJob.UniswapExchangeRateTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.in_token_address" class="variable">in_token_address</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.out_token_address" class="variable">out_token_address</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.in_token_amount" class="variable">in_token_amount</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.slippage" class="variable">slippage</dd>
                <dd id="OracleJob.UniswapExchangeRateTask.provider" class="variable">provider</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.SushiswapExchangeRateTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.SushiswapExchangeRateTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.SushiswapExchangeRateTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.SushiswapExchangeRateTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.SushiswapExchangeRateTask</dt>
                                <dd id="OracleJob.SushiswapExchangeRateTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.in_token_address" class="variable">in_token_address</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.out_token_address" class="variable">out_token_address</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.in_token_amount" class="variable">in_token_amount</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.slippage" class="variable">slippage</dd>
                <dd id="OracleJob.SushiswapExchangeRateTask.provider" class="variable">provider</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.PancakeswapExchangeRateTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.PancakeswapExchangeRateTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.PancakeswapExchangeRateTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.PancakeswapExchangeRateTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.PancakeswapExchangeRateTask</dt>
                                <dd id="OracleJob.PancakeswapExchangeRateTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.in_token_address" class="variable">in_token_address</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.out_token_address" class="variable">out_token_address</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.in_token_amount" class="variable">in_token_amount</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.slippage" class="variable">slippage</dd>
                <dd id="OracleJob.PancakeswapExchangeRateTask.provider" class="variable">provider</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.CacheTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.CacheTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.CacheTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.CacheTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.CacheTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.CacheTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.CacheTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.CacheTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.CacheTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.CacheTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.CacheTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.CacheTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.CacheTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.CacheTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.CacheTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.CacheTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.CacheTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.CacheTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.CacheTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.CacheTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.CacheTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.CacheTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.CacheTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.CacheTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.CacheTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.CacheTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.CacheTask</dt>
                                <dd id="OracleJob.CacheTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.CacheTask.name" class="variable">name</dd>
                <dd id="OracleJob.CacheTask.method" class="variable">method</dd>
                <dd id="OracleJob.CacheTask.Method" class="variable">Method</dd>
                <dd id="OracleJob.CacheTask.METHOD_GET" class="variable">METHOD_GET</dd>
                <dd id="OracleJob.CacheTask.METHOD_SET" class="variable">METHOD_SET</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.SysclockOffsetTask">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.SysclockOffsetTask">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.SysclockOffsetTask</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.SysclockOffsetTask.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.SysclockOffsetTask.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.SysclockOffsetTask.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.SysclockOffsetTask.Clear" class="function">Clear</dd>
                <dd id="OracleJob.SysclockOffsetTask.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.SysclockOffsetTask.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.SysclockOffsetTask.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.SysclockOffsetTask.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.SysclockOffsetTask.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.SysclockOffsetTask.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.SysclockOffsetTask.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.SysclockOffsetTask.HasField" class="function">HasField</dd>
                <dd id="OracleJob.SysclockOffsetTask.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.SysclockOffsetTask.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.SysclockOffsetTask.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.SysclockOffsetTask.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.SysclockOffsetTask.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.SysclockOffsetTask.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.SysclockOffsetTask.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.SysclockOffsetTask.FromString" class="function">FromString</dd>
                <dd id="OracleJob.SysclockOffsetTask.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.SysclockOffsetTask.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.SysclockOffsetTask.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.SysclockOffsetTask</dt>
                                <dd id="OracleJob.SysclockOffsetTask.DESCRIPTOR" class="variable">DESCRIPTOR</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="OracleJob.Task">
                                <div class="attr class">
        <a class="headerlink" href="#OracleJob.Task">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">OracleJob.Task</span><wbr>(<span class="base">google.protobuf.pyext._message.CMessage</span>, <span class="base">google.protobuf.message.Message</span>):
    </div>

    
            <div class="docstring"><p>A ProtocolMessage</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>google.protobuf.pyext._message.CMessage</dt>
                                <dd id="OracleJob.Task.__init__" class="function">CMessage</dd>
                <dd id="OracleJob.Task.MergeFrom" class="function">MergeFrom</dd>
                <dd id="OracleJob.Task.CopyFrom" class="function">CopyFrom</dd>
                <dd id="OracleJob.Task.Clear" class="function">Clear</dd>
                <dd id="OracleJob.Task.SetInParent" class="function">SetInParent</dd>
                <dd id="OracleJob.Task.IsInitialized" class="function">IsInitialized</dd>
                <dd id="OracleJob.Task.MergeFromString" class="function">MergeFromString</dd>
                <dd id="OracleJob.Task.ParseFromString" class="function">ParseFromString</dd>
                <dd id="OracleJob.Task.SerializeToString" class="function">SerializeToString</dd>
                <dd id="OracleJob.Task.SerializePartialToString" class="function">SerializePartialToString</dd>
                <dd id="OracleJob.Task.ListFields" class="function">ListFields</dd>
                <dd id="OracleJob.Task.HasField" class="function">HasField</dd>
                <dd id="OracleJob.Task.ClearField" class="function">ClearField</dd>
                <dd id="OracleJob.Task.WhichOneof" class="function">WhichOneof</dd>
                <dd id="OracleJob.Task.HasExtension" class="function">HasExtension</dd>
                <dd id="OracleJob.Task.ClearExtension" class="function">ClearExtension</dd>
                <dd id="OracleJob.Task.UnknownFields" class="function">UnknownFields</dd>
                <dd id="OracleJob.Task.DiscardUnknownFields" class="function">DiscardUnknownFields</dd>
                <dd id="OracleJob.Task.ByteSize" class="function">ByteSize</dd>
                <dd id="OracleJob.Task.FromString" class="function">FromString</dd>
                <dd id="OracleJob.Task.RegisterExtension" class="function">RegisterExtension</dd>
                <dd id="OracleJob.Task.FindInitializationErrors" class="function">FindInitializationErrors</dd>
                <dd id="OracleJob.Task.Extensions" class="variable">Extensions</dd>

            </div>
            <div><dt>job_schemas_pb2.Task</dt>
                                <dd id="OracleJob.Task.DESCRIPTOR" class="variable">DESCRIPTOR</dd>
                <dd id="OracleJob.Task.http_task" class="variable">http_task</dd>
                <dd id="OracleJob.Task.json_parse_task" class="variable">json_parse_task</dd>
                <dd id="OracleJob.Task.median_task" class="variable">median_task</dd>
                <dd id="OracleJob.Task.mean_task" class="variable">mean_task</dd>
                <dd id="OracleJob.Task.websocket_task" class="variable">websocket_task</dd>
                <dd id="OracleJob.Task.divide_task" class="variable">divide_task</dd>
                <dd id="OracleJob.Task.multiply_task" class="variable">multiply_task</dd>
                <dd id="OracleJob.Task.lp_token_price_task" class="variable">lp_token_price_task</dd>
                <dd id="OracleJob.Task.lp_exchange_rate_task" class="variable">lp_exchange_rate_task</dd>
                <dd id="OracleJob.Task.conditional_task" class="variable">conditional_task</dd>
                <dd id="OracleJob.Task.value_task" class="variable">value_task</dd>
                <dd id="OracleJob.Task.max_task" class="variable">max_task</dd>
                <dd id="OracleJob.Task.regex_extract_task" class="variable">regex_extract_task</dd>
                <dd id="OracleJob.Task.xstep_price_task" class="variable">xstep_price_task</dd>
                <dd id="OracleJob.Task.add_task" class="variable">add_task</dd>
                <dd id="OracleJob.Task.subtract_task" class="variable">subtract_task</dd>
                <dd id="OracleJob.Task.twap_task" class="variable">twap_task</dd>
                <dd id="OracleJob.Task.serum_swap_task" class="variable">serum_swap_task</dd>
                <dd id="OracleJob.Task.pow_task" class="variable">pow_task</dd>
                <dd id="OracleJob.Task.lending_rate_task" class="variable">lending_rate_task</dd>
                <dd id="OracleJob.Task.mango_perp_market_task" class="variable">mango_perp_market_task</dd>
                <dd id="OracleJob.Task.jupiter_swap_task" class="variable">jupiter_swap_task</dd>
                <dd id="OracleJob.Task.perp_market_task" class="variable">perp_market_task</dd>
                <dd id="OracleJob.Task.oracle_task" class="variable">oracle_task</dd>
                <dd id="OracleJob.Task.anchor_fetch_task" class="variable">anchor_fetch_task</dd>
                <dd id="OracleJob.Task.defi_kingdoms_task" class="variable">defi_kingdoms_task</dd>
                <dd id="OracleJob.Task.tps_task" class="variable">tps_task</dd>
                <dd id="OracleJob.Task.spl_stake_pool_task" class="variable">spl_stake_pool_task</dd>
                <dd id="OracleJob.Task.spl_token_parse_task" class="variable">spl_token_parse_task</dd>
                <dd id="OracleJob.Task.uniswap_exchange_rate_task" class="variable">uniswap_exchange_rate_task</dd>
                <dd id="OracleJob.Task.sushiswap_exchange_rate_task" class="variable">sushiswap_exchange_rate_task</dd>
                <dd id="OracleJob.Task.pancakeswap_exchange_rate_task" class="variable">pancakeswap_exchange_rate_task</dd>
                <dd id="OracleJob.Task.cache_task" class="variable">cache_task</dd>
                <dd id="OracleJob.Task.sysclock_offset_task" class="variable">sysclock_offset_task</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="PermissionAccount">
                                <div class="attr class">
        <a class="headerlink" href="#PermissionAccount">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">PermissionAccount</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">PermissionAccount</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;A Switchboard account representing a permission or privilege granted by one</span>
<span class="sd">    account signer to another account.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        program (anchor.Program): The anchor program ref</span>
<span class="sd">        public_key (PublicKey | None): This permission&#39;s public key</span>
<span class="sd">        keypair (Keypair | None): this permission&#39;s keypair</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
    

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if a specific permission is enabled on this permission account</span>

<span class="sd">    Args:</span>
<span class="sd">        permission (SwitchboardPermissionValue)</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: whether or not the permission is enabled</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">is_permission_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">permission</span><span class="p">:</span> <span class="n">SwitchboardPermissionValue</span><span class="p">):</span>
        <span class="n">perm_data</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">permissions</span> <span class="o">=</span> <span class="n">perm_data</span><span class="o">.</span><span class="n">permissions</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">permissions</span> <span class="o">&amp;</span> <span class="n">permission</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and parse PermissionAccount data based on the program IDL</span>

<span class="sd">    Args:</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        PermissionAccount</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">PermissionAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the size of a PermissionAccount on chain</span>

<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: size of the PermissionAccount type on chain</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;PermissionAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create and initialize a PermissionAccount</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchor.Program)</span>
<span class="sd">        prarams (PermissionInitParams)</span>

<span class="sd">    Returns:</span>
<span class="sd">        PermissionAccount</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">PermissionInitParams</span><span class="p">):</span>
        <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">granter</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">grantee</span>
        <span class="p">)</span>

        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;permission_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;permission_bump&quot;</span><span class="p">:</span> <span class="n">permission_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
                    <span class="s2">&quot;granter&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">granter</span><span class="p">,</span>
                    <span class="s2">&quot;grantee&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">grantee</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">permission_account</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads a PermissionAccount from the expected PDA seed format</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchorpy.Program)</span>
<span class="sd">        authority (public_key): The authority pubkey to be incorporated into the account seed.</span>
<span class="sd">        granter (public_key): The granter pubkey to be incorporated into the account seed.</span>
<span class="sd">        grantee (public_key): The grantee pubkey to be incorporated into the account seed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[PermissionAccount, int]: PermissionAccount and PDA bump</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">,</span> <span class="n">granter</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">,</span> <span class="n">grantee</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">):</span>
        <span class="n">pubkey</span><span class="p">,</span> <span class="n">bump</span> <span class="o">=</span> <span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;PermissionAccountData&#39;</span><span class="p">),</span> 
                <span class="nb">bytes</span><span class="p">(</span><span class="n">authority</span><span class="p">),</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="n">granter</span><span class="p">),</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="n">grantee</span><span class="p">)</span>
            <span class="p">],</span>
            <span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
        <span class="p">)</span>
    
        <span class="k">return</span> <span class="n">PermissionAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">pubkey</span><span class="p">)),</span> <span class="n">bump</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the permission in the PermissionAccount</span>

<span class="sd">    Args: </span>
<span class="sd">        params (PermissionSetParams)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">PermissionSetParams</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;permission_set&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">type</span><span class="p">[</span><span class="s2">&quot;SwitchboardPermission&quot;</span><span class="p">][</span><span class="n">params</span><span class="o">.</span><span class="n">permission</span><span class="p">](),</span>
                <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="o">.</span><span class="n">public_key</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>A Switchboard account representing a permission or privilege granted by one
account signer to another account.</p>

<p>Attributes:
    program (anchor.Program): The anchor program ref
    public_key (PublicKey | None): This permission's public key
    keypair (Keypair | None): this permission's keypair</p>
</div>


                            <div id="PermissionAccount.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionAccount.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">PermissionAccount</span><span class="signature">(params: <a href="#AccountParams">switchboardpy.AccountParams</a>)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PermissionAccount.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PermissionAccount.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span>
    </div>

    
            <div class="docstring"><p>Check if a specific permission is enabled on this permission account</p>

<p>Args:
    permission (SwitchboardPermissionValue)</p>

<p>Returns:
    bool: whether or not the permission is enabled</p>
</div>


                            </div>
                            <div id="PermissionAccount.is_permission_enabled" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionAccount.is_permission_enabled">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">is_permission_enabled</span><span class="signature">(
    self,
    permission: switchboardpy.permission.SwitchboardPermissionValue
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">is_permission_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">permission</span><span class="p">:</span> <span class="n">SwitchboardPermissionValue</span><span class="p">):</span>
        <span class="n">perm_data</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">permissions</span> <span class="o">=</span> <span class="n">perm_data</span><span class="o">.</span><span class="n">permissions</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">permissions</span> <span class="o">&amp;</span> <span class="n">permission</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PermissionAccount.load_data" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionAccount.load_data">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_data</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">PermissionAccountData</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PermissionAccount.size" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionAccount.size">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">size</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;PermissionAccountData&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PermissionAccount.create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionAccount.create">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">async def</span>
            <span class="name">create</span><span class="signature">(
    program: anchorpy.program.core.Program,
    params: <a href="#PermissionInitParams">switchboardpy.PermissionInitParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">PermissionInitParams</span><span class="p">):</span>
        <span class="n">permission_account</span><span class="p">,</span> <span class="n">permission_bump</span> <span class="o">=</span> <span class="n">PermissionAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span>
            <span class="n">program</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">granter</span><span class="p">,</span>
            <span class="n">params</span><span class="o">.</span><span class="n">grantee</span>
        <span class="p">)</span>

        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;permission_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;permission_bump&quot;</span><span class="p">:</span> <span class="n">permission_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="n">permission_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="p">,</span>
                    <span class="s2">&quot;granter&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">granter</span><span class="p">,</span>
                    <span class="s2">&quot;grantee&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">grantee</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">permission_account</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PermissionAccount.from_seed" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionAccount.from_seed">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">from_seed</span><span class="signature">(
    program: anchorpy.program.core.Program,
    authority: solana.publickey.PublicKey,
    granter: solana.publickey.PublicKey,
    grantee: solana.publickey.PublicKey
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">,</span> <span class="n">granter</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">,</span> <span class="n">grantee</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">):</span>
        <span class="n">pubkey</span><span class="p">,</span> <span class="n">bump</span> <span class="o">=</span> <span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;PermissionAccountData&#39;</span><span class="p">),</span> 
                <span class="nb">bytes</span><span class="p">(</span><span class="n">authority</span><span class="p">),</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="n">granter</span><span class="p">),</span>
                <span class="nb">bytes</span><span class="p">(</span><span class="n">grantee</span><span class="p">)</span>
            <span class="p">],</span>
            <span class="n">program</span><span class="o">.</span><span class="n">program_id</span>
        <span class="p">)</span>
    
        <span class="k">return</span> <span class="n">PermissionAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">pubkey</span><span class="p">)),</span> <span class="n">bump</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PermissionAccount.set" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionAccount.set">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">set</span><span class="signature">(self, params: <a href="#PermissionSetParams">switchboardpy.PermissionSetParams</a>)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">PermissionSetParams</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;permission_set&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">type</span><span class="p">[</span><span class="s2">&quot;SwitchboardPermission&quot;</span><span class="p">][</span><span class="n">params</span><span class="o">.</span><span class="n">permission</span><span class="p">](),</span>
                <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="o">.</span><span class="n">public_key</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;permission&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="o">.</span><span class="n">public_key</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="PermissionInitParams">
                                <div class="attr class">
        <a class="headerlink" href="#PermissionInitParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">PermissionInitParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">PermissionInitParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Pubkey of the account granting the permission&quot;&quot;&quot;</span>
    <span class="n">granter</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;The receiving amount of a permission&quot;&quot;&quot;</span>
    <span class="n">grantee</span><span class="p">:</span> <span class="n">PublicKey</span>

    <span class="sd">&quot;&quot;&quot;The authority that is allowed to set permissions for this account&quot;&quot;&quot;</span>
    <span class="n">authority</span><span class="p">:</span> <span class="n">PublicKey</span>
</pre></div>

        </details>

            <div class="docstring"><p>Pubkey of the account granting the permission</p>
</div>


                            <div id="PermissionInitParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionInitParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">PermissionInitParams</span><span class="signature">(
    granter: solana.publickey.PublicKey,
    grantee: solana.publickey.PublicKey,
    authority: solana.publickey.PublicKey
)</span>
    </div>

    
    

                            </div>
                            <div id="PermissionInitParams.granter" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PermissionInitParams.granter">#&nbsp;&nbsp</a>

        <span class="name">granter</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>The receiving amount of a permission</p>
</div>


                            </div>
                            <div id="PermissionInitParams.grantee" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PermissionInitParams.grantee">#&nbsp;&nbsp</a>

        <span class="name">grantee</span><span class="annotation">: solana.publickey.PublicKey</span>
    </div>

    
            <div class="docstring"><p>The authority that is allowed to set permissions for this account</p>
</div>


                            </div>
                </section>
                <section id="PermissionSetParams">
                                <div class="attr class">
        <a class="headerlink" href="#PermissionSetParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">PermissionSetParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">PermissionSetParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;The permission to set&quot;&quot;&quot;</span>
    <span class="n">permission</span><span class="p">:</span> <span class="n">SwitchboardPermission</span>

    <span class="sd">&quot;&quot;&quot;The authority controlling this permission&quot;&quot;&quot;</span>
    <span class="n">authority</span><span class="p">:</span> <span class="n">Keypair</span>

    <span class="sd">&quot;&quot;&quot;Specifies whether to enable or disable the permission&quot;&quot;&quot;</span>
    <span class="n">enable</span><span class="p">:</span> <span class="nb">bool</span>
</pre></div>

        </details>

            <div class="docstring"><p>The permission to set</p>
</div>


                            <div id="PermissionSetParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionSetParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">PermissionSetParams</span><span class="signature">(
    permission: switchboardpy.permission.SwitchboardPermission,
    authority: solana.keypair.Keypair,
    enable: bool
)</span>
    </div>

    
    

                            </div>
                            <div id="PermissionSetParams.permission" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PermissionSetParams.permission">#&nbsp;&nbsp</a>

        <span class="name">permission</span><span class="annotation">: switchboardpy.permission.SwitchboardPermission</span>
    </div>

    
            <div class="docstring"><p>The authority controlling this permission</p>
</div>


                            </div>
                            <div id="PermissionSetParams.authority" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PermissionSetParams.authority">#&nbsp;&nbsp</a>

        <span class="name">authority</span><span class="annotation">: solana.keypair.Keypair</span>
    </div>

    
            <div class="docstring"><p>Specifies whether to enable or disable the permission</p>
</div>


                            </div>
                </section>
                <section id="ProgramStateAccount">
                                <div class="attr class">
        <a class="headerlink" href="#ProgramStateAccount">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">ProgramStateAccount</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ProgramStateAccount</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Account type representing Switchboard global program state.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        program (anchor.Program): The anchor program ref</span>
<span class="sd">        public_key (PublicKey | None): This program&#39;s public key</span>
<span class="sd">        keypair (Keypair | None): this program&#39;s keypair</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructs ProgramStateAccount from the static seed from which it was generated.</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchorpy.Program): Anchor-loaded aggregator</span>

<span class="sd">    Returns:</span>
<span class="sd">        ProgramStateAccount and PDA bump tuple.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">):</span>
        <span class="n">state_pubkey</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">publickey</span><span class="o">.</span><span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">([</span><span class="s1">&#39;STATE&#39;</span><span class="o">.</span><span class="n">encode</span><span class="p">()],</span> <span class="n">program</span><span class="o">.</span><span class="n">program_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ProgramStateAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">state_pubkey</span><span class="p">)),</span> <span class="n">state_bump</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and parse ProgramStateAccount state based on the program IDL. </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        name (Any): data parsed in accordance with the</span>
<span class="sd">            Switchboard IDL.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AccountDoesNotExistError: If the account doesn&#39;t exist.</span>
<span class="sd">        AccountInvalidDiscriminator: If the discriminator doesn&#39;t match the IDL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">SbState</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>


    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch the Switchboard token mint specified in the program state account.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        anchorpy.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_token_mint</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncToken</span><span class="p">:</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">switch_token_mint</span> <span class="o">=</span> <span class="n">AsyncToken</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">token_mint</span><span class="p">,</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span> <span class="n">payer_keypair</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">switch_token_mint</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the size of the global ProgramStateAccount on chain</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        int: size of the ProgramStateAccount on chain </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;SbState&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create and initialize the ProgramStateAccount</span>

<span class="sd">    Args:</span>
<span class="sd">        program (anchorpy.Program): anchor program</span>
<span class="sd">        params (ProgramInitParams): optionally pass in mint address</span>

<span class="sd">    Returns:</span>
<span class="sd">        ProgramStateAccount that was generated</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">ProgramInitParams</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">psa</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">psa</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">psa</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="n">mint</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">vault</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">mint</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">decimals</span> <span class="o">=</span> <span class="mi">9</span>
            <span class="n">mint</span><span class="p">,</span> <span class="n">vault</span> <span class="o">=</span> <span class="k">await</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">create_mint_and_vault</span><span class="p">(</span>
                <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                <span class="mi">100_000_000</span><span class="p">,</span>
                <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="n">decimals</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mint</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">mint</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">AsyncToken</span><span class="p">(</span>
                <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span>
                <span class="n">mint</span><span class="p">,</span>
                <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                <span class="n">payer_keypair</span>
            <span class="p">)</span>
            <span class="n">vault</span> <span class="o">=</span> <span class="k">await</span> <span class="n">token</span><span class="o">.</span><span class="n">create_account</span><span class="p">(</span><span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;program_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_mint&quot;</span><span class="p">:</span> <span class="n">mint</span><span class="p">,</span>
                    <span class="s2">&quot;vault&quot;</span><span class="p">:</span> <span class="n">vault</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span>
                <span class="p">},</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transfer N tokens from the program vault to a specified account.</span>

<span class="sd">    Args:</span>
<span class="sd">        to (PublicKey): The recipient of the vault tokens.</span>
<span class="sd">        authority (Keypair): The vault authority required to sign the transfer tx</span>
<span class="sd">        params (VaultTransferParams): Specifies the amount to transfer.</span>
<span class="sd">  </span>
<span class="sd">    Returns:</span>
<span class="sd">        TransactionSignature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">vault_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="n">Keypair</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">VaultTransferParams</span><span class="p">):</span>
        <span class="n">state_pubkey</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">vault</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">token_vault</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;vault_transfer&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">amount</span> <span class="c1"># @FIXME - can&#39;t be a decimal, must have mantissa / scale</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">state_pubkey</span><span class="p">,</span>
                    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="n">to</span><span class="p">,</span>
                    <span class="s2">&quot;vault&quot;</span><span class="p">:</span> <span class="n">vault</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Account type representing Switchboard global program state.</p>

<p>Attributes:
    program (anchor.Program): The anchor program ref
    public_key (PublicKey | None): This program's public key
    keypair (Keypair | None): this program's keypair</p>
</div>


                            <div id="ProgramStateAccount.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ProgramStateAccount.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">ProgramStateAccount</span><span class="signature">(params: <a href="#AccountParams">switchboardpy.AccountParams</a>)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">AccountParams</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="o">!=</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;User must provide either a publicKey or keypair for account use.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span><span class="o">.</span><span class="n">public_key</span> <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span> <span class="k">else</span> <span class="n">params</span><span class="o">.</span><span class="n">public_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keypair</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">keypair</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="ProgramStateAccount.keypair" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ProgramStateAccount.keypair">#&nbsp;&nbsp</a>

        <span class="name">keypair</span>
    </div>

    
            <div class="docstring"><p>Constructs ProgramStateAccount from the static seed from which it was generated.</p>

<p>Args:
    program (anchorpy.Program): Anchor-loaded aggregator</p>

<p>Returns:
    ProgramStateAccount and PDA bump tuple.</p>
</div>


                            </div>
                            <div id="ProgramStateAccount.from_seed" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ProgramStateAccount.from_seed">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">from_seed</span><span class="signature">(program: anchorpy.program.core.Program)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">):</span>
        <span class="n">state_pubkey</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">publickey</span><span class="o">.</span><span class="n">PublicKey</span><span class="o">.</span><span class="n">find_program_address</span><span class="p">([</span><span class="s1">&#39;STATE&#39;</span><span class="o">.</span><span class="n">encode</span><span class="p">()],</span> <span class="n">program</span><span class="o">.</span><span class="n">program_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ProgramStateAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">state_pubkey</span><span class="p">)),</span> <span class="n">state_bump</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="ProgramStateAccount.load_data" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ProgramStateAccount.load_data">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_data</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">SbState</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="ProgramStateAccount.get_token_mint" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ProgramStateAccount.get_token_mint">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">get_token_mint</span><span class="signature">(self) -&gt; spl.token.async_client.AsyncToken</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_token_mint</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncToken</span><span class="p">:</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">switch_token_mint</span> <span class="o">=</span> <span class="n">AsyncToken</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">token_mint</span><span class="p">,</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span> <span class="n">payer_keypair</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">switch_token_mint</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="ProgramStateAccount.size" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ProgramStateAccount.size">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">size</span><span class="signature">(self)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">account</span><span class="p">[</span><span class="s2">&quot;SbState&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="ProgramStateAccount.create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ProgramStateAccount.create">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">async def</span>
            <span class="name">create</span><span class="signature">(
    program: anchorpy.program.core.Program,
    params: <a href="#ProgramInitParams">switchboardpy.ProgramInitParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">ProgramInitParams</span><span class="p">):</span>
        <span class="n">payer_keypair</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_secret_key</span><span class="p">(</span><span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">payer</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="n">state_account</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
        <span class="n">psa</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="p">(</span><span class="n">AccountParams</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="n">program</span><span class="p">,</span> <span class="n">public_key</span><span class="o">=</span><span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">psa</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">psa</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="n">mint</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">vault</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">mint</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">decimals</span> <span class="o">=</span> <span class="mi">9</span>
            <span class="n">mint</span><span class="p">,</span> <span class="n">vault</span> <span class="o">=</span> <span class="k">await</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">create_mint_and_vault</span><span class="p">(</span>
                <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                <span class="mi">100_000_000</span><span class="p">,</span>
                <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                <span class="n">decimals</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mint</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">mint</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">AsyncToken</span><span class="p">(</span>
                <span class="n">program</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span>
                <span class="n">mint</span><span class="p">,</span>
                <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                <span class="n">payer_keypair</span>
            <span class="p">)</span>
            <span class="n">vault</span> <span class="o">=</span> <span class="k">await</span> <span class="n">token</span><span class="o">.</span><span class="n">create_account</span><span class="p">(</span><span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;program_init&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">state_account</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_mint&quot;</span><span class="p">:</span> <span class="n">mint</span><span class="p">,</span>
                    <span class="s2">&quot;vault&quot;</span><span class="p">:</span> <span class="n">vault</span><span class="p">,</span>
                    <span class="s2">&quot;payer&quot;</span><span class="p">:</span> <span class="n">payer_keypair</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;system_program&quot;</span><span class="p">:</span> <span class="n">system_program</span><span class="o">.</span><span class="n">SYS_PROGRAM_ID</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span>
                <span class="p">},</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="ProgramStateAccount.vault_transfer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ProgramStateAccount.vault_transfer">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">vault_transfer</span><span class="signature">(
    self,
    to: solana.publickey.PublicKey,
    authority: solana.keypair.Keypair,
    params: <a href="#VaultTransferParams">switchboardpy.VaultTransferParams</a>
)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">vault_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to</span><span class="p">:</span> <span class="n">PublicKey</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="n">Keypair</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">VaultTransferParams</span><span class="p">):</span>
        <span class="n">state_pubkey</span><span class="p">,</span> <span class="n">state_bump</span> <span class="o">=</span> <span class="n">ProgramStateAccount</span><span class="o">.</span><span class="n">from_seed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="n">vault</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">token_vault</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">rpc</span><span class="p">[</span><span class="s2">&quot;vault_transfer&quot;</span><span class="p">](</span>
            <span class="p">{</span>
                <span class="s2">&quot;state_bump&quot;</span><span class="p">:</span> <span class="n">state_bump</span><span class="p">,</span>
                <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">amount</span> <span class="c1"># @FIXME - can&#39;t be a decimal, must have mantissa / scale</span>
            <span class="p">},</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">anchorpy</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span>
                <span class="n">accounts</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">state_pubkey</span><span class="p">,</span>
                    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="n">to</span><span class="p">,</span>
                    <span class="s2">&quot;vault&quot;</span><span class="p">:</span> <span class="n">vault</span><span class="p">,</span>
                    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="n">authority</span><span class="o">.</span><span class="n">public_key</span><span class="p">,</span>
                    <span class="s2">&quot;token_program&quot;</span><span class="p">:</span> <span class="n">TOKEN_PROGRAM_ID</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">signers</span><span class="o">=</span><span class="p">[</span><span class="n">authority</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="ProgramInitParams">
                                <div class="attr class">
        <a class="headerlink" href="#ProgramInitParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">ProgramInitParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ProgramInitParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Optional token mint&quot;&quot;&quot;</span>
    <span class="n">mint</span><span class="p">:</span> <span class="n">PublicKey</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Optional token mint</p>
</div>


                            <div id="ProgramInitParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ProgramInitParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">ProgramInitParams</span><span class="signature">(mint: solana.publickey.PublicKey = None)</span>
    </div>

    
    

                            </div>
                            <div id="ProgramInitParams.mint" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ProgramInitParams.mint">#&nbsp;&nbsp</a>

        <span class="name">mint</span><span class="annotation">: solana.publickey.PublicKey</span><span class="default_value"> = None</span>
    </div>

    
    

                            </div>
                </section>
                <section id="VaultTransferParams">
                                <div class="attr class">
        <a class="headerlink" href="#VaultTransferParams">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">VaultTransferParams</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">VaultTransferParams</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Amount being transferred&quot;&quot;&quot;</span>
    <span class="n">amount</span><span class="p">:</span> <span class="n">Decimal</span>
</pre></div>

        </details>

            <div class="docstring"><p>Amount being transferred</p>
</div>


                            <div id="VaultTransferParams.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#VaultTransferParams.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">VaultTransferParams</span><span class="signature">(amount: decimal.Decimal)</span>
    </div>

    
    

                            </div>
                </section>
                <section id="SwitchboardDecimal">
                                <div class="attr class">
        <a class="headerlink" href="#SwitchboardDecimal">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">SwitchboardDecimal</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SwitchboardDecimal</span><span class="p">:</span>
    <span class="n">mantissa</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">scale</span><span class="p">:</span> <span class="nb">int</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert BN.js style num and return SwitchboardDecimal</span>

<span class="sd">    Args:</span>
<span class="sd">        obj (Any): Object with integer fields scale and mantissa (hex val)</span>

<span class="sd">    Returns:</span>
<span class="sd">        sbd (SwitchboardDecimal): SwitchboardDecimal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">fromObj</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">SwitchboardDecimal</span><span class="p">(</span>
            <span class="n">mantissa</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="n">mantissa</span><span class="p">,</span>
            <span class="n">scale</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="n">scale</span>
        <span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">to_decimal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sbd</span><span class="p">:</span> <span class="nb">object</span><span class="p">):</span>
        <span class="n">mantissa</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">sbd</span><span class="o">.</span><span class="n">mantissa</span><span class="p">)</span>
        <span class="n">scale</span> <span class="o">=</span> <span class="n">sbd</span><span class="o">.</span><span class="n">scale</span>
        <span class="k">return</span> <span class="n">mantissa</span> <span class="o">/</span> <span class="n">Decimal</span><span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="n">scale</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_decimal</span><span class="p">(</span><span class="n">dec</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">):</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">digits</span><span class="p">,</span> <span class="n">exponent</span> <span class="o">=</span> <span class="n">dec</span><span class="o">.</span><span class="n">as_tuple</span><span class="p">()</span>
        <span class="n">integer</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">rst</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">rst</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="n">digits</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SwitchboardDecimal</span><span class="p">(</span><span class="n">integer</span><span class="p">,</span> <span class="n">exponent</span><span class="p">)</span>

    <span class="c1"># convert any switchboard-decimal-like object to a decimal</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">sbd_to_decimal</span><span class="p">(</span><span class="n">sbd</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="n">mantissa</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">sbd</span><span class="o">.</span><span class="n">mantissa</span><span class="p">)</span>
        <span class="n">scale</span> <span class="o">=</span> <span class="n">sbd</span><span class="o">.</span><span class="n">scale</span>
        <span class="k">return</span> <span class="n">mantissa</span> <span class="o">/</span> <span class="n">Decimal</span><span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="n">scale</span><span class="p">)</span>

    <span class="c1"># for sending as argument in transaction</span>
    <span class="k">def</span> <span class="nf">as_proper_sbd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">program</span><span class="o">.</span><span class="n">type</span><span class="p">[</span><span class="s1">&#39;SwitchboardDecimal&#39;</span><span class="p">](</span><span class="bp">self</span><span class="o">.</span><span class="n">mantissa</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__o</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">__o</span><span class="p">,</span> <span class="s1">&#39;mantissa&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">__o</span><span class="p">,</span> <span class="s1">&#39;scale&#39;</span><span class="p">)):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mantissa</span> <span class="o">==</span> <span class="n">__o</span><span class="o">.</span><span class="n">mantissa</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">==</span> <span class="n">__o</span><span class="o">.</span><span class="n">scale</span>
</pre></div>

        </details>

            <div class="docstring"><p>SwitchboardDecimal(mantissa: int, scale: int)</p>
</div>


                            <div id="SwitchboardDecimal.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SwitchboardDecimal.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">SwitchboardDecimal</span><span class="signature">(mantissa: int, scale: int)</span>
    </div>

    
    

                            </div>
                            <div id="SwitchboardDecimal.scale" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SwitchboardDecimal.scale">#&nbsp;&nbsp</a>

        <span class="name">scale</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>Convert BN.js style num and return SwitchboardDecimal</p>

<p>Args:
    obj (Any): Object with integer fields scale and mantissa (hex val)</p>

<p>Returns:
    sbd (SwitchboardDecimal): SwitchboardDecimal</p>
</div>


                            </div>
                            <div id="SwitchboardDecimal.fromObj" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SwitchboardDecimal.fromObj">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">fromObj</span><span class="signature">(obj: Any)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">fromObj</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">SwitchboardDecimal</span><span class="p">(</span>
            <span class="n">mantissa</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="n">mantissa</span><span class="p">,</span>
            <span class="n">scale</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="n">scale</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SwitchboardDecimal.to_decimal" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SwitchboardDecimal.to_decimal">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">to_decimal</span><span class="signature">(self, sbd: object)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">to_decimal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sbd</span><span class="p">:</span> <span class="nb">object</span><span class="p">):</span>
        <span class="n">mantissa</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">sbd</span><span class="o">.</span><span class="n">mantissa</span><span class="p">)</span>
        <span class="n">scale</span> <span class="o">=</span> <span class="n">sbd</span><span class="o">.</span><span class="n">scale</span>
        <span class="k">return</span> <span class="n">mantissa</span> <span class="o">/</span> <span class="n">Decimal</span><span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="n">scale</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SwitchboardDecimal.from_decimal" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SwitchboardDecimal.from_decimal">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">from_decimal</span><span class="signature">(dec: decimal.Decimal)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_decimal</span><span class="p">(</span><span class="n">dec</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">):</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">digits</span><span class="p">,</span> <span class="n">exponent</span> <span class="o">=</span> <span class="n">dec</span><span class="o">.</span><span class="n">as_tuple</span><span class="p">()</span>
        <span class="n">integer</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">rst</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">rst</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="n">digits</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SwitchboardDecimal</span><span class="p">(</span><span class="n">integer</span><span class="p">,</span> <span class="n">exponent</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SwitchboardDecimal.sbd_to_decimal" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SwitchboardDecimal.sbd_to_decimal">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">sbd_to_decimal</span><span class="signature">(sbd: object) -&gt; decimal.Decimal</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">sbd_to_decimal</span><span class="p">(</span><span class="n">sbd</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="n">mantissa</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">sbd</span><span class="o">.</span><span class="n">mantissa</span><span class="p">)</span>
        <span class="n">scale</span> <span class="o">=</span> <span class="n">sbd</span><span class="o">.</span><span class="n">scale</span>
        <span class="k">return</span> <span class="n">mantissa</span> <span class="o">/</span> <span class="n">Decimal</span><span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="n">scale</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SwitchboardDecimal.as_proper_sbd" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SwitchboardDecimal.as_proper_sbd">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">as_proper_sbd</span><span class="signature">(self, program: anchorpy.program.core.Program)</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">as_proper_sbd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">program</span><span class="p">:</span> <span class="n">anchorpy</span><span class="o">.</span><span class="n">Program</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">program</span><span class="o">.</span><span class="n">type</span><span class="p">[</span><span class="s1">&#39;SwitchboardDecimal&#39;</span><span class="p">](</span><span class="bp">self</span><span class="o">.</span><span class="n">mantissa</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="readRawVarint32">
                                <div class="attr variable"><a class="headerlink" href="#readRawVarint32">#&nbsp;&nbsp</a>

        <span class="name">readRawVarint32</span>
    </div>

    
    

                </section>
                <section id="readDelimitedFrom">
                                <div class="attr variable"><a class="headerlink" href="#readDelimitedFrom">#&nbsp;&nbsp</a>

        <span class="name">readDelimitedFrom</span>
    </div>

    
    

                </section>
    </main>
</body>
</html>